<!DOCTYPE html>
<html lang="en">


<!-- Mirrored from hapifhir.io/hapi-fhir/docs/introduction/changelog_2018.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 01 Dec 2021 23:59:36 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
	<title>Changelog: 2018 - HAPI FHIR Documentation</title>

	

	<!-- required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- objectgraph -->
	

	<!-- Favicon -->
	<link rel="icon" href="https://smilecdr.com/favicon.ico">

	<!-- font, icons -->
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

	<!-- jquery, bootstrap script for dropdown and hover-->
	<script src="../../resources/jquery/dist/jquery.min.js"></script>
	<script src="../../resources/popper.js/dist/umd/popper.min.js"></script>
	<script src="../../resources/bootstrap/dist/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="../../resources/bootstrap/dist/css/bootstrap.min.css"/>

	<!-- fontawesome -->
	<script src="../../resources/font-awesome/js/all.min.js" data-auto-replace-svg="nest"></script>
	<link rel="stylesheet" media="screen" href="../../resources/font-awesome/css/fontawesome.min.css" />

	<!-- Clipboard.js -->
	<script src="../../resources/clipboard.js/clipboard.min.js"></script>

	
	<script src="../../resources/prismjs/prism.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-bash.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-http.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-java.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-javascript.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-json.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-nginx.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-properties.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-sql.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/plugins/toolbar/prism-toolbar.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/plugins/command-line/prism-command-line.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/plugins/line-numbers/prism-line-numbers.js" type="text/javascript"></script>
	<link href="../../resources/prismjs/themes/prism.css" rel="stylesheet" type="text/css"/>
	<link href="../../resources/prismjs/themes/prism-coy.css" rel="stylesheet" type="text/css"/>
	<link href="../../resources/prismjs/plugins/toolbar/prism-toolbar.css" rel="stylesheet" type="text/css"/>
	<link href="../../resources/prismjs/plugins/line-numbers/prism-line-numbers.css" rel="stylesheet" type="text/css"/>

	<link rel="stylesheet" type="text/css" href="../../css/hapifhir.css">




	<!-- css sheet -->
	<link href="../../resources/cdr-web-resources/css/help-common.css" rel="stylesheet" type="text/css"/>
	<link href="../../css/pages.css" rel="stylesheet" type="text/css"/>
	<link href="../../css/docs.css" rel="stylesheet" type="text/css"/>

</head>

<body>

	
	<header class="header" id="header">
		<nav class="navbar fixed-top navbar-expand-sm navbar-light navbar-greyshadow">
			<a class="navbar-brand text-center" href="https://hapifhir.io/hapi-fhir/" title="Home">
				
				<img src="../../images/logos/small-logo.png" alt="HAPI FHIR logo" width="156" id="collapsed-logo">
			</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<script type="application/javascript">
				$(function(){
					$(".dropdown").hover(
						function() {
							if ($( window ).width() >= 960) {
								$('.dropdown-menu', this).stop(true, true).fadeIn("fast");
								$(this).toggleClass('open');
								$('b', this).toggleClass("caret caret-up");
							} else {
								$('.dropdown-menu', this).css("display", "");
							}
						},
						function() {
							if ($( window ).width() >= 960) {
								$('.dropdown-menu', this).stop(true, true).fadeOut("fast");
								$(this).toggleClass('open');
								$('b', this).toggleClass("caret caret-up");
							}
						});
				});
			</script>

			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="nav navbar-nav ml-auto nav-text">
					<li class="nav-item"><a class="nav-link" href="https://smilecdr.com/">Support</a></li>
					<li class="nav-item"><a class="nav-link" target="_blank" href="https://github.com/jamesagnew/hapi-fhir">Github</a></li>
					<li class="nav-item"><a class="nav-link" href="https://hapifhir.io/hapi-fhir/blog/">News</a></li>
					<li class="nav-item"><a class="nav-link" href="../index.html">Documentation</a></li>
					<li class="nav-item dropdown">
						<a class="nav-link nav-link-dropdown" data-toggle="dropdown" id="navbarGETHELP" href="#">Get Help <i class="nav-chevron fas fa-chevron-down"></i></a>
						<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarGETHELP" id="navbarGETHELPDIV">
							<a href="https://github.com/jamesagnew/hapi-fhir/wiki/Getting-Help" class="dropdown-item">Getting Help (read this first!)</a>
							<a href="https://groups.google.com/d/forum/hapi-fhir" class="dropdown-item">Google Group (ask questions)</a>
							<a href="https://github.com/jamesagnew/hapi-fhir/issues" class="dropdown-item">Issue Tracker (report bugs/request features)</a>
							<a href="https://chat.fhir.org/" class="dropdown-item">chat.fhir.org (live chat with FHIR implementers)</a>
							<a href="../appendix/faq.html" class="dropdown-item">Frequently Asked Questions (FAQ)</a>
						</div>
					</li>
					<li class="nav-item dropdown">
						<a class="nav-link nav-link-dropdown" data-toggle="dropdown" id="navbarTESTSERVERS" href="#">Test Server <i class="nav-chevron fas fa-chevron-down"></i></a>
						<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarTESTSERVERS" id="navbarTESTSERVERSDIV">
							<a href="http://hapi.fhir.org/" class="dropdown-item">HAPI FHIR Public Test Server</a>
						</div>
					</li>

				</ul>
			</div>
		</nav>
	</header>

	
	<script>
		var scrollAfter = 10;
	</script>

	



	<!-- "Scroll up the the search box" button -->
	<button class="btn btn-secondary hide-sm-and-below button-scroll-up-to-search"
			  onclick="$('#navcolumn').scrollTop(0); $('#button-ftsearch').focus();">
		Search&nbsp;<i class="fa fa-search"></i>
	</button>

	<!-- Right column with the in-page TOC (not visible on mobile) -->
	<div class="rightNavContainer hide-sm-and-below" id="pageNav">
		<nav id="toc"></nav>
	</div>

	<div class="container-fluid grid">
		<div class="row">
			
			<div class="hide-sm-and-below col-md-3 primaryColumn" id="navcolumn">
				<div>
					<div class="index-sidebar" id="side-nav">

						<!-- Fullltext Search box -->
						<div class="input-group">
							<input type="text" class="form-control" placeholder="Search" aria-label="Search"
									 aria-describedby="button-ftsearch-clear" style="margin-top: 0px;" id="button-ftsearch">
							<div class="input-group-append">
								<button class="btn btn-outline-info" type="button" id="button-ftsearch-clear"
										  onclick="javascript: $('#button-ftsearch').val(''); delayFunction(updateSearchFunction, 500);">
									<i class="fa fa-times-circle"></i>
								</button>
							</div>
							<script type="application/javascript">
								var delayFunction = (function () {
									var timer = 0;
									return function (callback, ms) {
										if (!$('#button-ftsearch').val()) {
											$('#leftTocSearchResults').hide();
											$('#leftTocView').show();
										} else {
											$('#leftTocView').hide();
											$('#leftTocSearchResults').show();
											$('#leftTocSearchResults').empty();
											$('#leftTocSearchResults').append($('<i class="fa fa-spinner fa-spin" style="margin-top: 20px; font-size:24px;"></i>'));
										}
										clearTimeout(timer);
										timer = setTimeout(callback, ms);
									};
								})();

								function updateSearchFunction() {
									if (!$('#button-ftsearch').val()) {
										$('#leftTocSearchResults').hide();
										$('#leftTocView').show();
									} else {
										$('#leftTocView').hide();
										$('#leftTocSearchResults').show();
										$.get("/hapi-fhir/docsearch", {
											term: $('#button-ftsearch').val()
										}, function (data) {
											$('#leftTocSearchResults').empty();

											let leftTocUl = null;
											let leftTocHeader = null;
											for (var idx = 0; idx < data.length; idx++) {
												if (leftTocHeader == null || leftTocHeader.text() !== data[idx].sectionTitle) {
													leftTocHeader = $('<h3>');
													leftTocHeader.text(data[idx].sectionTitle);
													$('#leftTocSearchResults').append(leftTocHeader);
													leftTocUl = $('<ul>');
													$('#leftTocSearchResults').append(leftTocUl);
												}
												let nextLink = $('<a>', {
													href: "/hapi-fhir/docs/" + data[idx].page + ".html"
												});
												nextLink.text(data[idx].title);

												let nextLinkLi = $('<li>').append(nextLink);
												leftTocUl.append(nextLinkLi);
											}
										}, 'json');
									}
								}

								$('#button-ftsearch').keyup(function () {
									delayFunction(updateSearchFunction, 500);
								});

								// Clear the search box if the page is reloaded
								$(function () {
									$('#button-ftsearch').val('');
								});

							</script>
						</div>

						<div id="leftTocView">
							
								<h3 class="activechapter">
									Welcome to HAPI FHIR
								</h3>
								<ul>
									<li>
										<a href="table_of_contents.html">
											<span class="pull-left">Table of Contents</span>
											<span class="pull-right">1.0</span>
										</a>
									</li>
									<li>
										<a href="changelog.html">
											<span class="pull-left">Changelog: 2021</span>
											<span class="pull-right">1.1</span>
										</a>
									</li>
									<li>
										<a href="changelog_2020.html">
											<span class="pull-left">Changelog: 2020</span>
											<span class="pull-right">1.2</span>
										</a>
									</li>
									<li>
										<a href="changelog_2019.html">
											<span class="pull-left">Changelog: 2019</span>
											<span class="pull-right">1.3</span>
										</a>
									</li>
									<li class="active-side">
										<a href="changelog_2018.html">
											<span class="pull-left">Changelog: 2018</span>
											<span class="pull-right">1.4</span>
										</a>
									</li>
									<li>
										<a href="changelog_2017.html">
											<span class="pull-left">Changelog: 2017</span>
											<span class="pull-right">1.5</span>
										</a>
									</li>
									<li>
										<a href="changelog_2016.html">
											<span class="pull-left">Changelog: 2016</span>
											<span class="pull-right">1.6</span>
										</a>
									</li>
									<li>
										<a href="changelog_2015.html">
											<span class="pull-left">Changelog: 2015</span>
											<span class="pull-right">1.7</span>
										</a>
									</li>
									<li>
										<a href="changelog_2014.html">
											<span class="pull-left">Changelog: 2014</span>
											<span class="pull-right">1.8</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Getting Started
								</h3>
								<ul>
									<li>
										<a href="../getting_started/introduction.html">
											<span class="pull-left">Introduction</span>
											<span class="pull-right">2.0</span>
										</a>
									</li>
									<li>
										<a href="../getting_started/versions.html">
											<span class="pull-left">FHIR and HAPI FHIR Versions</span>
											<span class="pull-right">2.1</span>
										</a>
									</li>
									<li>
										<a href="../getting_started/modules.html">
											<span class="pull-left">HAPI FHIR Modules</span>
											<span class="pull-right">2.2</span>
										</a>
									</li>
									<li>
										<a href="../getting_started/downloading_and_importing.html">
											<span class="pull-left">Downloading and Importing</span>
											<span class="pull-right">2.3</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Working With The FHIR Model
								</h3>
								<ul>
									<li>
										<a href="../model/working_with_resources.html">
											<span class="pull-left">Working With Resources</span>
											<span class="pull-right">3.0</span>
										</a>
									</li>
									<li>
										<a href="../model/parsers.html">
											<span class="pull-left">Parsing and Serializing</span>
											<span class="pull-right">3.1</span>
										</a>
									</li>
									<li>
										<a href="../model/references.html">
											<span class="pull-left">Resource References</span>
											<span class="pull-right">3.2</span>
										</a>
									</li>
									<li>
										<a href="../model/profiles_and_extensions.html">
											<span class="pull-left">Profiles and Extensions</span>
											<span class="pull-right">3.3</span>
										</a>
									</li>
									<li>
										<a href="../model/converter.html">
											<span class="pull-left">Version Converters</span>
											<span class="pull-right">3.4</span>
										</a>
									</li>
									<li>
										<a href="../model/custom_structures.html">
											<span class="pull-left">Custom Structures</span>
											<span class="pull-right">3.5</span>
										</a>
									</li>
									<li>
										<a href="../model/narrative_generation.html">
											<span class="pull-left">Narrative Generation</span>
											<span class="pull-right">3.6</span>
										</a>
									</li>
									<li>
										<a href="../model/bundle_builder.html">
											<span class="pull-left">Bundle Builder</span>
											<span class="pull-right">3.7</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Client
								</h3>
								<ul>
									<li>
										<a href="../client/introduction.html">
											<span class="pull-left">Introduction</span>
											<span class="pull-right">4.0</span>
										</a>
									</li>
									<li>
										<a href="../client/get_started.html">
											<span class="pull-left">Get Started ⚡</span>
											<span class="pull-right">4.1</span>
										</a>
									</li>
									<li>
										<a href="../client/generic_client.html">
											<span class="pull-left">Generic (Fluent) Client</span>
											<span class="pull-right">4.2</span>
										</a>
									</li>
									<li>
										<a href="../client/annotation_client.html">
											<span class="pull-left">Annotation Client</span>
											<span class="pull-right">4.3</span>
										</a>
									</li>
									<li>
										<a href="../client/client_configuration.html">
											<span class="pull-left">Client Configuration</span>
											<span class="pull-right">4.4</span>
										</a>
									</li>
									<li>
										<a href="../client/examples.html">
											<span class="pull-left">Client Examples</span>
											<span class="pull-right">4.5</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Plain Server
								</h3>
								<ul>
									<li>
										<a href="../server_plain/server_types.html">
											<span class="pull-left">REST Server Types</span>
											<span class="pull-right">5.0</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/introduction.html">
											<span class="pull-left">Plain Server Introduction</span>
											<span class="pull-right">5.1</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/get_started.html">
											<span class="pull-left">Get Started ⚡</span>
											<span class="pull-right">5.2</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/resource_providers.html">
											<span class="pull-left">Resource Providers and Plain Providers</span>
											<span class="pull-right">5.3</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/rest_operations.html">
											<span class="pull-left">REST Operations: Overview</span>
											<span class="pull-right">5.4</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/rest_operations_search.html">
											<span class="pull-left">REST Operations: Search</span>
											<span class="pull-right">5.5</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/rest_operations_operations.html">
											<span class="pull-left">REST Operations: Extended Operations</span>
											<span class="pull-right">5.6</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/paging.html">
											<span class="pull-left">Paging Search Results</span>
											<span class="pull-right">5.7</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/web_testpage_overlay.html">
											<span class="pull-left">Web Testpage Overlay</span>
											<span class="pull-right">5.8</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/multitenancy.html">
											<span class="pull-left">Multitenancy</span>
											<span class="pull-right">5.9</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/jax_rs.html">
											<span class="pull-left">JAX-RS Support</span>
											<span class="pull-right">5.10</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/customizing_the_capabilitystatement.html">
											<span class="pull-left">Customizing the CapabilityStatement</span>
											<span class="pull-right">5.11</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/openapi.html">
											<span class="pull-left">OpenAPI / Swagger</span>
											<span class="pull-right">5.12</span>
										</a>
									</li>
								</ul>
							
								<h3>
									JPA Server
								</h3>
								<ul>
									<li>
										<a href="../server_jpa/introduction.html">
											<span class="pull-left">Introduction</span>
											<span class="pull-right">6.0</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/get_started.html">
											<span class="pull-left">Get Started ⚡</span>
											<span class="pull-right">6.1</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/architecture.html">
											<span class="pull-left">Architecture</span>
											<span class="pull-right">6.2</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/schema.html">
											<span class="pull-left">Database Schema</span>
											<span class="pull-right">6.3</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/configuration.html">
											<span class="pull-left">Configuration</span>
											<span class="pull-right">6.4</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/search.html">
											<span class="pull-left">Search</span>
											<span class="pull-right">6.5</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/performance.html">
											<span class="pull-left">Performance</span>
											<span class="pull-right">6.6</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/upgrading.html">
											<span class="pull-left">Upgrade Guide</span>
											<span class="pull-right">6.7</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/diff.html">
											<span class="pull-left">Diff Operation</span>
											<span class="pull-right">6.8</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/lastn.html">
											<span class="pull-left">LastN Operation</span>
											<span class="pull-right">6.9</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/elastic.html">
											<span class="pull-left">Lucene/Elasticsearch Indexing</span>
											<span class="pull-right">6.10</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/terminology.html">
											<span class="pull-left">Terminology</span>
											<span class="pull-right">6.11</span>
										</a>
									</li>
								</ul>
							
								<h3>
									JPA Server: MDM
								</h3>
								<ul>
									<li>
										<a href="../server_jpa_mdm/mdm.html">
											<span class="pull-left">MDM Getting Started</span>
											<span class="pull-right">7.0</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_mdm/mdm_rules.html">
											<span class="pull-left">MDM Rules</span>
											<span class="pull-right">7.1</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_mdm/mdm_eid.html">
											<span class="pull-left">MDM Enterprise Identifiers</span>
											<span class="pull-right">7.2</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_mdm/mdm_operations.html">
											<span class="pull-left">MDM Operations</span>
											<span class="pull-right">7.3</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_mdm/mdm_details.html">
											<span class="pull-left">MDM Technical Details</span>
											<span class="pull-right">7.4</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_mdm/mdm_expansion.html">
											<span class="pull-left">MDM Search Expansion</span>
											<span class="pull-right">7.5</span>
										</a>
									</li>
								</ul>
							
								<h3>
									JPA Server: CQL
								</h3>
								<ul>
									<li>
										<a href="../server_jpa_cql/cql.html">
											<span class="pull-left">CQL Getting Started</span>
											<span class="pull-right">8.0</span>
										</a>
									</li>
								</ul>
							
								<h3>
									JPA Server: Partitioning and Multitenancy
								</h3>
								<ul>
									<li>
										<a href="../server_jpa_partitioning/partitioning.html">
											<span class="pull-left">Partitioning and Multitenancy</span>
											<span class="pull-right">9.0</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_partitioning/partition_interceptor_examples.html">
											<span class="pull-left">Partition Interceptor Examples</span>
											<span class="pull-right">9.1</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_partitioning/partitioning_management_operations.html">
											<span class="pull-left">Partitioning Management Operations</span>
											<span class="pull-right">9.2</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_partitioning/enabling_in_hapi_fhir.html">
											<span class="pull-left">Enabling Partitioning in HAPI FHIR</span>
											<span class="pull-right">9.3</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Interceptors
								</h3>
								<ul>
									<li>
										<a href="../interceptors/interceptors.html">
											<span class="pull-left">Interceptors Overview</span>
											<span class="pull-right">10.0</span>
										</a>
									</li>
									<li>
										<a href="../interceptors/client_interceptors.html">
											<span class="pull-left">Client Interceptors</span>
											<span class="pull-right">10.1</span>
										</a>
									</li>
									<li>
										<a href="../interceptors/client_pointcuts.html">
											<span class="pull-left">Client Pointcuts</span>
											<span class="pull-right">10.2</span>
										</a>
									</li>
									<li>
										<a href="../interceptors/built_in_client_interceptors.html">
											<span class="pull-left">Built-In Client Interceptors</span>
											<span class="pull-right">10.3</span>
										</a>
									</li>
									<li>
										<a href="../interceptors/server_interceptors.html">
											<span class="pull-left">Server Interceptors</span>
											<span class="pull-right">10.4</span>
										</a>
									</li>
									<li>
										<a href="../interceptors/server_pointcuts.html">
											<span class="pull-left">Server Pointcuts</span>
											<span class="pull-right">10.5</span>
										</a>
									</li>
									<li>
										<a href="../interceptors/built_in_server_interceptors.html">
											<span class="pull-left">Built-In Server Interceptors</span>
											<span class="pull-right">10.6</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Security
								</h3>
								<ul>
									<li>
										<a href="../security/introduction.html">
											<span class="pull-left">Introduction</span>
											<span class="pull-right">11.0</span>
										</a>
									</li>
									<li>
										<a href="../security/authorization_interceptor.html">
											<span class="pull-left">Authorization Interceptor</span>
											<span class="pull-right">11.1</span>
										</a>
									</li>
									<li>
										<a href="../security/consent_interceptor.html">
											<span class="pull-left">Consent Interceptor</span>
											<span class="pull-right">11.2</span>
										</a>
									</li>
									<li>
										<a href="../security/search_narrowing_interceptor.html">
											<span class="pull-left">Search Narrowing Interceptor</span>
											<span class="pull-right">11.3</span>
										</a>
									</li>
									<li>
										<a href="../security/cors.html">
											<span class="pull-left">CORS</span>
											<span class="pull-right">11.4</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Validation
								</h3>
								<ul>
									<li>
										<a href="../validation/introduction.html">
											<span class="pull-left">Introduction</span>
											<span class="pull-right">12.0</span>
										</a>
									</li>
									<li>
										<a href="../validation/parser_error_handler.html">
											<span class="pull-left">Parser Error Handler</span>
											<span class="pull-right">12.1</span>
										</a>
									</li>
									<li>
										<a href="../validation/instance_validator.html">
											<span class="pull-left">Instance Validator</span>
											<span class="pull-right">12.2</span>
										</a>
									</li>
									<li>
										<a href="../validation/validation_support_modules.html">
											<span class="pull-left">Validation Support Modules</span>
											<span class="pull-right">12.3</span>
										</a>
									</li>
									<li>
										<a href="../validation/schema_validator.html">
											<span class="pull-left">Schema/Schematron Validator</span>
											<span class="pull-right">12.4</span>
										</a>
									</li>
									<li>
										<a href="../validation/repository_validating_interceptor.html">
											<span class="pull-left">Repository Validating Interceptor</span>
											<span class="pull-right">12.5</span>
										</a>
									</li>
									<li>
										<a href="../validation/examples.html">
											<span class="pull-left">Validation Examples</span>
											<span class="pull-right">12.6</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Android
								</h3>
								<ul>
									<li>
										<a href="../android/client.html">
											<span class="pull-left">Android Client</span>
											<span class="pull-right">13.0</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Tools
								</h3>
								<ul>
									<li>
										<a href="../tools/hapi_fhir_cli.html">
											<span class="pull-left">Command Line Interface (CLI) Tool</span>
											<span class="pull-right">14.0</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Contributing to HAPI FHIR
								</h3>
								<ul>
									<li>
										<a href="../contributing/hacking_guide.html">
											<span class="pull-left">Hacking Guide</span>
											<span class="pull-right">15.0</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Appendix
								</h3>
								<ul>
									<li>
										<a href="../appendix/logging.html">
											<span class="pull-left">Logging</span>
											<span class="pull-right">16.0</span>
										</a>
									</li>
									<li>
										<a href="../appendix/faq.html">
											<span class="pull-left">FAQ</span>
											<span class="pull-right">16.1</span>
										</a>
									</li>
									<li>
										<a href="../appendix/javadocs.html">
											<span class="pull-left">JavaDocs</span>
											<span class="pull-right">16.2</span>
										</a>
									</li>
								</ul>
							
						</div>
						<div id="leftTocSearchResults">

						</div>

					</div>
				</div>
			</div>

			
			<div class="col-xs-12 col-md-9 primaryColumn" id="tocscroll">

				<!-- Pager -->
				<div class="hide-sm-and-below">
</div>

				<div class="hide-md-and-above mobile-header-links">
					<a href="table_of_contents.html" class="btn btn-primary">
						<i class="fa fa-arrow-left"></i>
						&nbsp;&nbsp;
						Table of Contents
					</a>
					<p>Changelog: 2018</p>
				</div>

				<div class="docs-content">
					<a name="changelog-2018"></a>
<section id="section0"><h1 data-toc-text="Changelog: 2018"><span class="helpHeaderSectionNumberBadge">1.4</span>Changelog: 2018</h1><a href="changelog_2018.html#changelog-2018" class="helpSectionLink">&nbsp;</a>
</section>

<a name="changelog"></a>
<section id="section1"><h1 data-toc-text="Changelog"><span class="helpHeaderSectionNumberBadge">1.4.1</span>Changelog</h1><a href="changelog_2018.html#changelog" class="helpSectionLink">&nbsp;</a>
</section>

<a name="hapi-fhir-360-food"></a>
<section id="section2"><h1 data-toc-text="HAPI FHIR 3.6.0  (Food)"><span class="helpHeaderSectionNumberBadge">1.4.2</span>HAPI FHIR 3.6.0  (Food)</h1><a href="changelog_2018.html#hapi-fhir-360-food" class="helpSectionLink">&nbsp;</a><a name="release-information"></a>
<h2>Release Information</h2>
<p><strong>Released:</strong> 2018-11-12</p>
<p><strong>Codename:</strong> (Food)</p>
<a name="changes"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change3.6.0-0"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The version of a few dependencies have been bumped to the latest versions (dependent HAPI modules listed in brackets): <ul> <li>Karaf (OSGi): 4.1.4 -&gt; 4.1.6</li> <li>Commons-Compress (JPA): 1.14 -&gt; 1.18</li> <li>Jackson (JPA): 2.9.2 -&gt; 2.9.7</li> </ul></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-10"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The JPA server SearchCoordinator has been refactored to make searches more efficient: When a search is performed, the SearchCoordinator loads multiple pages of results even if the user has only requested a small number. This is done in order to prevent needing to re-run the search for every page of results that is loaded. In previous versions of HAPI FHIR, when a search was made the SearchCoordinator would prefetch as many results as the user could possibly request across all pages (even if this meant prefetching thousands or millions of resources). As of this version, a new option has been added to DaoConfig that specifies how many resources to prefetch. This can have a significant impact on performance for servers with a large number of resources, where users often only want the first page of results. See <code>DatConfig#setSearchPreFetchThresholds()</code> for configuration of this feature.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-11"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>When performing a JPA server using a date parameter, if a time is not specified in the query URL, the date range is expanded slightly to include all possible timezones where the date that could apply. This makes the search slightly more inclusive, which errs on the side of caution.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-13"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new setting has been added to the JPA server DaoConfig that causes the server to keep certain searches &quot;warm&quot; in the cache. This means that the search will be performed periodically in the background in order to keep a reasonably fresh copy of the results in the query cache.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-16"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The JPA server now automatically supplies several appropriate hibernate performance settings as long as the JPA EntityManagerFactory was created using HAPI FHIR's built-in method for creating it. <br/><br/> Existing JPA projects should consider using <code>super.entityManagerFactory()</code> as shown in <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter/blob/master/src/main/java/ca/uhn/fhir/jpa/demo/FhirServerConfig.java#L62">the example project</a> if they are not already.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-17"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The FhirTerser <code>getValues(...)</code> methods have been overloaded. The terser can now be used to create a null-valued element where none exists. Additionally, the terser can now add a null-valued extension where one or more such extensions already exist. These changes allow better population of FHIR elements provided an arbitrary FHIR path.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-20"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The @Operation annotation used to declare operations on the Plain Server now has a wildcard constant which may be used for the operation name. This allows you to create a server that supports operations that are not known to the server when it starts up. This is generally not advisable but can be useful for some circumstances.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-21"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>When using an @Operation method in the Plain Server, it is now possible to use a parameter annotated with @ResourceParam to receive the Parameters (or other) resource supplied by the client as the request body.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-22"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The JPA server version migrator tool now runs in a multithreaded way, allowing it to upgrade th database faster when migration tasks require data updates.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-25"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new setting has been added to the JPA Server DopConfig that controls the behaviour when a client-assigned ID is encountered (i.e. the client performs an HTTP PUT to a resource ID that doesn't already exist on the server). It is now possible to disallow this action, to only allow alphanumeric IDs (the default and only option previously) or allow any IDs including alphanumeric.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-26"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/1103">#1103</a>
        </td>
        <td>
            <p>It is now possible to use your own IMessageResolver instance in the narrative generator. Thanks to Ruth Alkema for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-28"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The REST client now allows for configurable behaviour as to whether a <code>_format</code> parameter should be included in requests.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-29"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA server R4 SearchParameter custom expression validation is now done using the actual FHIRPath evaluator, meaning it is more rigorous in what it can find.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-4"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The module which deletes stale searches has been modified so that it deletes very large searches (searches with 10000+ results in the query cache) in smaller batches, in order to avoid having very long running delete operations occupying database connections for a long time or timing out.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-6"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new operation has been added to the JPA server called <code>$trigger-subscription</code> . This can be used to cause a transaction to redeliver a resource that previously triggered. See <a href="https://smilecdr.com/docs/current/fhir_repository/subscription.html#manually-triggering-subscriptions">this link</a> for a description of how this feature works. Note that you must add the SubscriptionRetriggeringProvider as shown in the sample project.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-7"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>When operating in R4 mode, the HAPI FHIR server will now populate Bundle.entry.response for history and search results, which is did not previously do.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-8"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The JPA database migrator tool has been enhanced so that it now supports migrations from HAPI FHIR 3.3.0 to HAPI FHIR 3.4.0 / 3.5.0+ as well.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-1"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A bug in the JPA migration tasks from 3.4.0 to 3.5.0 caused a failure if the HFJ_SEARCH_PARM table did not exist. This table existed in previous versions of HAPI FHIR but was dropped in 3.5.0, meaning that migrations would fail if the database was created using a snapshot version of 3.5.0.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-12"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A bug was fixed in the JPA server $expunge operation where a database connection could sometimes be opened and not returned to the pool immediately, leading to pool starvation if the operation was called many times in a row.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-14"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>When using the testpage overlay to delete a resource, currently a crash can occur if an unqualified ID is placed in the ID text box. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-15"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>AuthorizationInterceptor did not allow FHIR batch operations when the transaction() permission is granted. This has been corrected so that transaction() allows both batch and transaction requests to proceed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-18"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The FhirTerser <code>getValues(...)</code> methods were not properly handling modifier extensions for verions of FHIR prior to DSTU3. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-19"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>When updating resources in the JPA server, a bug caused index table entries to be refreshed sometimes even though the index value hadn't changed. This issue did not cause incorrect search results but had an effect on write performance. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-2"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Automatic ID generation for contained resources (in cases where the user hasn't manually specified an ID) has been streamlined to generate more predictable IDs in some cases.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-23"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A bug in the JPA server was fixed: When a resource was previously deleted, a transaction could not be posted that both restored the deleted resource but also contained references to the now-restored resource.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-24"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The $expunge operation could sometimes fail to delete resources if a resource to be deleted had recently been returned in a search result. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-27"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/1071">#1071</a>
        </td>
        <td>
            <p>When restful reponses tried to return multiple instances of the same response header, some instances were discarded. Thanks to Volker Schmidt for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-3"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>An issue in the HAPI FHIR CLI database migrator command has been resolved, where some database drivers did not automatically register and had to be manually added to the classpath.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-30"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/1047">#1047</a>
        </td>
        <td>
            <p>A NullPointerException in DateRangeParam when a client URL conrtained a malformed date was corrected. Thanks Heinz-Dieter Conradi for the Pull Request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-5"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>When invoking an operation using the fluent client on an instance, the operation would accidentally invoke against the server if the provided ID did not include a type. This has been corrected so that an IllegalArgumentException is now thrown.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.6.0-9"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>When using the HAPI FHIR CLI, user-prompted passwords were not correctly encoded, meaning that the &quot;--basic-auth PROMPT&quot; action was not usable. This has been corrected.</p>
        </td>
    </tr>
</table>
</section>

<a name="change3.6.0-0"></a>
<section id="section3"><h1 data-toc-text="HAPI FHIR 3.5.0"><span class="helpHeaderSectionNumberBadge">1.4.3</span>HAPI FHIR 3.5.0</h1><a href="changelog_2018.html#change3.6.0-0" class="helpSectionLink">&nbsp;</a><a name="release-information-1"></a>
<h2>Release Information</h2>
<p><strong>Released:</strong> 2018-09-17</p>
<a name="changes-1"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change3.5.0-0"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>HAPI FHIR now supports JDK 9 and JDK 10, both for building HAPI FHIR as well as for use. JDK 8 remains supported and is the minimum requirement in order to build or use HAPI FHIR.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-1"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new command has been added to the HAPI FHIR CLI tool: &quot;migrate-database&quot;. This command performs the schema modifications required when upgrading HAPI FHIR JPA to a new version (previously this was a manual process involving running scripts and reindexing everything). <br/><br/> See the command documentation for more information on how to use this tool. Please post in the HAPI FHIR Google Group if you run into issues, as this is a brand new framework and we still need lots of help with testing.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-11"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/1000">#1000</a>
        </td>
        <td>
            <p>LOINC uploader has been updated to support the new LOINC filename scheme introduced in LOINC 2.64. Thanks to Rob Hausam for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-12"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>In the JPA server, it is now possible for a custom search parameter to use the <code>resolve()</code> function in its path to descend into contained resources and index fields within them.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-13"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new IValidationSupport implementation has been added, named CachingValidationSupport. This module wraps another implementation and provides short-term caching. This can have a dramatic performance improvement on servers that are validating or executing FHIRPath repeatedly under load. This module is used by default in the JPA server.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-18"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new method has been added to AuthorizationInterceptor that can be used to create rules allowing FHIR patch operations. See Authorizing Patch Operations for more information.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-19"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/1018">#1018</a>
        </td>
        <td>
            <p>A new view has been added to the JPA server, reducing the number of database calls required when reading resources back. This causes an improvement in performance. Thanks to Frank Tao for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-2"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The version of a few dependencies have been bumped to the latest versions (dependent HAPI modules listed in brackets): <ul> <li>Gson (JSON Parser): 2.8.1 -&gt; 2.8.5</li> <li>Spring Framework (JPA): 5.0.3.RELEASE -&gt; 5.0.8.RELEASE</li> <li>Hibernate ORM (JPA): 5.2.16.Final -&gt; 5.3.6.Final</li> <li>Hibernate Search (JPA): 5.7.1.Final -&gt; 5.10.3.Final</li> <li>Jetty (CLI): 9.4.8.v20171121 -&gt; 9.4.12.v20180830</li> <li>Commons-Codec (All): 1.10 -&gt; 1.11</li> <li>Commons-Lang (All): 3.7 -&gt; 3.8</li> <li>Commons-IO (All): 2.5 -&gt; 2.6</li> <li>Spring-Data (JPA): 1.11.6.RELEASE -&gt; 2.0.7.RELEASE</li> </ul></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-24"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/912">#912</a>
        </td>
        <td>
            <p>The generic/fluent client now supports the :contains modifier on string search params. Thanks to Clayton Bodendein for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-26"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The REST Server module now allows more than one Resource Provider (i.e. more than one implementation of IResourceProvider) to be registered to the RestfulServer for the same resource type. Previous versions of HAPI FHIR have always limited support to a single resource provider, but this limitation did not serve any purpose so it has been removed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-27"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The HashMapResourceProvider now supports the type and instance history operations. In addition, the search method for the <code>_id</code> search parameter now has the search parameter marked as &quot;required&quot;. This means that additional search methods can be added in subclasses without their intended searches being routed to the searchById method. Also, the resource map now uses a LinkedHashMap, so searches return a predictable order for unit tests.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-29"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The generic client history operations (history-instance, history-type, and history-server) now support the <code>_at</code> parameter.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-3"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new mnandatory library depdendency has been added to hapi-fhir-base, meaning that all applications using HAPI FHIR must import ti: commons-text. This library has been added as a few utility methods used by HAPI FHIR that were formerly in the commons-lang3 project have been moved into commons-text. This library has been added as a non-optional dependency in the hapi-fhir-base POM, so Maven/Gradle users should not have to make any changes.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-30"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>In the plain server, many resource provider method parameters may now use a generic <code>IPrimitiveType&lt;String&gt;</code> or <code>IPrimitiveType&lt;Date&gt;</code> at the parameter type. This is handy if you are trying to write code that works across versions of FHIR.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-31"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Several convenience methods have been added to the fluent/generic client interfaces. These methods allow the adding of a sort via a SortSpec object, as well as specifying search parameters via a plain Map of Strings.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-32"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new client interceptor called ThreadLocalCapturingInterceptor has been added. This interceptor works the same way as CapturingInterceptor in that it captures requests and responses for later processing, but it uses a ThreadLocal object to store them in order to facilitate use in multithreaded environments.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-33"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new constructor has been added to the client BasicAuthInterceptor allowing credentials to be specified in the form &quot;username:password&quot; as an alternate to specifying them as two discrete strings.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-34"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>SimpleBundleProvider has been modified to optionally allow calling code to specify a search UUID, and a field to allow the preferred page size to be configured.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-35"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The JPA server search UUID column has been reduced in length from 40 chars to 36, in order to align with the actual length of the generated UUIDs.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-36"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Plain servers using paging may now specify an ID/name for individual pages being returned, avoiding the need to respond to arbitrary offset/index requests from the server. In this mode, page links in search result bundles simply include the ID to the next page.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-38"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA subscription delivery queues no longer store the resource body in the queue (only the ID), which should reduce the memory/disk footprint of the queue when it grows long.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-4"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The JPA server now has a configuration item in the DaoConfig to specify which bundle types may be stored as-is on the /Bundle endpoint. By default the following types are allowed: collection, document, message.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-40"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>When performing a ConceptMap/$translate operation with reverse=&quot;true&quot; in the arguments, the equivalency flag is now set on the response just as it is for a non-reverse lookup.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-41"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>When executing a FHIR transaction in JPA server, if the request bundle contains placeholder IDs references (i.e. &quot;urn:uuid:*&quot; references) that can not be resolved anywhere else in the bundle, a user friendly error is now returned. Previously, a cryptic error containing only the UUID was returned. As a part of this change, transaction processing has now been consolidated into a single codebase for DSTU3 / R4 (and future) versions of FHIR. This should greatly improve maintainability and consistency for transaction processing.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-42"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>ResponseHighlighterInterceptor now displays the total size of the output and an estimate of the transfer time at the bottom of the response.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-43"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/1022">#1022</a>
        </td>
        <td>
            <p>The Prefer header is now honoured for HTTP PATCH requests. Thanks to Alin Leonard for the Pull Request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-44"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The <code>Composition</code> operation <code>$document</code> has been implemented. Thanks to Patrick Werner for the Pull Request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-45"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>HAPI FHIR CLI commands that allow Basic Auth credentials or a Bearer Token may now use a value of &quot;PROMPT&quot; to cause the CLI to prompt the user for credentials using an interactive prompt.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-48"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The maximum length for codes in the JPA server terminology service have been increased to 500 in order to better accomodate code systems with very long codes.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-5"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>CapabilityStatements generated by the server module will now include the server base URL in the <code>CapabilityStatement.implementation.url</code> field.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-52"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The JPA server now performs a count query instead of a more expensive data query when searches using <code>_summary=count</code> . This means that a total will always be returned in the Bundle (this isn't always guaranteed otherwise, since the Search Controller can result in data being returned before the total number of results is known).</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-53"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The JPA server SearchCoordinator now prefetches only a smaller and configurable number of results during the initial search request, and more may be requested in subsequent page requests. This change may have a significant improvement on performance: in previous versions of HAPI FHIR, even if the user only wanted the first page of 10 results, many many more might be prefetched, consuming database resources and server time.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-6"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/974">#974</a>
        </td>
        <td>
            <p>Spring-data (used by the JPA server) has been upgraded to version 2.0.7 (from version 1.11.6). Thanks to Roman Doboni for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-8"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>AuthorizationInterceptor now examines requests more closely in order to block requests early that are not possibly going to return allowable results when compartment rules are used. For example, if an AuthorizationInterceptor is configured to allow only <b>read</b> access to compartment <code>Patient/123</code> , a search for <code>Observation?subject=987</code> will now be blocked before the method handler is called. Previously the search was performed and the results were examined in order to determine whether they were all in the appropriate compartment, but this incurs a performance cost, and means that this search would successfully return an empty Bundle if no matches were present. <br/><br/> A new setting on AuthorizationInterceptor called <code>setFlags(flags)</code> can be used to maintain the previous behaviour.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-9"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA server loading logic has been improved to enhance performance when loading a large number of results in a page, or when loading multiple search results with tags. Thanks to Frank Tao for the pull request! This change was introduced as a part of a collaboration between HAPI FHIR and the US National Institiutes for Health (NIH).</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-10"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/1010">#1010</a>
        </td>
        <td>
            <p>Resource loading logic for the JPA server has been optimized to reduce the number of database round trips required when loading search results where many of the entries have a &quot;forced ID&quot; (an alphanumeric client-assigned resource ID). Thanks to Frank Tao for the pull request! This change was introduced as a part of a collaboration between HAPI FHIR and the US National Institiutes for Health (NIH).</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-14"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>An index in the JPA server on the HFJ_FORCED_ID table was incorrectly not marked as unique. This meant that under heavy load it was possible to create two resources with the same client-assigned ID.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-15"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The JPA server <code>$expunge</code> operation deleted components of an individual resource record in separate database transactions, meaning that if an operation failed unexpectedly resources could be left in a weird state. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-16"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/1015">#1015</a>
        </td>
        <td>
            <p>A bug was fixed in the JPA terminology uploader, where it was possible in some cases for some ValueSets and ConceptMaps to not be saved because of a premature short circuit during deferred uploading. Thanks to Joel Schneider for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-17"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/969">#969</a>
        </td>
        <td>
            <p>A bug in the HAPI FHIR CLI was fixed, where uploading terminology for R4 could cause an error about the incorrect FHIR version. Thanks to Rob Hausam for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-20"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A crash was fixed when deleting a ConceptMap resource in the JPA server. This crash was a regression in HAPI FHIR 3.4.0.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-21"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A crash in the JPA server when performing a manual reindex of a deleted resource was fixed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-22"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Using the generic/fluent client, it is now possible to invoke the $process-message method using a standard client.operation() call. Previously this caused a strange NullPointerException.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-23"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The REST Server now sanitizes URL path components and query parameter names to escape several reserved characters (e.g. &quot; and &lt;) in order to prevent HTML injection attacks via maliciously crafted URLs.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-25"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/996">#996</a>
        </td>
        <td>
            <p>The HAPI FHIR Server has been updated to correctly reflect the current FHIR specification behaviour for the Prefer header. This means that the server will no longer return an OperationOutcome by default, but that one may be requested via a Prefer header, using the newly implemented &quot;Repreentation: OperationOutcome&quot; value. Thanks to Ana Maria Radu for the pul request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-28"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Fixed a bug when creating a custom search parameter in the JPA server: if the SearchParameter resource contained an invalid expression, create/update operations for the given resource would fail with a cryptic error. SearchParameter expressions are now validated upon storage, and the SearchParameter will be rejected if the expression can not be processed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-37"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/965">#965</a>
        </td>
        <td>
            <p>An issue was fixed in BundleUtil#toListOfEntries, where sometimes a resource could be associated with the wrong entry in the response. Thanks to GitHub user @jbalbien for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-39"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/1053">#1053</a>
        </td>
        <td>
            <p>A bug was fixed in JPA server searches: When performing a search with a _lastUpdate filter, the filter was applied to any _include values, which it should not have been. Thanks to Deepak Garg for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-47"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A crash was fixed when using the ConceptMap/$translate operation to translate a mapping where the equivalence was not specified.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-49"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A bug in the DSTU3 validator was fixed where validation resources such as StructureDefinitions and Questionnaires were cached in a cache that never expired, leading to validations against stale versions of resources.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-50"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>In the REST server, if an incoming request has the Content-Encoding header, the server will not try to read request parameters from the content stream. This avoids an incompatibility with new versions of Jetty.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-51"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/1050">#1050</a>
        </td>
        <td>
            <p>Custom profile names when not matching standard FHIR profile names, are now handled properly by the validator. Thanks to Anthony Sute for the Pull Request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-7"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A crash in the validator was fixed: Validating a Bundle that did not have Bundle.fullUrl populated could cause a NullPointerException.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.5.0-46"></a>
        </td>
        <td>
        </td>
        <td>
            <p>The experimental &quot;dynamic mode&quot; for search parameter registration has been removed. This mode was never published or documented and was labelled as experimental, so I am hoping it was never depended on by anyone. Please post on the HAPI FHIR mailing list if this change affects you.</p>
        </td>
    </tr>
</table>
</section>

<a name="change3.5.0-0"></a>
<section id="section4"><h1 data-toc-text="HAPI FHIR 3.4.0"><span class="helpHeaderSectionNumberBadge">1.4.4</span>HAPI FHIR 3.4.0</h1><a href="changelog_2018.html#change3.5.0-0" class="helpSectionLink">&nbsp;</a><a name="release-information-2"></a>
<h2>Release Information</h2>
<p><strong>Released:</strong> 2018-05-28</p>
<a name="changes-2"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change3.4.0-0"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The version of a few dependencies have been bumped to the latest versions (dependent HAPI modules listed in brackets): <ul> <li>Commons-Lang3 (All): 3.6 -&gt; 3.7</li> <li>Hibernate (JPA): 5.2.12.Final -&gt; 5.2.16.Final</li> <li>Javassist (JPA): 3.20.0-GA -&gt; 3.22.0-GA</li> </ul></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-1"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Several enhancements have been made to the JPA server index tables. These enhancements consist of new colums that will be used in a future version of HAPI FHIR to significantly decrease the amount of space required for indexes on token and string index types. <br/><br/> These new columns are not yet used in HAPI FHIR 3.4.0 but will be enabled in HAPI FHIR 3.5.0. Anyone upgrading to HAPI FHIR 3.4.0 (or above) is recommended to invoke the following SQL statement on their database in order to reindex all data in a background job: <br/> <code>update HFJ_RESOURCE set SP_INDEX_STATUS = null;</code> <br/> Note that if you do this reindex now, you will not have any downtime while you upgrade to HAPI FHIR 3.5.0. If you need to perform the reindex at the time that you upgrade to HAPI FHIR 3.5.0 some indexes may not be available. <br/> In addition, the following schema changes should be made while upgrading: <br/> <code>update table TRM_CODESYSTEM_VER drop column RES_VERSION_ID;</code><br/> <code>alter table TRM_CODESYSTEM_VER drop constraint IDX_CSV_RESOURCEPID_AND_VER</code><br/></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-10"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new operation has been added to the JPA server called &quot;$expunge&quot;. This operation can be used to physically delete old versions of resources, logically deleted resources, or even all resources in the database.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-11"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>An experimental new feature has been added to AuthorizationInterceptor which allows user-supplied checkers to add additional checking logic to determine whether a particular rule applies. This could be used for example to restrict an auth rule to particular source IPs, or to only allow operations with specific parameter values.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-12"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new qualifier has been added to the AuthorizationInterceptor RuleBuilder that allows a rule on an operation to match <code>atAnyLevel()</code> , meaning that the rule applies to the operation by name whether it is at the server, type, or instance level.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-13"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Calling <code>IdType#withVersion(String)</code> with a null/blank parameter will now return a copy of the ID with the version removed. Previously this call would deliberately cause an IllegalArgumentException.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-16"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The JPA server CapabilityStatement generator has been tuned so that resource counts are no longer calculated synchronously as a part of building the CapabilityStatement response. With this change, counts are calculated in the background and cached which can yield significant performance improvements on hevaily loaded servers.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-18"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/903">#903</a>
        </td>
        <td>
            <p>Fix a bug in the DSTU2 QuestionnaireResponseValidator which prevented validation on groups with only one question. Thanks David Gileadi for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-19"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/709">#709</a>
        </td>
        <td>
            <p>The <code>ConceptMap</code> operation <code>$translate</code> has been implemented.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-2"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>R4 structures have been updated to the latest definitions (SVN 13732)</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-20"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/927">#927</a>
        </td>
        <td>
            <p>HAPI-FHIR_CLI now includes two new commands: one for importing and populating a <code>ConceptMap</code> resource from a CSV; and one for exporting a <code>ConceptMap</code> resource to a CSV.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-21"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Operation methods on a plain server may now use parameters of type String (i.e. plain Java strings), and any FHIR primitive datatype will be automatically coerced into a String.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-22"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The HAPI FHIR CLI now supports importing an IGPack file as an import to the validation process.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-23"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>When two threads attempt to update the same resource at the same time, previously an unspecified error was thrown by the JPA server. An HTTP 409 (Conflict) with an informative error message is now thrown.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-26"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>StructureDefinitions for the FHIR standard extensions have been added to the hapi-fhir-validation-resources-XXXX modules. Thanks to Patrick Werner for the pull request! These have also been added to the list of definitions uploaded by the CLI &quot;upload-definitions&quot; command.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-29"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/926">#926</a>
        </td>
        <td>
            <p>The HAPI FHIR CLI is now available for installation on OSX using the (really excellent) Homebrew package manager thanks to an effort by John Grimes to get it added. Thanks John!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-30"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/953">#953</a>
        </td>
        <td>
            <p>When the REST Server experiences an expected error (such as a NullPointerException) in a resource provider class, a simple message of &quot;Failed to call access method&quot; is returned to the user. This has been enhanced to also include the message from the underlying exception.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-32"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/857">#857</a>
        </td>
        <td>
            <p>DateRangeParameter was enhanced to support convenient method chanining, and the parameter validation was improved to only change state after validating that parameters were valid. Thanks to Gaetano Gallo for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-35"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/875">#875</a>
        </td>
        <td>
            <p>An issue in the narrative generator template for the CodeableConcept datatype was corrected. Thanks to @RuthAlk for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-36"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The JPA server automatic reindexing process has been tweaked so that it no longer runs once per minute (this was a heavy strain on large databases) but will instead run once an hour unless triggered for some reason. In addition, the number of threads allocated to reindexing may now be adjusted via a setting in the DaoConfig.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-38"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/880">#880</a>
        </td>
        <td>
            <p>Several tests were added to ensure accurate validation of QuestionnaireResponse resources. Thanks to Heinz-Dieter Conradi for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-39"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/886">#886</a>
        </td>
        <td>
            <p>A NullPointerException when validating some QuestionnaireResponse reousrces was fixed in the validator. Thanks to Heinz-Dieter Conradi for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-40"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/892">#892</a>
        </td>
        <td>
            <p>QuestionnaireResponse answers of type &quot;text&quot; may now be validated by the FhirInstanceValidator. Thanks to Heinz-Dieter Conradi for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-7"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The DSTU2 validator has been refactored to use the same codebase as the DSTU3/R4 validator (which were harmonized in HAPI FHIR 3.3.0). This means that we now have a single codebase for all validators, which improves maintainability and brings a number of improvements to the accuracy of DSTU2 resource validation.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-9"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The REST Generic Client now supports invoking an operation on a specific version of a resource instance.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-14"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>When updating resources on the JPA server, tags did not always consistently follow FHIR's recommended rules for tag retention. According to FHIR's rules, if a tag is not explicitly present on an update but was present on the previous version, it should be carried forward anyhow. Due to a bug, this happened when more than one tag was present but not when only one was present. This has been corrected. In addition, a new request header called <code>X-Meta-Snapshot-Mode</code> has been added that can be used by the client to override this behaviour.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-15"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The JPA server's resource counts query has been optimized to give the database a bit more flexibility to optimize, which should increase performance for this query.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-17"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Fix a significant performance regression in 3.3.0 when validating DSTU3 content using the InstanceValidator. From 3.3.0 onward, StructureDefinitions are converted to FHIR R4 content on the fly in order to reduct duplication in the codebase. These conversions happened upon every validation however, instead of only happening once which adversely affected performance. A cache has been added.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-24"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A bug in the JPA server's DSTU2 transaction processing routine caused it to occasionally consume two database connections, which could lead to deadlocks under heavy load. This has been fixed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-25"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>AuthorizationInterceptor sometimes incorrectly identified an operation invocation at the type level as being at the instance level if the method indicated that the IdParam parameter was optional. This has been fixed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-27"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A workaround for an invalid search parameter path in the R4 consent resource has been implemented. This path was preventing some Consent resources from successfully being uploaded to the JPA server. Thanks to Anthony Sute for identifying this.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-28"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/937">#937</a>
        </td>
        <td>
            <p>A hard-to-understand validation message was fixed in the validator when validating against profiles that declare some elements as mustSupport but have others used but not declared as mustSupport. Thanks to Patrick Werner for the PR!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-3"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/846">#846</a>
        </td>
        <td>
            <p>When calling a getter on a DSTU3/R4 structure for a choice type (e.g. Observation#getValueString()), a NullPointerException was thrown if there was no value in this field, and the NPE had no useful error message. Now this method call will simply return null. method</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-31"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/836">#836</a>
        </td>
        <td>
            <p>A bug in the plain server was fixed that prevented some includes from correctly causing their targets to be included in the response bundle. Thanks to GitHub user @RuthAlk for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-33"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/867">#867</a>
        </td>
        <td>
            <p>The HumanName DSTU3+ datatype had convenience methods for testing whether the name has a specific given name or not, but these methods did not work. Thanks to Jason Owen for reporting and providing a test case!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-34"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/874">#874</a>
        </td>
        <td>
            <p>An issue was corrected in the validator where Questionnaire references that used contained resources caused an unexpected crash. Thanks to Heinz-Dieter Conradi for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-37"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>AuthorizationInterceptor did not correctly grant access to resources by compartment when the reference on the target resource that pointed to the compartment owner was defined using a resource object (ResourceReference#setResource) instead of a reference (ResourceReference#setReference).</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-4"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>When performing a FHIR resource update in the JPA server where the update happens within a transaction, and the resource being updated contains placeholder IDs, and the resource has not actually changed, a new version was created even though there was not actually any change. This particular combination of circumstances seems very specific and improbable, but it is quite common for some types of solutions (e.g. mapping HL7v2 data) so this fix can prevent significant wasted space in some cases.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-41"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The REST server has been modified so that the <code>Location</code> header is no longer returned by the server on read or update responses. This header was returned in the past, but this header is actually inappropriate for any response that is not a create operation. The <code>Content-Location</code> will still be returned, and will hold the same contents.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-42"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The Postgres sample JPA project was fixed to use the current version of HAPI FHIR (it was previously stuck on 2.2). Thanks to Kai Liu for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-5"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA server index tables did not have a column length specified on the resource type column. This caused the default of 255 to be used, which wasted a lot of space since resource names are all less than 30 chars long and a single resource can have 10-100+ index rows depending on configuration. This has now been set to a much more sensible 30.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-6"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The LOINC uploader for the JPA Terminology Server has been significantly beefed up so that it now takes in the full set of LOINC distribution artifacts, and creates not only the LOINC CodeSystem but a complete set of concept properties, a number of LOINC ValueSets, and a number of LOINC ConceptMaps. This work was sponsored by the Regenstrief Institute. Thanks to Regenstrief for their support!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.4.0-8"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>When encoding a resource that had contained resources with user-supplied local IDs (e.g. resource.setId(&quot;#1&quot;)) as well as contained resources with no IDs (meaning HAPI should automatically assign a local ID for these resources) it was possible for HAPI to generate a local ID that already existed, making the resulting serialization invalid. This has been corrected.</p>
        </td>
    </tr>
</table>
</section>

<a name="change3.4.0-0"></a>
<section id="section5"><h1 data-toc-text="HAPI FHIR 3.3.0"><span class="helpHeaderSectionNumberBadge">1.4.5</span>HAPI FHIR 3.3.0</h1><a href="changelog_2018.html#change3.4.0-0" class="helpSectionLink">&nbsp;</a><a name="release-information-3"></a>
<h2>Release Information</h2>
<p><strong>Released:</strong> 2018-03-29</p>
<a name="changes-3"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change3.3.0-0"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>This release corrects an inefficiency in the JPA Server, but requires a schema change in order to update. Prior to this version of HAPI FHIR, a CLOB column containing the complete resource body was stored in two tables: HFJ_RESOURCE and HFJ_RES_VER. Because the same content was stored in two places, the database consumed more space than is needed to. <br/><br/> In order to reduce this duplication, the <code>RES_TEXT</code> and <code>RES_ENCODING</code> columns have been <b>dropped</b> from the <code>HFJ_RESOURCE</code> table, and the <code>RES_TEXT</code> and <code>RES_ENCODING</code> columns have been <b>made NULLABLE</b> on the <code>HFJ_RES_VER</code> table. <br/><br/> The following migration script may be used to apply these changes to your database. Naturally you should back your database up prior to making this change. <br/> <code>ALTER TABLE hfj_resource DROP COLUMN res_text;</code><br/> <code>ALTER TABLE hfj_resource DROP COLUMN res_encoding;</code><br/> <code>ALTER TABLE hfj_res_ver ALTER COLUMN res_encoding DROP NOT NULL;</code><br/> <code>ALTER TABLE hfj_res_ver ALTER COLUMN res_text DROP NOT NULL;</code><br/></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-10"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>An experimental interceptor called VersionedApiConverterInterceptor has been added, which automaticaly converts response payloads to a client-specified version according to transforms built into FHIR.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-16"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>ResponseHighlightingInterceptor now properly parses _format parameters that include additional content (e.g. <code>_format=html/json;fhirVersion=1.0</code> )</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-17"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Stale search deleting routine on JPA server has been adjusted to delete one search per transaction instead of batching 1000 searches per transaction. This should make the deletion logic more tolerant of deleting very large search result sets.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-18"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Avoid refreshing the search parameter cache from an incoming client request thread, which caused unneccesary delays for clients.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-2"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The version of a few dependencies have been bumped to the latest versions (dependent HAPI modules listed in brackets): <ul> <li>Hibernate (JPA): 5.2.10.Final -&gt; 5.2.12.Final</li> <li>Spring (JPA): 5.0.0 -&gt; 5.0.3</li> <li>Thymeleaf (Web Tespage Overlay): 3.0.7.RELEASE -&gt; 3.0.9.RELEASE</li> </ul></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-21"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/854">#854</a>
        </td>
        <td>
            <p>JPA server now performs temporary/placeholder ID substitution processing on elements in resources which are of type &quot;URI&quot; in addition to the current substitution for elements of type &quot;Reference&quot;. Thanks to GitHub user @t4deon for supplying a testcase!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-25"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new IResourceProvider implementation called <code>HashMapResourceProvider</code> has been added. This is a complete resource provider implementation that uses a HashMap as a backing store. This class is probably of limited use in real production systems, but it cam be useful for tests or for static servers with small amounts of data.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-27"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/868">#868</a>
        </td>
        <td>
            <p>DateParam class now has equals() and hashCode() implementations. Thanks to Gaetano Gallo for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-29"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The client LoggingInterceptor now includes the number of milliseconds spent performing each call that is logged.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-3"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/871">#871</a>
        </td>
        <td>
            <p>A number of HAPI FHIR modules have been converted so that they now work as OSGi modules. Unlike the previous OSGi module, which was a mega-JAR with all of HAPI FHIR in it, this is simply the appropriate OSGi manifest inside the existing JARs. Thanks to John Poth for the Pull Request! <br/><br/> Note that this does not cover all modules in the project. Current support includes: <ul> <li>HAPI-FHIR structures DSTU2, HL7ORGDSTU2, DSTU2.1, DSTU3, R4</li> <li>HAPI-FHIR Resource validation DSTU2, HL7ORGDSTU2, DSTU2.1, DSTU3, R4</li> <li>Apache Karaf features for all the above</li> <li> Integration Tests</li> </ul> Remaining work includes: <ul> <li>HAPI-FHIR Server support</li> <li> HAPI-FHIR narrative support. This might be tricky as Thymeleaf doesn't support OSGi.</li> </ul></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-30"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/786">#786</a>
        </td>
        <td>
            <p>ReferenceParam has been enhanced to properly return the resource type to user code in a server via the ReferenceType#getResourceType() method if the client has specified a reference parameter with a resource type. Thanks to @CarthageKing for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-31"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/776">#776</a>
        </td>
        <td>
            <p>An entry has been added to ResourceMetadataKeyEnum which allows extensions to be placed in the resource metadata section in DSTU2 resource (this is possible already in DSTU3+ resources as Meta is a normal model type, but the older structures worked a bit differently. Thanks to GitHub user sjanic for the contribution!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-32"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/791">#791</a>
        </td>
        <td>
            <p>An example project has een contributed which shows how to use the CQL framework in a server with HAPI FHIR JPA. Thanks to Chris Schuler for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-33"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/798">#798</a>
        </td>
        <td>
            <p>A new module has been contributed called hapi-fhir-jpaserver-elasticsearch which adds support for Elasticsearch instead of raw Lucene for fulltext indexing. Testing help on this would be appreciated! Thanks to Jiajing Liang for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-36"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/812">#812</a>
        </td>
        <td>
            <p>REST HOOK subscriptions in the JPA server now support having an empty/missing Subscription.channel.payload value, which is supported according to the FHIR specification. Thanks to Jeff Chung for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-39"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/817">#817</a>
        </td>
        <td>
            <p>A new example project has been added called hapi-fhir-jpaserver-dynamic, which uses application/environment properties to configure which version of FHIR the server supports and other configuration. Thanks to Anoush Mouradian for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-40"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/581">#581</a>
        </td>
        <td>
            <p>A new example project showing the use of JAX-RS Server Side Events has been added. Thanks to Jens Kristian Villadsen for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-42"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/819">#819</a>
        </td>
        <td>
            <p>Support has been added to the JPA server for the :not modifier. Thanks to Łukasz Dywicki for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-43"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/877">#877</a>
        </td>
        <td>
            <p>Suport for the :contains string search parameter modifier has been added to the JPA server. Thanks to Anthony Sute for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-8"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new method overload has been added to IServerInterceptor: <code>outgoingResponse(RequestDetails, ResponseDetails, HttpServletRequest, HttpServletResponse)</code> . This new method allows an interceptor to completely replace the resource being returned with a different resource instance, or to modify the HTTP Status Code being returned. All other &quot;outgoingResponse&quot; methods have been deprecated and are recommended to be migrated to the new method. This new method (with its RequestDetails and ResponseDetails parameters) should be flexible enough to accommodate future needs which means that this should be the last time we have to change it.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-1"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The validation module has been refactored to use the R4 (currently maintained) validator even for DSTU3 validation. This is done by using an automatic converter which converts StructureDefinition/ValueSet/CodeSystem resources which are used as inputs to the validator. This change should fix a number of known issues with the validator, as they have been fixed in R4 but not in DSTU3. This also makes our validator much more maintainable since it is now one codebase.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-11"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/822">#822</a>
        </td>
        <td>
            <p>Searches which were embedded in a Bundle as a transaction or batch operation did not respect any chained method parameters (e.g. MedicationRequest?medication.code=123). Thanks to @manjusampath for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-12"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A few fixes went into the build which should now allow HAPI FHIR to build correctly on JDK 9.0. Currently building is supported on JDK 8.x and 9.x only.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-13"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/837">#837</a>
        </td>
        <td>
            <p>Client requests with an <code>Accept</code> header value of <code>application/json</code> will now be served with the non-legacy content type of <code>application/fhir+json</code> instead of the legacy <code>application/json+fhir</code> . Thanks to John Grimes for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-14"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Fixed a regression in server where a count parameter in the form <code>@Count IntegerType theCount</code> caused an exception if the client made a request with no count parameter included. Thanks to Viviana Sanz for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-15"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A bug in the JPA server was fixed where a Subscription incorrectly created without a status or with invalid criteria would cause a crash during startup.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-19"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>An occasional crash in the JPA was fixed when using unique search parameters and updating a resource to no longer match one of these search parameters.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-20"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Avoid an endless loop of reindexing in JPA if a SearchParameter is created which indexed the SearchParameter resource itself</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-22"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Deleting a resource from the testpage overlay resulted in an error page after clicking &quot;delete&quot;, even though the delete succeeded.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-24"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/863">#863</a>
        </td>
        <td>
            <p>JPA server now correctly indexes custom search parameters which have multiple base resource types. Previously, the indexing could cause resources of the wrong type to be returned in a search if a parameter being used also matched that type. Thanks to Dave Carlson for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-26"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/872">#872</a>
        </td>
        <td>
            <p>An issue in the JPA server was corrected where searching using URI search parameters would sometimes not include the resource type in the criteria. This meant, for example, that a search for <code>ValueSet?url=http://foo</code> would also match any CodeSystem resource that happened to also have that URL as the value for the &quot;url&quot; search parameter. Thanks to Josh Mandel for reporting and supplying a test case!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-28"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/814">#814</a>
        </td>
        <td>
            <p>Fix a bug where under certain circumstances, duplicate contained resources could be output by the parser's encode methods. Thanks to Frank Tao for supplying a test case!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-34"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/800">#800</a>
        </td>
        <td>
            <p>JAX-RS server now supports R4 and DSTU2_1 FHIR versions, which were previously missing. Thanks to Clayton Bodendein for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-35"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/806">#806</a>
        </td>
        <td>
            <p>AuthorizationInterceptor did not correctly handle authorization against against a compartment where the compartment owner was specified as a list of IDs. Thanks to Jiajing Liang for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-37"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA Server Operation Interceptor create/update methods will now no longer be fired if the create/update operation being performed is a no-op (e.g. a conditional create that did not need to perform any action, or an update where the contents didn't actually change)</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-38"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/879">#879</a>
        </td>
        <td>
            <p>JPA server sometimes updated resources even though the client supplied an update with no actual changes in it, due to changes in the metadata section being considered content changes. Thanks to Kyle Meadows for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-4"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Fix a crash in the JSON parser when parsing extensions on repeatable elements (e.g. Patient.address.line) where there is an extension on the first repetition but not on subsequent repetitions of the repeatable primitive. Thanks to Igor Sirkovich for providing a test case!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-44"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>All instances of DefaultProfileValidationSupport (i.e. one for each version of FHIR) have been fixed so that they explicitly close any InputStreams they open in order to read the built-in profile resources. Leaving these open caused resource starvation in some cases under heavy load.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-5"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/832">#832</a>
        </td>
        <td>
            <p>Fix an issue where the JPA server crashed while attempting to normalize string values containing Korean text. Thanks to GitHub user @JoonggeonLee for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-6"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>An issue was solved where it was possible for server interceptors to have both processingCompletedNormally and handleException called if the stream.close() method threw an exception. Thanks to Carlos Eduardo Lara Augusto for investigating!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-9"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/838">#838</a>
        </td>
        <td>
            <p>The HAPI-FHIR-CLI now explicitly includes JAXB dependencies in its combined JAR file. These were not neccesary prior to Java 9, but the JDK (mercifully) does not include JAXB in the default classpath as of Java 9. This means that it is possible to perform Schematron validation on Java 9. Thanks to John Grimes for reporting and suggesting a fix!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-23"></a>
        </td>
        <td>
        </td>
        <td>
            <p>A number of info level log lines have been reduced to debug level in the JPA server, in order to reduce contention during heavy loads and reduce the amount of noise in log files overall. A typical server should now see far less logging coming from HAPI, at least at the INFO level.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-41"></a>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/864">#864</a>
        </td>
        <td>
            <p>An unneccesary reference to the Javassist library has been removed from the build. Thanks to Łukasz Dywicki for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.3.0-7"></a>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/831">#831</a>
        </td>
        <td>
            <p>The <code>@TagListParam</code> annotation has been removed. This annotation had no use after DSTU1 but never got deleted and was misleading. Thanks to Angelo Kastroulis for reporting!</p>
        </td>
    </tr>
</table>
</section>

<a name="change3.3.0-0"></a>
<section id="section6"><h1 data-toc-text="HAPI FHIR 3.2.0"><span class="helpHeaderSectionNumberBadge">1.4.6</span>HAPI FHIR 3.2.0</h1><a href="changelog_2018.html#change3.3.0-0" class="helpSectionLink">&nbsp;</a><a name="release-information-4"></a>
<h2>Release Information</h2>
<p><strong>Released:</strong> 2018-01-13</p>
<a name="changes-4"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change3.2.0-0"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Support for custom search parameters has been backported in the JPA server from DSTU3 back to DSTU2. As of this release of HAPI, full support for custom search parameters exists in all supported versions of FHIR.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.2.0-1"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new set of methods have been added to <code>IServerOperationInterceptor</code> called <code>resourcePreCreate</code> , <code>resourcePreUpdate</code> , and <code>resourcePreDelete</code> . These methods are called within the database transaction (just as the existing methods were) but are invoked prior to the contents being saved to the database. This can be useful in order to allow interceptors to change payload contents being saved.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.2.0-13"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The HAPI FHIR Server framework now has initial support for multitenancy. At this time the support is limited to the server framework (not the client, JPA, or JAX-RS frameworks). See Server Documentation for more information.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.2.0-3"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new method has been added to RequestDetails called <code>setRequestContents()</code> which can be used by interceptors to modify the request body before it is parsed by the server.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.2.0-7"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new configuration option has been added to DaoConfig which allows newly created resources to be assigned a UUID by the server instead of a sequential ID</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.2.0-10"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/810">#810</a>
        </td>
        <td>
            <p>Fix an issue in JPA server where updating a resource sometimes caused date search indexes to be incorrectly deleted. Thanks to Kyle Meadows for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.2.0-11"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/808">#808</a>
        </td>
        <td>
            <p>Servers did not return an ETag if the version was provided on a DSTU3/R4 structure in the getMeta() version field instead of in the getIdElement() ID. Thanks to GitHub user @Chrisjobling for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.2.0-12"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A bug was fixed in the JPA server when performing a validate operation with a mode of DELETE on a server with referential integrity disabled, the validate operation would delete resource reference indexes as though the delete was actually happening, which negatively affected searching for the resource being validated.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.2.0-4"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Fix a crash in JPA server when performing a recursive <code>_include</code> which doesn't actually find any matches.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.2.0-5"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/796">#796</a>
        </td>
        <td>
            <p>When encoding URL parameter values, HAPI FHIR would incorrectly escape a space (&quot; &quot;) as a plus (&quot;+&quot;) insetad of as &quot;%20&quot; as required by RFC 3986. This affects client calls, as well as URLs generated by the server (e.g. REST HOOK calls). Thanks to James Daily for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.2.0-6"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Searching in JPA server using a combination of _content and _id parameters failed. Thanks to Jeff Weyer for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.2.0-8"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>An unneccesary column called &quot;MYHASHCODE&quot; was added to the HFJ_TAG_DEF table in the JPA server schema</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.2.0-9"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A few log entries emitted by the JPA server suring every search have been reduced from INFO to DEBUG in order to reduce log noise</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.2.0-2"></a>
        </td>
        <td>
        </td>
        <td>
            <p>A few redundant and no longer useful methods have been marked as deprecated in <code>IServerInterceptor</code> . If you have implemented custom interceptors you are recommended to migrate to the recommended methods.</p>
        </td>
    </tr>
</table>
</section>


				</div>

				<div class="hide-sm-and-below">
</div>
				

	<!-- footer -->
	<footer class="page-footer">
		<div class="container-fluid text-center text-md-left">
			<hr class="bottom-hr">
			<div class="row pt-3 pb-3">
				<div class="col-md-3 text-center">
					<img src="../../images/logos/raccoon-forwards.png" alt="raccoon logo without text" width="100">
				</div>
				<div class="col-md-2">
					<p class="footer-heading">HAPI HAPI</p>
					<ul class="list-unstyled">
						<li><a href="https://hapifhir.io/hapi-fhir/">Home</a></li>
						<li><a href="../getting_started/downloading_and_importing.html">Download</a></li>
						<li><a href="changelog.html">Changelog</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/license.html">License</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/blog/">News</a></li>
					</ul>
					<p class="footer-heading">TEST SERVER</p>
					<ul class="list-unstyled">
						<li><a href="http://hapi.fhir.org/" target="_blank">Public Test Server</a></li>
					</ul>
					<p class="footer-heading">SUPPORT</p>
					<ul class="list-unstyled">
						<li><a href="https://smilecdr.com/" target="_blank">Smile CDR</a></li>
					</ul>
				</div>
				<div class="col-md-2">
					<p class="footer-heading">USING HAPI</p>
					<ul class="list-unstyled">
						<li><a href="../index.html">Documentation</a></li>
						<li><a href="#">Command Line Tool (cli)</a></li>
					</ul>
					<p class="footer-heading">STARTER PROJECTS</p>
					<ul class="list-unstyled">
						<li><a href="https://github.com/FirelyTeam/fhirstarters/tree/master/java/hapi-fhirstarters-client-skeleton">Client</a></li>
						<li><a href="https://github.com/FirelyTeam/fhirstarters/tree/master/java/hapi-fhirstarters-rest-server-skeleton">Plain Server</a></li>
						<li><a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter">JPA Server</a></li>
					</ul>
				</div>
				<div class="col-md-2">
					<p class="footer-heading">JAVADOCS</p>
					<ul class="list-unstyled">
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-base/">Core API</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-structures-dstu2/">Model API (DSTU2)</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-structures-dstu3/">Model API (DSTU3)</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-structures-r4/">Model API (R4)</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-structures-r5/">Model API (R5)</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-client/">Client API</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-server/">Plain Server - API</a></li>
                  <li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-server-mdm/">Plain Server - MDM API</a></li>
                  <li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-server-openapi/">Plain Server - OpenAPI</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-storage/">JPA Server - API</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-jpaserver-model/">JPA Server - Model</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-jpaserver-searchparam/">JPA Server - Search Param Support</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-jpaserver-subscription/">JPA Server - Subscription</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-jpaserver-base/">JPA Server - Base</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-validation/">Validation API</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-converter/">Version Converter API</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-jaxrsserver-base/">Server API (JAX-RS)</a></li>
					</ul>
				</div>
				<div class="col-md-3">
					<p class="footer-heading">GET HELP</p>
					<ul class="list-unstyled">
						<li><a href="https://github.com/jamesagnew/hapi-fhir/wiki/Getting-Help" target="_blank">How to Ask for Help (read this first!)</a></li>
						<li><a href="https://groups.google.com/d/forum/hapi-fhir" target="_blank">Google Group (Ask Questions)</a></li>
						<li><a href="https://github.com/jamesagnew/hapi-fhir/issues" target="_blank">Issue Tracker (Report Bugs/Request Features)</a></li>
						<li><a href="https://chat.fhir.org/" target="_blank">FHIR.org Chat (Live Chat with FHIR Implementors)</a></li>
						<li><a href="../appendix/faq.html">Frequently Asked Questions (FAQ)</a></li>
					</ul>
					<p class="footer-heading">CONTRIBUTE</p>
					<ul class="list-unstyled">
						<li><a href="../contributing/hacking_guide.html">Guide to Hacking HAPI</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/contributors.html">Contributors</a></li>
					</ul>
				</div>
			</div>
		</div>

		<!-- footer copyright -->
		<div class="footer-copyright text-center py-3">
			<p>Updated: 2021-11-23T14:49:28.319Z — Made with <i style="color: #FF6600;" class="fas fa-heart"></i> in <a href="https://www.cbc.ca/news/canada/toronto/raccoon-city-wildlife-in-toronto-1.2742231"><img src="https://hapifhir.io/hapi-fhir/images/icons/raccoon.svg" alt="Raccoon" width="20"></a>
		</div>

	</footer>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-1395874-5"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-1395874-5');
	</script>


			</div>

		</div>

	</div>


<script type="application/javascript">

	$(function () {

		/*
		 * Build the TOC links on the right hand side by
		 * scanning all of the sections in the documentation
		 */
		const sections = [];
		const navLinks = [];
		var nav = $('<ul class="nav flex-column">');
		$('#toc').append(nav);

		$('#tocscroll section').each(function () {
			sections.push($(this));
			let sectionName = $(this).find('h1').first().attr('data-toc-text');
			let sectionId = $(this).prevAll('a').attr('name');
			let navLink = $('<a class="nav-link" href="#' + sectionId + '">' + sectionName + '</a>');
			navLinks.push(navLink);
			nav.append($('<li class="nav-item">').append(navLink));
		});

		/*
		 * Update the active link on the right hand side TOC when the
		 * user scrolls up and down the page. Create a function for this,
		 * then call the function once and register it to call again
		 * any time the user scrolls
		 */
		function updateTocScroll() {
			const sectionOffset = $('#tocscroll').offset().top;
			let visible = false;
			for (var idx = 0; idx < sections.length; idx++) {
				var sectionTop = sections[idx].offset().top - sectionOffset + 20;
				if (sectionTop >= 0 && !visible || (idx == sections.length -1 && !visible)) {
					navLinks[idx].addClass('active');
					visible = true;
				} else {
					navLinks[idx].removeClass('active');
				}
			}

		}

		$('#tocscroll').scroll(updateTocScroll);
		updateTocScroll();

		/*
	    * When the page first loads, automatically scroll the left docs TOC
	    * scroller to the actively displayed page.
	    */
		var activetop = $('.activechapter').offset().top - $('#tocscroll').offset().top - 30;
		if (activetop < 100) {
			activetop = 0;
		}
		$('#navcolumn').scrollTop(activetop);

		function updateNavScroll() {
			if ($('#navcolumn').scrollTop() < 100) {
				$('.button-scroll-up-to-search').fadeOut(500);
			} else {
				$('.button-scroll-up-to-search').fadeIn(500);
			}
		}

		updateNavScroll();
		$('#navcolumn').scroll(updateNavScroll);

	});
</script>



<script type="application/javascript">
	function hover(element) {
		element.setAttribute('src', '../../../images/icons/link-grey.html');
	}

	function unhover(element) {
		element.setAttribute('src', '../../../images/icons/smiley-grey.html');
	}

   new ClipboardJS('.clipboardCopyBtn');

</script>
</body>


<!-- Mirrored from hapifhir.io/hapi-fhir/docs/introduction/changelog_2018.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 01 Dec 2021 23:59:36 GMT -->
</html>

