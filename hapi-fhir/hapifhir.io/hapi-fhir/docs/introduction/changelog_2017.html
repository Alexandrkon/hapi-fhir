<!DOCTYPE html>
<html lang="en">


<!-- Mirrored from hapifhir.io/hapi-fhir/docs/introduction/changelog_2017.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 01 Dec 2021 23:59:36 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
	<title>Changelog: 2017 - HAPI FHIR Documentation</title>

	

	<!-- required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- objectgraph -->
	

	<!-- Favicon -->
	<link rel="icon" href="https://smilecdr.com/favicon.ico">

	<!-- font, icons -->
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

	<!-- jquery, bootstrap script for dropdown and hover-->
	<script src="../../resources/jquery/dist/jquery.min.js"></script>
	<script src="../../resources/popper.js/dist/umd/popper.min.js"></script>
	<script src="../../resources/bootstrap/dist/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="../../resources/bootstrap/dist/css/bootstrap.min.css"/>

	<!-- fontawesome -->
	<script src="../../resources/font-awesome/js/all.min.js" data-auto-replace-svg="nest"></script>
	<link rel="stylesheet" media="screen" href="../../resources/font-awesome/css/fontawesome.min.css" />

	<!-- Clipboard.js -->
	<script src="../../resources/clipboard.js/clipboard.min.js"></script>

	
	<script src="../../resources/prismjs/prism.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-bash.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-http.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-java.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-javascript.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-json.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-nginx.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-properties.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-sql.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/plugins/toolbar/prism-toolbar.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/plugins/command-line/prism-command-line.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/plugins/line-numbers/prism-line-numbers.js" type="text/javascript"></script>
	<link href="../../resources/prismjs/themes/prism.css" rel="stylesheet" type="text/css"/>
	<link href="../../resources/prismjs/themes/prism-coy.css" rel="stylesheet" type="text/css"/>
	<link href="../../resources/prismjs/plugins/toolbar/prism-toolbar.css" rel="stylesheet" type="text/css"/>
	<link href="../../resources/prismjs/plugins/line-numbers/prism-line-numbers.css" rel="stylesheet" type="text/css"/>

	<link rel="stylesheet" type="text/css" href="../../css/hapifhir.css">




	<!-- css sheet -->
	<link href="../../resources/cdr-web-resources/css/help-common.css" rel="stylesheet" type="text/css"/>
	<link href="../../css/pages.css" rel="stylesheet" type="text/css"/>
	<link href="../../css/docs.css" rel="stylesheet" type="text/css"/>

</head>

<body>

	
	<header class="header" id="header">
		<nav class="navbar fixed-top navbar-expand-sm navbar-light navbar-greyshadow">
			<a class="navbar-brand text-center" href="https://hapifhir.io/hapi-fhir/" title="Home">
				
				<img src="../../images/logos/small-logo.png" alt="HAPI FHIR logo" width="156" id="collapsed-logo">
			</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<script type="application/javascript">
				$(function(){
					$(".dropdown").hover(
						function() {
							if ($( window ).width() >= 960) {
								$('.dropdown-menu', this).stop(true, true).fadeIn("fast");
								$(this).toggleClass('open');
								$('b', this).toggleClass("caret caret-up");
							} else {
								$('.dropdown-menu', this).css("display", "");
							}
						},
						function() {
							if ($( window ).width() >= 960) {
								$('.dropdown-menu', this).stop(true, true).fadeOut("fast");
								$(this).toggleClass('open');
								$('b', this).toggleClass("caret caret-up");
							}
						});
				});
			</script>

			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="nav navbar-nav ml-auto nav-text">
					<li class="nav-item"><a class="nav-link" href="https://smilecdr.com/">Support</a></li>
					<li class="nav-item"><a class="nav-link" target="_blank" href="https://github.com/jamesagnew/hapi-fhir">Github</a></li>
					<li class="nav-item"><a class="nav-link" href="https://hapifhir.io/hapi-fhir/blog/">News</a></li>
					<li class="nav-item"><a class="nav-link" href="../index.html">Documentation</a></li>
					<li class="nav-item dropdown">
						<a class="nav-link nav-link-dropdown" data-toggle="dropdown" id="navbarGETHELP" href="#">Get Help <i class="nav-chevron fas fa-chevron-down"></i></a>
						<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarGETHELP" id="navbarGETHELPDIV">
							<a href="https://github.com/jamesagnew/hapi-fhir/wiki/Getting-Help" class="dropdown-item">Getting Help (read this first!)</a>
							<a href="https://groups.google.com/d/forum/hapi-fhir" class="dropdown-item">Google Group (ask questions)</a>
							<a href="https://github.com/jamesagnew/hapi-fhir/issues" class="dropdown-item">Issue Tracker (report bugs/request features)</a>
							<a href="https://chat.fhir.org/" class="dropdown-item">chat.fhir.org (live chat with FHIR implementers)</a>
							<a href="../appendix/faq.html" class="dropdown-item">Frequently Asked Questions (FAQ)</a>
						</div>
					</li>
					<li class="nav-item dropdown">
						<a class="nav-link nav-link-dropdown" data-toggle="dropdown" id="navbarTESTSERVERS" href="#">Test Server <i class="nav-chevron fas fa-chevron-down"></i></a>
						<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarTESTSERVERS" id="navbarTESTSERVERSDIV">
							<a href="http://hapi.fhir.org/" class="dropdown-item">HAPI FHIR Public Test Server</a>
						</div>
					</li>

				</ul>
			</div>
		</nav>
	</header>

	
	<script>
		var scrollAfter = 10;
	</script>

	



	<!-- "Scroll up the the search box" button -->
	<button class="btn btn-secondary hide-sm-and-below button-scroll-up-to-search"
			  onclick="$('#navcolumn').scrollTop(0); $('#button-ftsearch').focus();">
		Search&nbsp;<i class="fa fa-search"></i>
	</button>

	<!-- Right column with the in-page TOC (not visible on mobile) -->
	<div class="rightNavContainer hide-sm-and-below" id="pageNav">
		<nav id="toc"></nav>
	</div>

	<div class="container-fluid grid">
		<div class="row">
			
			<div class="hide-sm-and-below col-md-3 primaryColumn" id="navcolumn">
				<div>
					<div class="index-sidebar" id="side-nav">

						<!-- Fullltext Search box -->
						<div class="input-group">
							<input type="text" class="form-control" placeholder="Search" aria-label="Search"
									 aria-describedby="button-ftsearch-clear" style="margin-top: 0px;" id="button-ftsearch">
							<div class="input-group-append">
								<button class="btn btn-outline-info" type="button" id="button-ftsearch-clear"
										  onclick="javascript: $('#button-ftsearch').val(''); delayFunction(updateSearchFunction, 500);">
									<i class="fa fa-times-circle"></i>
								</button>
							</div>
							<script type="application/javascript">
								var delayFunction = (function () {
									var timer = 0;
									return function (callback, ms) {
										if (!$('#button-ftsearch').val()) {
											$('#leftTocSearchResults').hide();
											$('#leftTocView').show();
										} else {
											$('#leftTocView').hide();
											$('#leftTocSearchResults').show();
											$('#leftTocSearchResults').empty();
											$('#leftTocSearchResults').append($('<i class="fa fa-spinner fa-spin" style="margin-top: 20px; font-size:24px;"></i>'));
										}
										clearTimeout(timer);
										timer = setTimeout(callback, ms);
									};
								})();

								function updateSearchFunction() {
									if (!$('#button-ftsearch').val()) {
										$('#leftTocSearchResults').hide();
										$('#leftTocView').show();
									} else {
										$('#leftTocView').hide();
										$('#leftTocSearchResults').show();
										$.get("/hapi-fhir/docsearch", {
											term: $('#button-ftsearch').val()
										}, function (data) {
											$('#leftTocSearchResults').empty();

											let leftTocUl = null;
											let leftTocHeader = null;
											for (var idx = 0; idx < data.length; idx++) {
												if (leftTocHeader == null || leftTocHeader.text() !== data[idx].sectionTitle) {
													leftTocHeader = $('<h3>');
													leftTocHeader.text(data[idx].sectionTitle);
													$('#leftTocSearchResults').append(leftTocHeader);
													leftTocUl = $('<ul>');
													$('#leftTocSearchResults').append(leftTocUl);
												}
												let nextLink = $('<a>', {
													href: "/hapi-fhir/docs/" + data[idx].page + ".html"
												});
												nextLink.text(data[idx].title);

												let nextLinkLi = $('<li>').append(nextLink);
												leftTocUl.append(nextLinkLi);
											}
										}, 'json');
									}
								}

								$('#button-ftsearch').keyup(function () {
									delayFunction(updateSearchFunction, 500);
								});

								// Clear the search box if the page is reloaded
								$(function () {
									$('#button-ftsearch').val('');
								});

							</script>
						</div>

						<div id="leftTocView">
							
								<h3 class="activechapter">
									Welcome to HAPI FHIR
								</h3>
								<ul>
									<li>
										<a href="table_of_contents.html">
											<span class="pull-left">Table of Contents</span>
											<span class="pull-right">1.0</span>
										</a>
									</li>
									<li>
										<a href="changelog.html">
											<span class="pull-left">Changelog: 2021</span>
											<span class="pull-right">1.1</span>
										</a>
									</li>
									<li>
										<a href="changelog_2020.html">
											<span class="pull-left">Changelog: 2020</span>
											<span class="pull-right">1.2</span>
										</a>
									</li>
									<li>
										<a href="changelog_2019.html">
											<span class="pull-left">Changelog: 2019</span>
											<span class="pull-right">1.3</span>
										</a>
									</li>
									<li>
										<a href="changelog_2018.html">
											<span class="pull-left">Changelog: 2018</span>
											<span class="pull-right">1.4</span>
										</a>
									</li>
									<li class="active-side">
										<a href="changelog_2017.html">
											<span class="pull-left">Changelog: 2017</span>
											<span class="pull-right">1.5</span>
										</a>
									</li>
									<li>
										<a href="changelog_2016.html">
											<span class="pull-left">Changelog: 2016</span>
											<span class="pull-right">1.6</span>
										</a>
									</li>
									<li>
										<a href="changelog_2015.html">
											<span class="pull-left">Changelog: 2015</span>
											<span class="pull-right">1.7</span>
										</a>
									</li>
									<li>
										<a href="changelog_2014.html">
											<span class="pull-left">Changelog: 2014</span>
											<span class="pull-right">1.8</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Getting Started
								</h3>
								<ul>
									<li>
										<a href="../getting_started/introduction.html">
											<span class="pull-left">Introduction</span>
											<span class="pull-right">2.0</span>
										</a>
									</li>
									<li>
										<a href="../getting_started/versions.html">
											<span class="pull-left">FHIR and HAPI FHIR Versions</span>
											<span class="pull-right">2.1</span>
										</a>
									</li>
									<li>
										<a href="../getting_started/modules.html">
											<span class="pull-left">HAPI FHIR Modules</span>
											<span class="pull-right">2.2</span>
										</a>
									</li>
									<li>
										<a href="../getting_started/downloading_and_importing.html">
											<span class="pull-left">Downloading and Importing</span>
											<span class="pull-right">2.3</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Working With The FHIR Model
								</h3>
								<ul>
									<li>
										<a href="../model/working_with_resources.html">
											<span class="pull-left">Working With Resources</span>
											<span class="pull-right">3.0</span>
										</a>
									</li>
									<li>
										<a href="../model/parsers.html">
											<span class="pull-left">Parsing and Serializing</span>
											<span class="pull-right">3.1</span>
										</a>
									</li>
									<li>
										<a href="../model/references.html">
											<span class="pull-left">Resource References</span>
											<span class="pull-right">3.2</span>
										</a>
									</li>
									<li>
										<a href="../model/profiles_and_extensions.html">
											<span class="pull-left">Profiles and Extensions</span>
											<span class="pull-right">3.3</span>
										</a>
									</li>
									<li>
										<a href="../model/converter.html">
											<span class="pull-left">Version Converters</span>
											<span class="pull-right">3.4</span>
										</a>
									</li>
									<li>
										<a href="../model/custom_structures.html">
											<span class="pull-left">Custom Structures</span>
											<span class="pull-right">3.5</span>
										</a>
									</li>
									<li>
										<a href="../model/narrative_generation.html">
											<span class="pull-left">Narrative Generation</span>
											<span class="pull-right">3.6</span>
										</a>
									</li>
									<li>
										<a href="../model/bundle_builder.html">
											<span class="pull-left">Bundle Builder</span>
											<span class="pull-right">3.7</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Client
								</h3>
								<ul>
									<li>
										<a href="../client/introduction.html">
											<span class="pull-left">Introduction</span>
											<span class="pull-right">4.0</span>
										</a>
									</li>
									<li>
										<a href="../client/get_started.html">
											<span class="pull-left">Get Started ⚡</span>
											<span class="pull-right">4.1</span>
										</a>
									</li>
									<li>
										<a href="../client/generic_client.html">
											<span class="pull-left">Generic (Fluent) Client</span>
											<span class="pull-right">4.2</span>
										</a>
									</li>
									<li>
										<a href="../client/annotation_client.html">
											<span class="pull-left">Annotation Client</span>
											<span class="pull-right">4.3</span>
										</a>
									</li>
									<li>
										<a href="../client/client_configuration.html">
											<span class="pull-left">Client Configuration</span>
											<span class="pull-right">4.4</span>
										</a>
									</li>
									<li>
										<a href="../client/examples.html">
											<span class="pull-left">Client Examples</span>
											<span class="pull-right">4.5</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Plain Server
								</h3>
								<ul>
									<li>
										<a href="../server_plain/server_types.html">
											<span class="pull-left">REST Server Types</span>
											<span class="pull-right">5.0</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/introduction.html">
											<span class="pull-left">Plain Server Introduction</span>
											<span class="pull-right">5.1</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/get_started.html">
											<span class="pull-left">Get Started ⚡</span>
											<span class="pull-right">5.2</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/resource_providers.html">
											<span class="pull-left">Resource Providers and Plain Providers</span>
											<span class="pull-right">5.3</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/rest_operations.html">
											<span class="pull-left">REST Operations: Overview</span>
											<span class="pull-right">5.4</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/rest_operations_search.html">
											<span class="pull-left">REST Operations: Search</span>
											<span class="pull-right">5.5</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/rest_operations_operations.html">
											<span class="pull-left">REST Operations: Extended Operations</span>
											<span class="pull-right">5.6</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/paging.html">
											<span class="pull-left">Paging Search Results</span>
											<span class="pull-right">5.7</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/web_testpage_overlay.html">
											<span class="pull-left">Web Testpage Overlay</span>
											<span class="pull-right">5.8</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/multitenancy.html">
											<span class="pull-left">Multitenancy</span>
											<span class="pull-right">5.9</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/jax_rs.html">
											<span class="pull-left">JAX-RS Support</span>
											<span class="pull-right">5.10</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/customizing_the_capabilitystatement.html">
											<span class="pull-left">Customizing the CapabilityStatement</span>
											<span class="pull-right">5.11</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/openapi.html">
											<span class="pull-left">OpenAPI / Swagger</span>
											<span class="pull-right">5.12</span>
										</a>
									</li>
								</ul>
							
								<h3>
									JPA Server
								</h3>
								<ul>
									<li>
										<a href="../server_jpa/introduction.html">
											<span class="pull-left">Introduction</span>
											<span class="pull-right">6.0</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/get_started.html">
											<span class="pull-left">Get Started ⚡</span>
											<span class="pull-right">6.1</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/architecture.html">
											<span class="pull-left">Architecture</span>
											<span class="pull-right">6.2</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/schema.html">
											<span class="pull-left">Database Schema</span>
											<span class="pull-right">6.3</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/configuration.html">
											<span class="pull-left">Configuration</span>
											<span class="pull-right">6.4</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/search.html">
											<span class="pull-left">Search</span>
											<span class="pull-right">6.5</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/performance.html">
											<span class="pull-left">Performance</span>
											<span class="pull-right">6.6</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/upgrading.html">
											<span class="pull-left">Upgrade Guide</span>
											<span class="pull-right">6.7</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/diff.html">
											<span class="pull-left">Diff Operation</span>
											<span class="pull-right">6.8</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/lastn.html">
											<span class="pull-left">LastN Operation</span>
											<span class="pull-right">6.9</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/elastic.html">
											<span class="pull-left">Lucene/Elasticsearch Indexing</span>
											<span class="pull-right">6.10</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/terminology.html">
											<span class="pull-left">Terminology</span>
											<span class="pull-right">6.11</span>
										</a>
									</li>
								</ul>
							
								<h3>
									JPA Server: MDM
								</h3>
								<ul>
									<li>
										<a href="../server_jpa_mdm/mdm.html">
											<span class="pull-left">MDM Getting Started</span>
											<span class="pull-right">7.0</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_mdm/mdm_rules.html">
											<span class="pull-left">MDM Rules</span>
											<span class="pull-right">7.1</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_mdm/mdm_eid.html">
											<span class="pull-left">MDM Enterprise Identifiers</span>
											<span class="pull-right">7.2</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_mdm/mdm_operations.html">
											<span class="pull-left">MDM Operations</span>
											<span class="pull-right">7.3</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_mdm/mdm_details.html">
											<span class="pull-left">MDM Technical Details</span>
											<span class="pull-right">7.4</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_mdm/mdm_expansion.html">
											<span class="pull-left">MDM Search Expansion</span>
											<span class="pull-right">7.5</span>
										</a>
									</li>
								</ul>
							
								<h3>
									JPA Server: CQL
								</h3>
								<ul>
									<li>
										<a href="../server_jpa_cql/cql.html">
											<span class="pull-left">CQL Getting Started</span>
											<span class="pull-right">8.0</span>
										</a>
									</li>
								</ul>
							
								<h3>
									JPA Server: Partitioning and Multitenancy
								</h3>
								<ul>
									<li>
										<a href="../server_jpa_partitioning/partitioning.html">
											<span class="pull-left">Partitioning and Multitenancy</span>
											<span class="pull-right">9.0</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_partitioning/partition_interceptor_examples.html">
											<span class="pull-left">Partition Interceptor Examples</span>
											<span class="pull-right">9.1</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_partitioning/partitioning_management_operations.html">
											<span class="pull-left">Partitioning Management Operations</span>
											<span class="pull-right">9.2</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_partitioning/enabling_in_hapi_fhir.html">
											<span class="pull-left">Enabling Partitioning in HAPI FHIR</span>
											<span class="pull-right">9.3</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Interceptors
								</h3>
								<ul>
									<li>
										<a href="../interceptors/interceptors.html">
											<span class="pull-left">Interceptors Overview</span>
											<span class="pull-right">10.0</span>
										</a>
									</li>
									<li>
										<a href="../interceptors/client_interceptors.html">
											<span class="pull-left">Client Interceptors</span>
											<span class="pull-right">10.1</span>
										</a>
									</li>
									<li>
										<a href="../interceptors/client_pointcuts.html">
											<span class="pull-left">Client Pointcuts</span>
											<span class="pull-right">10.2</span>
										</a>
									</li>
									<li>
										<a href="../interceptors/built_in_client_interceptors.html">
											<span class="pull-left">Built-In Client Interceptors</span>
											<span class="pull-right">10.3</span>
										</a>
									</li>
									<li>
										<a href="../interceptors/server_interceptors.html">
											<span class="pull-left">Server Interceptors</span>
											<span class="pull-right">10.4</span>
										</a>
									</li>
									<li>
										<a href="../interceptors/server_pointcuts.html">
											<span class="pull-left">Server Pointcuts</span>
											<span class="pull-right">10.5</span>
										</a>
									</li>
									<li>
										<a href="../interceptors/built_in_server_interceptors.html">
											<span class="pull-left">Built-In Server Interceptors</span>
											<span class="pull-right">10.6</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Security
								</h3>
								<ul>
									<li>
										<a href="../security/introduction.html">
											<span class="pull-left">Introduction</span>
											<span class="pull-right">11.0</span>
										</a>
									</li>
									<li>
										<a href="../security/authorization_interceptor.html">
											<span class="pull-left">Authorization Interceptor</span>
											<span class="pull-right">11.1</span>
										</a>
									</li>
									<li>
										<a href="../security/consent_interceptor.html">
											<span class="pull-left">Consent Interceptor</span>
											<span class="pull-right">11.2</span>
										</a>
									</li>
									<li>
										<a href="../security/search_narrowing_interceptor.html">
											<span class="pull-left">Search Narrowing Interceptor</span>
											<span class="pull-right">11.3</span>
										</a>
									</li>
									<li>
										<a href="../security/cors.html">
											<span class="pull-left">CORS</span>
											<span class="pull-right">11.4</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Validation
								</h3>
								<ul>
									<li>
										<a href="../validation/introduction.html">
											<span class="pull-left">Introduction</span>
											<span class="pull-right">12.0</span>
										</a>
									</li>
									<li>
										<a href="../validation/parser_error_handler.html">
											<span class="pull-left">Parser Error Handler</span>
											<span class="pull-right">12.1</span>
										</a>
									</li>
									<li>
										<a href="../validation/instance_validator.html">
											<span class="pull-left">Instance Validator</span>
											<span class="pull-right">12.2</span>
										</a>
									</li>
									<li>
										<a href="../validation/validation_support_modules.html">
											<span class="pull-left">Validation Support Modules</span>
											<span class="pull-right">12.3</span>
										</a>
									</li>
									<li>
										<a href="../validation/schema_validator.html">
											<span class="pull-left">Schema/Schematron Validator</span>
											<span class="pull-right">12.4</span>
										</a>
									</li>
									<li>
										<a href="../validation/repository_validating_interceptor.html">
											<span class="pull-left">Repository Validating Interceptor</span>
											<span class="pull-right">12.5</span>
										</a>
									</li>
									<li>
										<a href="../validation/examples.html">
											<span class="pull-left">Validation Examples</span>
											<span class="pull-right">12.6</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Android
								</h3>
								<ul>
									<li>
										<a href="../android/client.html">
											<span class="pull-left">Android Client</span>
											<span class="pull-right">13.0</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Tools
								</h3>
								<ul>
									<li>
										<a href="../tools/hapi_fhir_cli.html">
											<span class="pull-left">Command Line Interface (CLI) Tool</span>
											<span class="pull-right">14.0</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Contributing to HAPI FHIR
								</h3>
								<ul>
									<li>
										<a href="../contributing/hacking_guide.html">
											<span class="pull-left">Hacking Guide</span>
											<span class="pull-right">15.0</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Appendix
								</h3>
								<ul>
									<li>
										<a href="../appendix/logging.html">
											<span class="pull-left">Logging</span>
											<span class="pull-right">16.0</span>
										</a>
									</li>
									<li>
										<a href="../appendix/faq.html">
											<span class="pull-left">FAQ</span>
											<span class="pull-right">16.1</span>
										</a>
									</li>
									<li>
										<a href="../appendix/javadocs.html">
											<span class="pull-left">JavaDocs</span>
											<span class="pull-right">16.2</span>
										</a>
									</li>
								</ul>
							
						</div>
						<div id="leftTocSearchResults">

						</div>

					</div>
				</div>
			</div>

			
			<div class="col-xs-12 col-md-9 primaryColumn" id="tocscroll">

				<!-- Pager -->
				<div class="hide-sm-and-below">
</div>

				<div class="hide-md-and-above mobile-header-links">
					<a href="table_of_contents.html" class="btn btn-primary">
						<i class="fa fa-arrow-left"></i>
						&nbsp;&nbsp;
						Table of Contents
					</a>
					<p>Changelog: 2017</p>
				</div>

				<div class="docs-content">
					<a name="changelog-2017"></a>
<section id="section0"><h1 data-toc-text="Changelog: 2017"><span class="helpHeaderSectionNumberBadge">1.5</span>Changelog: 2017</h1><a href="changelog_2017.html#changelog-2017" class="helpSectionLink">&nbsp;</a>
</section>

<a name="changelog"></a>
<section id="section1"><h1 data-toc-text="Changelog"><span class="helpHeaderSectionNumberBadge">1.5.1</span>Changelog</h1><a href="changelog_2017.html#changelog" class="helpSectionLink">&nbsp;</a>
</section>

<a name="hapi-fhir-310"></a>
<section id="section2"><h1 data-toc-text="HAPI FHIR 3.1.0"><span class="helpHeaderSectionNumberBadge">1.5.2</span>HAPI FHIR 3.1.0</h1><a href="changelog_2017.html#hapi-fhir-310" class="helpSectionLink">&nbsp;</a><a name="release-information"></a>
<h2>Release Information</h2>
<p><strong>Released:</strong> 2017-11-23</p>
<a name="changes"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change3.1.0-0"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The version of a few dependencies have been bumped to the latest versions (dependent HAPI modules listed in brackets): <ul> <li>Spring (JPA): 4.3.10 -&gt; 5.0.0</li> <li>Jackson (JPA): 2.8.1 -&gt; 2.9.2</li> </ul></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-10"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>In Apache client, remove a log message at WARN level when the response does not specify a charset. This log line often showed up any time a server was not supplying a response, making client logs quite noisy</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-11"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new configuration item has been added to the JPA server DaoConfig called <code>getCountSearchResultsUpTo()</code> . This setting governs how many search results the search coordinator should try to find before returning an initial search response to the user, which has an effect on whether the <code>Bundle.total</code> field is always populated in search responses. This has now been set to 20000 on out public server (fhirtest.uhn.ca) so most search results should now include a total.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-13"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The DSTU2 XhtmlDt type has been modified so that it no longer uses the StAX XMLEvent type as its internal model, and instead simply uses a String. New methods called &quot;parse&quot; and &quot;encode&quot; have been added to HAPI FHIR's XmlUtil class, which can be used to convert between a String and an XML representation. This should allow HAPI FHIR to run in environments where StAX is not available, such as Android phones.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-14"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/761">#761</a>
        </td>
        <td>
            <p>Restored the <code>org.hl7.fhir.r4.model.codesystem.*</code> classes (which are Java Enums for the various FHIR codesystems). These were accidentally removed in HAPI FHIR 3.0.0. Thanks to GitHub user @CarthageKing for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-18"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/711">#711</a>
        </td>
        <td>
            <p>Client logic for checking the version of the connected server to ensure it is for the correct version of FHIR now includes a check for R4 servers. Thanks to Clayton Bodendein for the pull request, including a number of great tests!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-19"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/714">#714</a>
        </td>
        <td>
            <p>JAX-RS client framework now supports the ability to register your own JAX-RS Component Classes against the client, as well as better documentation about thread safety. Thanks to SÃ©bastien RiviÃ¨re for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-2"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A performance to the JPA server has been made which reduces the number of writes to index tables when updating a resource with contents that only make minor changes to the resource content. In many cases this can noticeably improve update performance.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-21"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Add <code>Prefer</code> and <code>Cache-Control</code> to the list of headers which are declared as being acceptable for CORS requests in CorsInterceptor, CLI, and JPA Example. Thanks to Patrick Werner for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-24"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Bundle resources did not have their version encoded when serializing in FHIR resource (XML/JSON) format.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-25"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The Binary resource endpoint now supports the <code>X-Security-Context</code> header when reading or writing Binary contents using their native Content-Type (i.e exchanging the raw binary with the server, as opposed to exchanging a FHIR resource).</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-27"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/743">#743</a>
        </td>
        <td>
            <p>Add support for Spring Boot for initializing a number of parts of the library, as well as several examples. See the <a href="https://github.com/hapifhir/hapi-fhir/tree/master/hapi-fhir-spring-boot/hapi-fhir-spring-boot-samples">Spring Boot samples</a> for examples of how this works. Thanks to Mathieu Ouellet for the contribution!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-28"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/747">#747</a>
        </td>
        <td>
            <p>JPA server now has lucene index support moved to separate classes from the entity classes in order to facilitate support for ElasticSearch. Thanks to Jiang Liang for the pull request! Note that any existing JPA projects will need to add an additional property in their Spring config called <code>hibernate.search.model_mapping</code>. See <a href="https://github.com/hapifhir/hapi-fhir/blob/master/hapi-fhir-jpaserver-example/src/main/java/ca/uhn/fhir/jpa/demo/FhirServerConfig.java#L84">this line</a> in the example project.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-29"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/755">#755</a>
        </td>
        <td>
            <p>A new client interceptor has been added called AdditionalRequestHeadersInterceptor, which allows a developer to add additional custom headers to a client requests. Thanks to Clayton Bodendein for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-32"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/767">#767</a>
        </td>
        <td>
            <p>JAX-RS server module was not able to generate server CapabilityStatement for some versions of FHIR (DSTU2_HL7ORG, DSTU2_1, or R4). Thanks to Clayton Bodendein for the Pull Request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-33"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/769">#769</a>
        </td>
        <td>
            <p>When a server method throws a DataFormatException, the error will now be converted into an HTTP 400 instead of an HTTP 500 when returned to the client (and a stack trace will now be returned to the client for JAX-RS server if configured to do so). Thanks to Clayton Bodendein for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-36"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/762">#762</a>
        </td>
        <td>
            <p>Prevent a crash in AuthorizationInterceptor when processing transactions if the interceptor has rules declared which allow resources to be read/written by &quot;any ID of a given type&quot;. Thanks to GitHub user @dconlan for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-5"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA server now supports the use of the <code>Cache-Control</code> header in order to allow the client to selectively disable the search result cache. This directive can also be used to disable result paging and return results faster when only a small number of results is needed. See the JPA Page for more information.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-7"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA Server search/history results now set the ID of the returned Bundle to the ID of the search, meaning that if a search returns results from the Query cache, it will reuse the ID of the previously returned Bundle</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-9"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The JPA server transaction operation (DSTU3/R4) did not correctly process the If-Match header when passed in via <code>Bundle.entry.request.ifMatch</code> value</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-1"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The Android client module has been restored to working order, and no longer requires a special classifier or an XML parser to be present in order to work. This means that the hapi-fhir-android library is much less likely to cause conflicts with other libraries imported into an Android application via Gradle. <br/><br/> See the HAPI FHIR Android Documentation for more information. As a part of this fix, all dependencies on the StAX API have been removed in environments where StAX is not present (such as Android). The client will now detect this case, and explicitly request JSON payloads from servers, meaning that Android clients no longer need to include two parser stacks</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-12"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Remove a bunch of exceptions in the org.hl7.fhir.exception package from the hapi-fhir-base module, as they were also duplicated in the hapi-fhir-utilities module.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-15"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The resource Profile Validator has been enhanced to not try to validate bound fields where the binding strength is &quot;example&quot;, and a crash was resolved when validating QuestionnaireResponse answers with a type of &quot;choice&quot; where the choice was bound to a ValueSet.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-16"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Remove the fake &quot;Test&quot; resource from DSTU2 structures. This was not a real resource type, and caused conflicts with the .NET client. Thanks to Vlad Ignatov for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-17"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/720">#720</a>
        </td>
        <td>
            <p>Parsing a DSTU3/R4 custom structure which contained a field of a custom type caused a crash during parsing. Thanks to GitHub user @mosaic-hgw for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-20"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/717">#717</a>
        </td>
        <td>
            <p>Processing of the If-Modified-Since header on FHIR read operations was reversed, returning a 304 when the resource had been modified recently. Thanks to Michael Lawley for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-22"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/725">#725</a>
        </td>
        <td>
            <p>DSTU2-hl7org and DSTU2.1 structures did not copy resource IDs when invoking copyValues(). Thanks to Clayton Bodendein for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-23"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/734">#734</a>
        </td>
        <td>
            <p>When encoding a Binary resource, the Binary.securityContext field was not encoded correctly. Thanks to Malcolm McRoberts for the pull request with fix and test case!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-26"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>When paging through multiple pages of search results, if the client had requested a subset of resources to be returned using the <code>_elements</code> parameter, the elements list was lost after the first page of results. In addition, elements will not remove elements from search/history Bundles (i.e. elements from the Bundle itself, as opposed to elements in the entry resources) unless the Bundle elements are explicitly listed, e.g. <code>_include=Bundle.total</code> . Thanks to @parisni for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-3"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>In FHIR DSTU3 the <code>ValueSet/$expand?identifier=foo</code> and <code>ValueSet/$validate-code?identifier=foo</code> parameters were changed to <code>ValueSet/$expand?url=foo</code> and <code>ValueSet/$validate-code?url=foo</code> respectively, but the JPA server had not caught up. The JPA DSTU3 server has been adjusted to accept either &quot;identifier&quot; or &quot;url&quot; (with &quot;url&quot; taking precedence), and the JPA R4 server has been changed to only accept &quot;url&quot;. Thanks to Avinash Shanbhag for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-30"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>An issue was fixed in JPA server where extensions on primitives which are nestedt several layers deep are lost when resources are retrieved</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-31"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/756">#756</a>
        </td>
        <td>
            <p>Conditional deletes in JPA server were incorrectly denied by AuthorizationInterceptor if the delete was permitted via a compartment rule. Thanks to Alvin Leonard for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-34"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/770">#770</a>
        </td>
        <td>
            <p>JAX-RS server conformance provider in the example module passed in the server description, server name, and server version in the incorrect order. Thanks to Clayton Bodendein for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-35"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/774">#774</a>
        </td>
        <td>
            <p>The learn more links on the website home page had broken links. Thanks to James Daily for the pull request to fix this!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-4"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/744">#744</a>
        </td>
        <td>
            <p>Fix an error in JPA server when using Derby Database, where search queries with a search URL longer than 255 characters caused a mysterious failure. Thanks to Chris Schuler and Bryn Rhodes for all of their help in reproducing this issue.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-6"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>In certain cases in the JPA server, if multiple threads all attempted to update the same resource simultaneously, the optimistic lock failure caused a &quot;gap&quot; in the history numbers to occur. This would then cause a mysterious failure when trying to update this resource further. This has been resolved.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.1.0-8"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Fix a NullPointerException when validating a Bundle (in DSTU3/R4) with no <code>Bundle.type</code> value</p>
        </td>
    </tr>
</table>
</section>

<a name="change3.1.0-0"></a>
<section id="section3"><h1 data-toc-text="HAPI FHIR 3.0.0"><span class="helpHeaderSectionNumberBadge">1.5.3</span>HAPI FHIR 3.0.0</h1><a href="changelog_2017.html#change3.1.0-0" class="helpSectionLink">&nbsp;</a><a name="release-information-1"></a>
<h2>Release Information</h2>
<p><strong>Released:</strong> 2017-09-27</p>
<a name="changes-1"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change3.0.0-0"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Support for FHIR R4 (current working draft) has been <b>added</b> (in a new module called <code>hapi-fhir-structures-r4</code> ) and support for FHIR DSTU1 ( <code>hapi-fhir-structures-dstu</code> ) has been <b>removed</b> . Removing support for the legacy DSTU1 FHIR version was a difficult decision, but it allows us the opportunitity to clean up the codebase quite a bit, and remove some confusing legacy parts of the API (such as the legacy Atom Bundle class). <br/><br/> A new redesigned table of HAPI FHIR versions to FHIR version support has been added to the Download Page</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-1"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>HAPI FHIR's modules have been restructured for more consistency and less coupling between unrelated parts of the API. <br/><br/> A new complete list of HAPI FHIR modules has been added to the Download Page. Key changes include: <ul> <li> HAPI FHIR's <b>client</b> codebase has been moved out of <code>hapi-fhir-base</code> and in to a new module called <code>hapi-fhir-client</code>. Client users now need to explicitly add this JAR to their project (and non-client users now no longer need to depend on it) </li> <li> HAPI FHIR's <b>server</b> codebase has been moved out of <code>hapi-fhir-base</code> and in to a new module called <code>hapi-fhir-server</code>. Server users now need to explicitly add this JAR to their project (and non-server users now no longer need to depend on it) </li> <li> As a result of the client and server changes above, we no longer need to produce a special Android JAR which contains the client, server (which added space but was not used) and structures. There is now a normal module called <code>hapi-fhir-android</code> which is added to your Android Gradle file along with whatever structures JARs you wish to add. See the <a href="https://github.com/hapifhir/hapi-fhir-android-integration-test">Android Integration Test</a> to see a sample project using HAPI FHIR 3.0.0. <b>Note that this has been reported to work by some people but others are having issues with it!</b> In order to avoid delaying this release any further we are releasing now despite these issues. If you are an Android guru and want to help iron things out please get in touch. If not, it might be a good idea to stay on HAPI FHIR 2.5 until the next point release of the 3.x series. </li> <li> A new JAR containing FHIR utilities called <code>hapi-fhir-utilities</code> has been added. This JAR reflects the ongoing harmonization between HAPI FHIR and the FHIR RI codebases and is generally required in order to use HAPI at this point (if you are using a dependency manager such as Maven or Gradle it will be brought in to your project automatically as a dependency) </li> </ul></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-11"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>IServerOperationInterceptor now has a new method <code>resourceUpdated(RequestDetails, IBaseResource, IBaseResource)</code> which replaces the previous <code>resourceUpdated(RequestDetails, IBaseResource)</code> . This allows interceptors to be notified of resource updates, but also see what the resource looked like before the update. This change was made to support the change above, but seems like a useful feature all around.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-14"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA server transaction processing now honours the Prefer header and includes created and updated resource bodies in the response bundle if it is set appropriately.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-15"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Optimize queries in JPA server remove a few redundant select columns when performing searches. This provides a slight speed increase in some cases.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-16"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Add configuration to JPA server DaoConfig that allows a maximum number of search results to be specified. Queries will never return more than this number, which can be good for avoiding accidental performance problems in situations where large queries should not be needed</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-2"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>In order to allow the reoganizations and decoupling above to happen, a number of important classes and interfaces have been moved to new packages. A sample list of these changes is listed below. When upgrading to 3.0.0 your project may well show a number of compile errors related to missing classes. In most cases this can be resolved by simply removing the HAPI imports from your classes and asking your IDE to &quot;Organize Imports&quot; once again. This is an annoying change we do realize, but it is neccesary in order to allow the project to continue to grow. <ul> <li>IGenericClient moved from package ca.uhn.fhir.rest.client to package ca.uhn.fhir.rest.client.api</li> <li>IRestfulClient moved from package ca.uhn.fhir.rest.client to package ca.uhn.fhir.rest.client.api</li> <li>AddProfileTagEnum moved from package ca.uhn.fhir.rest.server to package ca.uhn.fhir.context.api</li> <li>IVersionSpecificBundleFactory moved from package ca.uhn.fhir.rest.server to package ca.uhn.fhir.context.api</li> <li>BundleInclusionRule moved from package ca.uhn.fhir.rest.server to package ca.uhn.fhir.context.api</li> <li>RestSearchParameterTypeEnum moved from package ca.uhn.fhir.rest.server to package ca.uhn.fhir.rest.api</li> <li>EncodingEnum moved from package ca.uhn.fhir.rest.server to package ca.uhn.fhir.rest.api</li> <li>Constants moved from package ca.uhn.fhir.rest.server to package ca.uhn.fhir.rest.api</li> <li>IClientInterceptor moved from package ca.uhn.fhir.rest.client to package ca.uhn.fhir.rest.client.api</li> <li>ITestingUiClientFactory moved from package ca.uhn.fhir.util to package ca.uhn.fhir.rest.server.util</li> </ul></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-21"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA search now uses hibernate ScrollableResults instead of plain JPA List. This should improve performance over large search results.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-22"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA servers with no paging provider configured, or with a paging provider other than DatabaseBackedPagingProvider will load all results in a single pass and keep them in memory. Using this setup is not a good idea unless you know for sure that you will never have very large queries since it means that all results will be loaded into memory, but there are valid reasons to need this and it will perform better than paging to the database in that case. This fix also resolves a NullPointerException when performing an $everything search. Thanks to Kamal Othman for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-24"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Add an optional and configurable hard limit on the total number of meta items (tags, profiles, and security labels) on an individual resource. The default is 1000.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-25"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>When executing a search (HTTP GET) as a nested operation in in a transaction or batch operation, the search now returns a normal page of results with a link to the next page, like any other search would. Previously the search would return a small number of results with no paging performed, so this change brings transaction and batch processing in line with other types of search.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-26"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA server no longer returns an OperationOutcome resource as the first resource in the Bundle for a response to a batch operation. This behaviour was previously present, but was not specified in the FHIR specification so it caused confusion and was inconsistent with behaviour in other servers.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-3"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Because the Atom-based DSTU1 Bundle class has been removed from the library, users of the HAPI FHIR client must now always include a Bundle return type in search calls. For example, the following call would have worked previously: <br/> Bundle bundle = client.search().forResource(Patient.class)<br/> .where(new TokenClientParam(&quot;gender&quot;).exactly().code(&quot;unknown&quot;))<br/> .prettyPrint()<br/> .execute();<br/><br/> This now needs an explicit returnBundle statement, as follows: <br/> Bundle bundle = client.search().forResource(Patient.class)<br/> .where(new TokenClientParam(&quot;gender&quot;).exactly().code(&quot;unknown&quot;))<br/> .prettyPrint()<br/> .returnBundle(Bundle.class)<br/> .execute();<br/></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-30"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JpaConformanceProvider now has a configuration setting to enable and disable adding resource counts to the server metadata.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-34"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/651">#651</a>
        </td>
        <td>
            <p>Enhancement to ResponseHighlighterInterceptor where links in the resource body are now converted to actual clickable hyperlinks. Thanks to Eugene Lubarsky for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-35"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>BanUnsupportedHttpMethodsInterceptor has been modified so that it now allows HTTP PATCH to proceed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-36"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/651">#651</a>
        </td>
        <td>
            <p>Enhancement to ResponseHighlighterInterceptor so that it now can be configured to display the request headers and response headers, and individual lines may be highlighted.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-4"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The version of a few dependencies have been bumped to the latest versions (dependent HAPI modules listed in brackets): <ul> <li>Gson (JSON Parser): 2.8.0 -&gt; 2.8.1</li> <li>Commons-lang3 (Everywhere): 3.5 -&gt; 3.6</li> <!--<li>Saxon-HE (Validator): 9.5.1-5 -&gt; 9.8.0-3</li>--> <li>Apache HttpClient (FHIR Client): 4.5.2 -&gt; 4.5.3</li> <li>Apache HttpCore (FHIR Client): 4.4.5 -&gt; 4.4.6</li> <li>Phloc Commons (Schematron Validator): 4.4.6 -&gt; 4.4.11</li> <li>Hibernate (JPA): 5.2.9 -&gt; 5.2.10</li> <li>Hibernate Search (JPA): 5.7.0 -&gt; 5.7.1</li> <li>Spring (JPA): 4.3.7 -&gt; 4.3.10</li> <li>Spring Data JPA (JPA): 1.10.4 -&gt; 1.11.6</li> <li>Guava (JPA): 22.0 -&gt; 23.0</li> <li>Thymeleaf (Testpage Overlay): 3.0.2 -&gt; 3.0.7</li> <li>OkHttp (Android): 3.4.1 -&gt; 3.8.1</li> </ul></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-41"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/689">#689</a>
        </td>
        <td>
            <p>Add a command line flag to the CLI tool to allow configuration of the server search result cache timeout period. Thanks to Eugene Lubarsky for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-44"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA server transaction operations now put OperationOutcome resources resulting from actions in <code>Bundle.entry.response.outcome</code> instead of the previous <code>Bundle.entry.resource</code></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-48"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/701">#701</a>
        </td>
        <td>
            <p>Testing UI now has a dropdown for modifiers on token search. Thanks to GitHub user @dconlan for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-49"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/688">#688</a>
        </td>
        <td>
            <p>When parsing an incomplete ID with the form <code>http://my.org/Foo</code> into IdDt and IdType objects, the Foo portion will now be treated as the resource type. Previously my.org was treated as the resource type and Foo was treated as the ID. Thanks to GitHub user @CarthageKing for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-5"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA Subscription support has been refactored. A design contributed by Jeff Chung for the REST Hook subscription module has been ported so that Websocket subscriptions use it too. This design uses an interceptor to scan resources as they are processed to test whether they should be delivered to subscriptions, instead of using a polling design. <br/><br/> In addition, this scanning has been reworked to happen in a separate thread from the main storage thread, which should improve performance and scalability of systems with multiple subscriptions. Thanks to Jeff for all of his work on this!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-54"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Add a new constructor to SimpleRequestHeaderInterceptor which allows a complete header to be passed in (including name and value in one string)</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-55"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>REST Hook subscriptions now honour the Subscription.channel.header field</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-56"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>DSTU2 validator has been enhanced to do a better job handling ValueSets with expansions pointing to other ValueSets</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-58"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/712">#712</a>
        </td>
        <td>
            <p>Add appropriate import statements for logging to JPA demo code. Thanks to Rob Hausam for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-59"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/700">#700</a>
        </td>
        <td>
            <p>Add some browser performance logging to ResponseHighlightingInterceptor. Thanks to Eugene Lubarsky for the pull request, and for convincing James not to optimize something that did not need optimizing!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-60"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new config property has been added to the JPA seerver DaoConfig called &quot;setAutoCreatePlaceholderReferenceTargets&quot;. This property causes references to unknown resources in created/updated resources to have a placeholder target resource automatically created.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-61"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The server LoggingInterceptor has had a variable called <code>processingTimeMillis</code> which logs the number of milliseconds the server took to process a given request since HAPI FHIR 2.5, but this was not documented. This variable has now been documented as a part of the available features.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-62"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new experimental feature has been added to the JPA server which allows you to define certain search parameter combinations as being resource keys, so that a database constraint will prevent more than one resource from having a matching pair</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-63"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>When using the client LoggingInterceptor in non-verbose mode, the log line showing the server's response HTTP status will now also include the returned <code>Location</code> header value as well</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-64"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new flag has been add to the CLI upload-definitions command &quot;-e&quot; which allows skipping particular resources</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-65"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>An issue in JPA server has been corrected where if a CodeSystem resource was deleted, it was not possible to create a new resource with the same URI as the previous one</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-67"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Subscriptions in JPA server now support &quot;email&quot; delivery type through the use of a new interceptor which handles that type</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-68"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA server can now be configured to not support <code>:missing</code> modifiers, which increases write performance since fewer indexes are written</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-69"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new JPA configuration option has been added to the DaoConfig which allows support for the <code>:missing</code> search parameter modifier to be enabled or disabled, and sets the default to DISABLED. <br/><br/> Support for this parameter causes many more index rows to be inserted in the database, which has a significant impact on write performance. A future HAPI update may allow these rows to be written asynchronously in order to improve this.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-7"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA server is now able to handle placeholder IDs (e.g. urn:uuid:00....000) being used in Bundle.entry.request.url as a part of the conditional URL within transactions.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-10"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/667">#667</a>
        </td>
        <td>
            <p>When using the AuthorizationInterceptor with the JPA server, when a client is updating a resource from A to B, the user now needs to have write permission for both A and B. This is particularly important for cases where (for example) an Observation is being updated from having a subject of Patient/A to Patient/B. If the user has write permission for Patient/B's compartment, this would previously have been allowed even if the user did not have access to write to Patient/A's compartment. Thanks to Eeva Turkka for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-12"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/604">#604</a>
        </td>
        <td>
            <p>Allow DateParam (used in servers) to handle values with MINUTE precision. Thanks to Christian Ohr for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-13"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Fix HTTP 500 error in JPA server if a numeric search parameter was supplied with no value, e.g. <code>GET /Observation?value-quantity=</code></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-17"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/674">#674</a>
        </td>
        <td>
            <p>Prevent duplicates in $everything query response in JPA server. Thanks to @vlad-ignatov for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-18"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Fix issue in calling JPA server transactions programmatically where resources are linked by object reference and not by ID where indexes were not correctly generated. This should not affect most users.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-19"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/678">#678</a>
        </td>
        <td>
            <p>Fix issue in SubscriptionInterceptor that caused interceptor to only actually notify listeners of the first 10 subscriptions. Thanks to Jeff Chung for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-20"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/693">#693</a>
        </td>
        <td>
            <p>Fix potential ConcurrentModificationException when adding subscriptions while running under heavy load. Thanks to Jeff Chung for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-23"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Correct an issue in JPA server on Postgres where searches with a long search URL were not able to be automatically purged from the database after they were scheduled for deletion. Thanks to Ravi Kuchi for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-27"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Fix a regression in HAPI FHIR 2.5 JPA server where executing a search in a transaction or batch operation caused an exception. Thanks to Ravi Kuchi for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-28"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Correct an issue when processing transactions in JPA server where updates and creates to resources with tags caused the tags to be created twice in the database. These duplicates were utomatically filtered upon read so this issue was not user-visible, but it coule occasionally lead to performance issues if a resource containing multiple tags was updated many times via transactions.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-29"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA server should not allow creation of resources that have a reference to a resource ID that previously existed but is now deleted. Thanks to Artem Sopin for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-31"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Avoid a deadlock in JPA server when the RequestValidatingInterceptor is being used and a large number of resources are being created by clients at the same time.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-32"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Testpage Overlay's transaction method did not work if the response Bundle contained any entries that did not contain a resource (which is often the case in more recent versions of HAPI). Thanks to Sujay R for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-33"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>When the server was returning a multi-page search result where the client did not explicitly request an encoding via the _format parameter, a _format parameter was incorrectly added to the paging links in the response Bundle. This would often explicitly request XML encoding because of the browser Accept header even though this was not what the client wanted.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-37"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>AuthorizationInterceptor did not permit PATCH operations to proceed even if the user had write access for the resource being patched.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-38"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/682">#682</a>
        </td>
        <td>
            <p>Fix an issue in HapiWorkerContext where structure definitions are not able to be retrieved if they are referred to by their relative or logical ID. This affects profile tooling such as StructureMapUtilities. Thanks to Travis Lukach for reporting and providing a test case!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-39"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/679">#679</a>
        </td>
        <td>
            <p>Add link to DSTU3 JavaDocs from documentation index. Thanks to Vadim Peretokin for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-40"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/680">#680</a>
        </td>
        <td>
            <p>Fix a typo in the documentation. Thanks to Saren Currie for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-42"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/683">#683</a>
        </td>
        <td>
            <p>Correct an issue with the model classes for STU3 where any classes containing the @ChildOrder annotation (basically the conformance resources) will not correctly set the order if any of the elements are a choice type (i.e. named &quot;foo[x]&quot;). Thanks to GitHub user @CarthageKing for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-43"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Fix potential deadlock in stale search deleting task in JPA server, as well as potential deadlock when executing transactions containing nested searches when operating under extremely heavy load.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-45"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/696">#696</a>
        </td>
        <td>
            <p>An issue was corrected where search parameters containing negative numbers were sometimes treated as positive numbers when processing the search. Thanks to Keith Boone for reporting and suggesting a fix!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-46"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/699">#699</a>
        </td>
        <td>
            <p>Fix an unfortunate typo in the custom structures documentation. Thanks to Jason Owen for the PR!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-47"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/686">#686</a>
        </td>
        <td>
            <p>Correct an issue in the validator (DSTU3/R4) where elements were not always correctly validated if the element contained only a profiled extension. Thanks to SÃ©bastien RiviÃ¨re for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-50"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/695">#695</a>
        </td>
        <td>
            <p>Extensions on ID datatypes were not parsed or serialized correctly. Thanks to Stephen RiviÃ¨re for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-51"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/710">#710</a>
        </td>
        <td>
            <p>Fix a bug in REST Hook Subscription interceptors which prevented subscriptions from being activated. Thanks to Jeff Chung for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-52"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/708">#708</a>
        </td>
        <td>
            <p>Fix broken links in usage pattern diagram on website. Thanks to Pascal Brandt for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-53"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/706">#706</a>
        </td>
        <td>
            <p>Fix incorrect FHIR Version Strings that were being outputted and verified in the client for some versions of FHIR. Thanks to Clayton Bodendein for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-57"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>REST HOOK subscriptions now use HTTP PUT if there is a payload type specified, regardless of whether the source event was a create or an update</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-6"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>hapi-fhir-client-okhttp project POM had dependencies on both hapi-fhir-structures-dstu2 and hapi-fhir-structures-dstu3, which meant that any project using ookhttp would import both structures JARs. This has been removed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-66"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>When uploading a Bundle resource to the server (as a collection or document, not as a transaction) the ID was incorrectly stripped from resources being saved within the Bundle. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-8"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Schematron validator now applies invariants to resources within a Bundle, not just to the outer Bundle resource itself</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change3.0.0-9"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Server and Client both still included Category header for resource tags even though this feature was only present in FHIR DSTU1 and was removed from the specification in FHIR DSTU2. The presence of these headers sometimes caused parsed resource instances to contain duplicate tags</p>
        </td>
    </tr>
</table>
</section>

<a name="change3.0.0-0"></a>
<section id="section4"><h1 data-toc-text="HAPI FHIR 2.5"><span class="helpHeaderSectionNumberBadge">1.5.4</span>HAPI FHIR 2.5</h1><a href="changelog_2017.html#change3.0.0-0" class="helpSectionLink">&nbsp;</a><a name="release-information-2"></a>
<h2>Release Information</h2>
<p><strong>Released:</strong> 2017-06-08</p>
<a name="changes-2"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change2.5-11"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Server now respects the If-Modified-Since header and will return an HTTP 304 if appropriate for read operations.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-15"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA server now has configurable properties that allow referential integrity to be disabled for both writes and deletes. This is useful in some cases where data integrity is not wanted or not possible. It can also be useful if you want to delete large amounts of interconnected data quickly. <br/><br/> A corresponding flag has been added to the CLI tool as well.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-2"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Add configuration property to DSTU3 FhirInstanceValidator to allow client code to change unknown extension handling behaviour.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-21"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Add a check in JPA server that prevents completely blank tags, profiles, and security labels from being saved to the database. These were filtered out anyhow when the result was returned back to the client but they were persisted which just wasted space.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-24"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/656">#656</a>
        </td>
        <td>
            <p>Improve handling in JPA server when doing code:above and code:below searches to use a disjunction of AND and IN in order to avoid failures under certain conditions. Thanks to Michael Lawley for the pul request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-5"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>CLI now defaults to DSTU3 mode if no FHIR version is specified</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-6"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Server and annotation-client @History annotation now allows DSTU3+ resource types in the type= property</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-8"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>DaoConfig#setInterceptors() has been un-deprecated. It was previously deprecated as we thought it was not useful, but uses have been identified so it turns out this method will live after all. Interceptors registered to this method will now be treated appropriately if they implement IServerOperationInterceptor too.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-0"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>This release includes significant performance enhancements for the JPA server. Most importantly, the way that searches are performed has been re-written to allow the server to perform better when the database has a large number of results in it. The following enhancements have been made: <br/><br/> <ul> <li> Searches with multiple search parameters of different datatypes (e.g. find patients by name and date of birth) were previously joined in Java code, now the join is performed by the database which is faster </li> <li> Searches which returned lots of results previously has all results streamed into memory before anything was returned to the client. This is particularly slow if you do a search for (say) &quot;get me all patients&quot; since potentially thousands or even millions of patients' IDs were loaded into memory before anything gets returned to the client. HAPI FHIR now has a multithreaded search coordinator which returns results to the client as soon as they are available </li> <li> Search results will be cached and reused (so that if a client does two searches for &quot;get me all patients matching FOO&quot; with the same FOO in short succession, we won't query the DB again but will instead reuse the cached results). Note that this can improve performance, but does mean that searches can return slightly out of date results. Essentially what this means is that the latest version of individual resources will always be returned despite this cacheing, but newly created resources that should match may not be returned until the cache expires. By default this cache has been set to one minute, which should be acceptable for most real-world usage, but this can be changed or disabled entirely. </li> <li> Updates which do not actually change the contents of the resource can optionally be prevented from creating a new version of the resource in the database </li> </ul> <br/><br/> Existing users should delete the <code>HFJ_SEARCH</code>, <code>HFJ_SEARCH_INCLUDE</code>, and <code>HFJ_SEARCH_RESULT</code> tables from your database before upgrading, as the structure of these tables has changed and old search results can not be reused.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-1"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/590">#590</a>
        </td>
        <td>
            <p>AuthorizationInterceptor did not correctly handle paging requests (e.g. requests for the second page of results for a search operation). Thanks to Eeva Turkka for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-10"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Fix issue where the JSON parser sometimes did not encode DSTU3 extensions on the root of a resource which have a value of type reference.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-12"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA server did not correctly process :missing qualifier on date parameters</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-13"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/633">#633</a>
        </td>
        <td>
            <p>AppacheHttpClient did not always respect the charset in the response Content-Type header. Thanks to Gijsbert van den Brink for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-14"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/636">#636</a>
        </td>
        <td>
            <p>Fix XhtmlParser to correctly handle hexadecimal escaped literals. Thanks to Gijsbert van den Brink for the Pull Request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-16"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA server did not correctly support searching on a custom search parameter whose path pointed to an extension, where the client used a chained value.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-17"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Fix dependency on commons-codec 1.4 in hapi-fhir-structures-dstu3, which was preventing this library from being used on Android because Android includes an older version of commons-codec.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-18"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA server failed to index search parameters on paths containing a decimal data type</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-19"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Validator incorrectly rejected references where only an identifier was populated</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-20"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/649">#649</a>
        </td>
        <td>
            <p>Make error handler in the client more tolerant of errors where no response has been received by the client when the error happens. Thanks to GitHub user maclema for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-22"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/664">#664</a>
        </td>
        <td>
            <p>Loading the build-in profile structures (StructureDefinition, ValueSet, etc) is now done in a synchronized block in order to prevent multiple loads happening if the server processes multiple validations in parallel threads right after startup. Previously a heavy load could cause the server to run out of memory and lock up. Thanks to Karl M Davis for analysis and help fixing this!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-23"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/652">#652</a>
        </td>
        <td>
            <p>Fix bad ValueSet URL in DeviceRequest profile definition for STU3 which was preventing the CLI from uploading definitions correctly. Thanks to Joel Schneider for the Pull Request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-25"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/660">#660</a>
        </td>
        <td>
            <p>Fix an error where the JPA server sometimes failed occasional requests with a weird NullPointerException when running under very large concurrent loads. Thanks to Karl M. Davis for reporting, investigating, and ultimately finding a solution!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-3"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/630">#630</a>
        </td>
        <td>
            <p>Fix concurrency issues in FhirContext that were causing issues when starting a context up on Android. Thanks to GitHub issue @Jaypeg85 for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-4"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Fix an issue in the JPA server if a resource has been previously saved containing vocabulary that is no longer valid. This only really happened if you were using a non-final version of FHIR (e.g. using DSTU3 before it was finalized) but if you were in this situation, upgrading HAPI could cause you to have old codes that no longer exist in your database. This fix prevents these from blocking you from accesing those resources.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-7"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/563">#563</a>
        </td>
        <td>
            <p>JSON Parser gave a very unhelpful error message (Unknown attribute 'value' found during parse) when a scalar value was found in a spot where an object is expected. This has been corrected to include much more information. Thanks to GitHub user @jasminas for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.5-9"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA server did not correctly support searching on a custom search parameter whose path pointed to an extension, where the client used a chained value.</p>
        </td>
    </tr>
</table>
</section>

<a name="change2.5-11"></a>
<section id="section5"><h1 data-toc-text="HAPI FHIR 2.4"><span class="helpHeaderSectionNumberBadge">1.5.5</span>HAPI FHIR 2.4</h1><a href="changelog_2017.html#change2.5-11" class="helpSectionLink">&nbsp;</a><a name="release-information-3"></a>
<h2>Release Information</h2>
<p><strong>Released:</strong> 2017-04-19</p>
<a name="changes-3"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change2.4-0"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>This release brings the DSTU3 structures up to FHIR R3 (FHIR 3.0.1) definitions. Note that there are very few changes between the DSTU3 structures in HAPI FHIR 2.3 and the ones in HAPI FHIR 2.4 since the basis for the DSTU3 structures in HAPI FHIR 2.3 was the R3 QA FHIR version (1.9.0) but this is the first release of HAPI FHIR to support the final/complete R3 release.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.4-1"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Bump the version of a few dependencies to the latest versions (dependent HAPI modules listed in brackets): <ul> <li>Hibernate (JPA): 5.2.7 -&gt; 5.2.9</li> <li>Hibernate Search (JPA): 5.5.7.CR1 -&gt; 5.2.7.Final</li> <li>Hibernate Validator (JPA): 5.3.4 -&gt; 5.4.1</li> <li>Spring (JPA): 4.3.6 -&gt; 4.3.7</li> <li>Gson (Core): 2.7 -&gt; 2.8.0</li> <li>Guava (JPA): 19.0 -&gt; 21.0</li> <li>SLF4j (Core): 1.7.21 -&gt; 1.7.25</li> <li>Logback (Core): 1.1.7 -&gt; 1.2.2</li> </ul></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.4-10"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Add a utility method to JPA server: <code>IFhirResourceDao#removeTag(IIdType, TagTypeEnum, String, String)</code> . This allows client code to remove tags from a resource without having a servlet request object in context.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.4-13"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/624">#624</a>
        </td>
        <td>
            <p>Add an option to ParserOptions that specifies that when parsing a bundle, the ID found in the Bundle.entry.fullUrl should not override the ID found in the Resource.id field. Technically these fields must always supply the same ID in order for a server to be considered conformant, but this option allows you to deal with servers which are behaving badly. Thanks to GitHub user CarthageKing for the pul request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.4-15"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/613">#613</a>
        </td>
        <td>
            <p>In JAX-RS server it is now possible to change the server exception handler at runtime without a server restart. Thanks to Sebastien Riviere for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.4-2"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/602">#602</a>
        </td>
        <td>
            <p>hapi-fhir-jpaserver-example now includes the <code>Prefer</code> header in the list of CORS headers. Thanks to GitHub user @elnin0815 for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.4-3"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>AuthorizationInterceptor can now allow make read or write authorization decisions on a resource by instance ID</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.4-6"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>DaoConfig#setAllowInlineMatchUrlReferences() now defaults to <code>true</code> since inline conditional references are now a part of the FHIR specification. Thanks to Jan DÄdek for pointing this out!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.4-7"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/609">#609</a>
        </td>
        <td>
            <p>hapi-fhir-jpaserver-base now exposes a <code>FhirInstanceValidator</code> bean named <code>&quot;myInstanceValidatorDstu2&quot;</code> for DSTU2. A similar bean for DSTU3 was previously implemented.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.4-8"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/453">#453</a>
        </td>
        <td>
            <p>hapi-fhir-jpaserver-example project now defaults to STU3 mode instead of the previous DSTU2. Thanks to Joel Schneider for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.4-9"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/534">#534</a>
        </td>
        <td>
            <p>JPA server now has a setting on the DaoConfig to force it to treat certain reference URLs or reference URL patterns as logical URLs instead of literal ones, meaning that the server will not try to resolve these URLs. Thanks to Eeva Turkka for the suggestion!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.4-11"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA server was unable to process custom search parameters where the path pointed to an extension containing a reference. Thanks to Ravi Kuchi for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.4-12"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/623">#623</a>
        </td>
        <td>
            <p>Servers in DSTU2.1 mode were incorrectly using the legacy mimetypes instead of the new STU3 ones. Thanks to Michael Lawley for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.4-14"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/617">#617</a>
        </td>
        <td>
            <p>Remove unneccesary whitespace in the text areas on the testing web UI. Thanks to GitHub user @elnin0815 for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.4-16"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/610">#610</a>
        </td>
        <td>
            <p>Fix a potential race condition when the FhirContext is being accessed by many threads at the same time right as it is initializing. Thanks to Ben Spencer for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.4-4"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/208">#208</a>
        </td>
        <td>
            <p>Remove SupportingDocumentation resource from DSTU2 structures. This isn't actually a resource in FHIR DSTU2 and its inclusion causes errors on clients that don't understand what it is. Thanks to Travis Cummings and Michele Mottini for pointing this out.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.4-5"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/607">#607</a>
        </td>
        <td>
            <p>Web testing UI displayed an error when a transaction was pasted into the UI for a DSTU2 server. Thanks to Suresh Kumar for reporting!</p>
        </td>
    </tr>
</table>
</section>

<a name="change2.4-0"></a>
<section id="section6"><h1 data-toc-text="HAPI FHIR 2.3"><span class="helpHeaderSectionNumberBadge">1.5.6</span>HAPI FHIR 2.3</h1><a href="changelog_2017.html#change2.4-0" class="helpSectionLink">&nbsp;</a><a name="release-information-4"></a>
<h2>Release Information</h2>
<p><strong>Released:</strong> 2017-03-18</p>
<a name="changes-4"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change2.3-0"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Bump the version of a few dependencies to the latest versions (dependent HAPI modules listed in brackets): <ul> <li>Hibernate (JPA): 5.1.0 -&gt; 5.2.7</li> <li>Hibernate Search (JPA): 5.5.4 -&amp;gtp; 5.7.0.CR1</li> <li>Hibernate Validator (JPA): 5.2.4 -&amp;gtp; 5.3.4</li> <li>Spring (JPA): 4.3.1 -&gt; 4.3.6</li> </ul></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-1"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The JPA server now supports custom search parameters in DSTU3 mode. This allows users to create search parameters which contain custom paths, or even override and disable existing search parameters.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-13"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Declared extensions with multiple type() options listed in the @Child annotation caused a crash on startup. Now this is supported.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-14"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>STU3 XHTML parser for narrative choked if the narrative contained an <code>&amp;rsquot;</code> entity string.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-22"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA server did not return an OperationOutcome in the response for a normal delete operation.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-28"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A post-processing hook for subclasses of BaseValidatingInterceptor is now available.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-29"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/585">#585</a>
        </td>
        <td>
            <p>AuthorizationInterceptor can now authorize (allow/deny) extended operations on instances and types by wildcard (on any type, or on any instance)</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-30"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/595">#595</a>
        </td>
        <td>
            <p>When RequestValidatingInterceptor is used, the validation results are now populated into the OperationOutcome produced by create and update operations</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-31"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/542">#542</a>
        </td>
        <td>
            <p>Add support for the $process-message operation to fluent client. Thanks to Hugo Soares for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-32"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/543">#543</a>
        </td>
        <td>
            <p>Parser can now be configured when encoding to use a specific base URL for extensions. Thanks to Sebastien Riviere for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-35"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/575">#575</a>
        </td>
        <td>
            <p>Remove an unneccesary database flush when saving large code systems to the JPA database, improving performance of this operation. Thanks to Joel Schneider for the pull request and analysis!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-36"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>A new post-processing hook for subclasses of BaseValidatingInterceptor is now available. The hook exposes the request details on validation failure prior to throwing an UnprocessableEntityException.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-7"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/504">#504</a>
        </td>
        <td>
            <p>Custom resource types which extend Binary must not have declared extensions since this is invalid in FHIR (and HAPI would just ignore them anyhow). Thanks to Thomas S Berg for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-8"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Standard HAPI zip/tar distributions did not include the project sources and JavaDoc JARs. Thanks to Keith Boone for pointing this out!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-10"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA server terminology service was not correctly validating or expanding codes in SNOMED CT or LOINC code systems. Thanks to David Hay for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-11"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/539">#539</a>
        </td>
        <td>
            <p>Attempting to search for an invalid resource type (e.g. GET base/FooResource) should return an HTTP 404 and not a 400, per the HTTP spec. Thanks to GitHub user @CarthageKing for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-12"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/544">#544</a>
        </td>
        <td>
            <p>When parsing a Bundle containing placeholder fullUrls and references (e.g. &quot;urn:uuid:0000-0000&quot;) the resource reference targets did not get populated with the given resources. Note that as a part of this change, <code>IdType</code> and <code>IdDt</code> have been modified so that when parsing a placeholder ID, the complete placeholder including the &quot;urn:uuid:&quot; or &quot;urn:oid:&quot; prefix will be placed into the ID part. Previously, the prefix was treated as the base URL, which led to strange behaviour like the placeholder being treated as a real IDs. Thanks to GitHub user @jodue for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-15"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/538">#538</a>
        </td>
        <td>
            <p>When parsing a quantity parameter on the server with a value and units but no system (e.g. <code>GET [base]/Observation?value=5.4||mg</code> ) the unit was incorrectly treated as the system. Thanks to @CarthageKing for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-16"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/533">#533</a>
        </td>
        <td>
            <p>Correct a typo in the JPA ValueSet ResourceProvider which prevented successful operation under Spring 4.3. Thanks to Robbert van Waveren for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-18"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/547">#547</a>
        </td>
        <td>
            <p>CapturingInterceptor did not buffer the response meaning that in many circumstances it did not actually capture the response. Thanks to Jenny Syed of Cerner for the pull request and contribution!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-19"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/548">#548</a>
        </td>
        <td>
            <p>Clean up dependencies and remove Eclipse project files from git. Thanks to @sekaijin for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-2"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>CLI example uploader couldn't find STU3 examples after CI server was moved to build.fhir.org</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-20"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>When performing a conditional create in a transaction in JPA server, if a resource already existed matching the conditional expression, the server did not change the version of the resource but did update the body with the passed in body. Thanks to Artem Sopin for reporting and providing a test case for this!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-21"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Client revincludes did not include the :recurse modifier. Thanks to Jenny Meinsma for pointing this out on Zulip!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-23"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Fix an issue in JPA server where _history results were kept in memory instead of being spooled to the database as they should be. Note that as a part of this fix a new method was added to <code>IBundleProvider</code> called <code>getUuid()</code> . This method may return <code>null</code> in any current cases.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-24"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Expanding a ValueSet in JPA server did not correctly apply <code>?filter=</code> parameter when the ValueSet being expanded had codes included explicitly (i.e. not by is-a relationship). Thanks to David Hay for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-25"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA validator incorrectly returned an HTTP 400 instead of an HTTP 422 when the resource ID was not present and required, or vice versa. Thanks to Brian Postlethwaite for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-26"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>When using an annotation based client, a ClassCastException would occur under certain circumstances when the response contained contained resources</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-27"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>JPA server interceptor methods for create/update/delete provided the wrong version ID to the interceptors</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-3"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Fix issue in JPA subscription module that prevented purging stale subscriptions when many were present on Postgres</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-33"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/568">#568</a>
        </td>
        <td>
            <p>Correct the resource paths for the DSTU2.1 validation resources, allowing the validator to correctly work against those structures. Thanks to Michael Lawley for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-34"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/551">#551</a>
        </td>
        <td>
            <p>XML Parser failed to parse large field values (greater than 512 Kb) on certain platforms where the StAX parser was overridden. Thanks to GitHub user @Jodue for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-4"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/532">#532</a>
        </td>
        <td>
            <p>Server interceptor methods were being called twice unnecessarily by the JPA server, and the DaoConfig interceptor registration framework was not actually useful. Thanks to GitHub user @mattiuusitalo for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-5"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/503">#503</a>
        </td>
        <td>
            <p>AuthorizationInterceptor on JPA server did not correctly apply rules on deleting resources in a specific compartment because the resource metadata was stripped by the JPA server before the interceptor could see it. Thanks to Eeva Turkka for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-6"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/519">#519</a>
        </td>
        <td>
            <p>JPA server exported CapabilityStatement includes double entries for the _id parameter and uses the wrong type (string instead of token). Thanks to Robert Lichtenberger for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-9"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Server AuthorizationInterceptor always rejects history operation at the type level even if rules should allow it.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change2.3-17"></a>
        </td>
        <td>
        </td>
        <td>
            <p>Deprecate the method <code>ICompositeElement#getAllPopulatedChildElementsOfType(Class)</code> as it is no longer used by HAPI and is just an annoying step in creating custom structures. Thanks to Allan Bro Hansen for pointing this out.</p>
        </td>
    </tr>
</table>
</section>


				</div>

				<div class="hide-sm-and-below">
</div>
				

	<!-- footer -->
	<footer class="page-footer">
		<div class="container-fluid text-center text-md-left">
			<hr class="bottom-hr">
			<div class="row pt-3 pb-3">
				<div class="col-md-3 text-center">
					<img src="../../images/logos/raccoon-forwards.png" alt="raccoon logo without text" width="100">
				</div>
				<div class="col-md-2">
					<p class="footer-heading">HAPI HAPI</p>
					<ul class="list-unstyled">
						<li><a href="https://hapifhir.io/hapi-fhir/">Home</a></li>
						<li><a href="../getting_started/downloading_and_importing.html">Download</a></li>
						<li><a href="changelog.html">Changelog</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/license.html">License</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/blog/">News</a></li>
					</ul>
					<p class="footer-heading">TEST SERVER</p>
					<ul class="list-unstyled">
						<li><a href="http://hapi.fhir.org/" target="_blank">Public Test Server</a></li>
					</ul>
					<p class="footer-heading">SUPPORT</p>
					<ul class="list-unstyled">
						<li><a href="https://smilecdr.com/" target="_blank">Smile CDR</a></li>
					</ul>
				</div>
				<div class="col-md-2">
					<p class="footer-heading">USING HAPI</p>
					<ul class="list-unstyled">
						<li><a href="../index.html">Documentation</a></li>
						<li><a href="#">Command Line Tool (cli)</a></li>
					</ul>
					<p class="footer-heading">STARTER PROJECTS</p>
					<ul class="list-unstyled">
						<li><a href="https://github.com/FirelyTeam/fhirstarters/tree/master/java/hapi-fhirstarters-client-skeleton">Client</a></li>
						<li><a href="https://github.com/FirelyTeam/fhirstarters/tree/master/java/hapi-fhirstarters-rest-server-skeleton">Plain Server</a></li>
						<li><a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter">JPA Server</a></li>
					</ul>
				</div>
				<div class="col-md-2">
					<p class="footer-heading">JAVADOCS</p>
					<ul class="list-unstyled">
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-base/">Core API</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-structures-dstu2/">Model API (DSTU2)</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-structures-dstu3/">Model API (DSTU3)</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-structures-r4/">Model API (R4)</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-structures-r5/">Model API (R5)</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-client/">Client API</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-server/">Plain Server - API</a></li>
                  <li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-server-mdm/">Plain Server - MDM API</a></li>
                  <li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-server-openapi/">Plain Server - OpenAPI</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-storage/">JPA Server - API</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-jpaserver-model/">JPA Server - Model</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-jpaserver-searchparam/">JPA Server - Search Param Support</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-jpaserver-subscription/">JPA Server - Subscription</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-jpaserver-base/">JPA Server - Base</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-validation/">Validation API</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-converter/">Version Converter API</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-jaxrsserver-base/">Server API (JAX-RS)</a></li>
					</ul>
				</div>
				<div class="col-md-3">
					<p class="footer-heading">GET HELP</p>
					<ul class="list-unstyled">
						<li><a href="https://github.com/jamesagnew/hapi-fhir/wiki/Getting-Help" target="_blank">How to Ask for Help (read this first!)</a></li>
						<li><a href="https://groups.google.com/d/forum/hapi-fhir" target="_blank">Google Group (Ask Questions)</a></li>
						<li><a href="https://github.com/jamesagnew/hapi-fhir/issues" target="_blank">Issue Tracker (Report Bugs/Request Features)</a></li>
						<li><a href="https://chat.fhir.org/" target="_blank">FHIR.org Chat (Live Chat with FHIR Implementors)</a></li>
						<li><a href="../appendix/faq.html">Frequently Asked Questions (FAQ)</a></li>
					</ul>
					<p class="footer-heading">CONTRIBUTE</p>
					<ul class="list-unstyled">
						<li><a href="../contributing/hacking_guide.html">Guide to Hacking HAPI</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/contributors.html">Contributors</a></li>
					</ul>
				</div>
			</div>
		</div>

		<!-- footer copyright -->
		<div class="footer-copyright text-center py-3">
			<p>Updated: 2021-11-23T14:49:28.319Z — Made with <i style="color: #FF6600;" class="fas fa-heart"></i> in <a href="https://www.cbc.ca/news/canada/toronto/raccoon-city-wildlife-in-toronto-1.2742231"><img src="https://hapifhir.io/hapi-fhir/images/icons/raccoon.svg" alt="Raccoon" width="20"></a>
		</div>

	</footer>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-1395874-5"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-1395874-5');
	</script>


			</div>

		</div>

	</div>


<script type="application/javascript">

	$(function () {

		/*
		 * Build the TOC links on the right hand side by
		 * scanning all of the sections in the documentation
		 */
		const sections = [];
		const navLinks = [];
		var nav = $('<ul class="nav flex-column">');
		$('#toc').append(nav);

		$('#tocscroll section').each(function () {
			sections.push($(this));
			let sectionName = $(this).find('h1').first().attr('data-toc-text');
			let sectionId = $(this).prevAll('a').attr('name');
			let navLink = $('<a class="nav-link" href="#' + sectionId + '">' + sectionName + '</a>');
			navLinks.push(navLink);
			nav.append($('<li class="nav-item">').append(navLink));
		});

		/*
		 * Update the active link on the right hand side TOC when the
		 * user scrolls up and down the page. Create a function for this,
		 * then call the function once and register it to call again
		 * any time the user scrolls
		 */
		function updateTocScroll() {
			const sectionOffset = $('#tocscroll').offset().top;
			let visible = false;
			for (var idx = 0; idx < sections.length; idx++) {
				var sectionTop = sections[idx].offset().top - sectionOffset + 20;
				if (sectionTop >= 0 && !visible || (idx == sections.length -1 && !visible)) {
					navLinks[idx].addClass('active');
					visible = true;
				} else {
					navLinks[idx].removeClass('active');
				}
			}

		}

		$('#tocscroll').scroll(updateTocScroll);
		updateTocScroll();

		/*
	    * When the page first loads, automatically scroll the left docs TOC
	    * scroller to the actively displayed page.
	    */
		var activetop = $('.activechapter').offset().top - $('#tocscroll').offset().top - 30;
		if (activetop < 100) {
			activetop = 0;
		}
		$('#navcolumn').scrollTop(activetop);

		function updateNavScroll() {
			if ($('#navcolumn').scrollTop() < 100) {
				$('.button-scroll-up-to-search').fadeOut(500);
			} else {
				$('.button-scroll-up-to-search').fadeIn(500);
			}
		}

		updateNavScroll();
		$('#navcolumn').scroll(updateNavScroll);

	});
</script>



<script type="application/javascript">
	function hover(element) {
		element.setAttribute('src', '../../../images/icons/link-grey.html');
	}

	function unhover(element) {
		element.setAttribute('src', '../../../images/icons/smiley-grey.html');
	}

   new ClipboardJS('.clipboardCopyBtn');

</script>
</body>


<!-- Mirrored from hapifhir.io/hapi-fhir/docs/introduction/changelog_2017.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 01 Dec 2021 23:59:36 GMT -->
</html>

