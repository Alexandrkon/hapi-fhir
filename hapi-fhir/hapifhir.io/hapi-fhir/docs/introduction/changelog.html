<!DOCTYPE html>
<html lang="en">


<!-- Mirrored from hapifhir.io/hapi-fhir/docs/introduction/changelog.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 01 Dec 2021 23:59:36 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
	<title>Changelog: 2021 - HAPI FHIR Documentation</title>

	

	<!-- required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- objectgraph -->
	

	<!-- Favicon -->
	<link rel="icon" href="https://smilecdr.com/favicon.ico">

	<!-- font, icons -->
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

	<!-- jquery, bootstrap script for dropdown and hover-->
	<script src="../../resources/jquery/dist/jquery.min.js"></script>
	<script src="../../resources/popper.js/dist/umd/popper.min.js"></script>
	<script src="../../resources/bootstrap/dist/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="../../resources/bootstrap/dist/css/bootstrap.min.css"/>

	<!-- fontawesome -->
	<script src="../../resources/font-awesome/js/all.min.js" data-auto-replace-svg="nest"></script>
	<link rel="stylesheet" media="screen" href="../../resources/font-awesome/css/fontawesome.min.css" />

	<!-- Clipboard.js -->
	<script src="../../resources/clipboard.js/clipboard.min.js"></script>

	
	<script src="../../resources/prismjs/prism.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-bash.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-http.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-java.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-javascript.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-json.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-nginx.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-properties.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/components/prism-sql.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/plugins/toolbar/prism-toolbar.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/plugins/command-line/prism-command-line.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.js" type="text/javascript"></script>
	<script src="../../resources/prismjs/plugins/line-numbers/prism-line-numbers.js" type="text/javascript"></script>
	<link href="../../resources/prismjs/themes/prism.css" rel="stylesheet" type="text/css"/>
	<link href="../../resources/prismjs/themes/prism-coy.css" rel="stylesheet" type="text/css"/>
	<link href="../../resources/prismjs/plugins/toolbar/prism-toolbar.css" rel="stylesheet" type="text/css"/>
	<link href="../../resources/prismjs/plugins/line-numbers/prism-line-numbers.css" rel="stylesheet" type="text/css"/>

	<link rel="stylesheet" type="text/css" href="../../css/hapifhir.css">




	<!-- css sheet -->
	<link href="../../resources/cdr-web-resources/css/help-common.css" rel="stylesheet" type="text/css"/>
	<link href="../../css/pages.css" rel="stylesheet" type="text/css"/>
	<link href="../../css/docs.css" rel="stylesheet" type="text/css"/>

</head>

<body>

	
	<header class="header" id="header">
		<nav class="navbar fixed-top navbar-expand-sm navbar-light navbar-greyshadow">
			<a class="navbar-brand text-center" href="https://hapifhir.io/hapi-fhir/" title="Home">
				
				<img src="../../images/logos/small-logo.png" alt="HAPI FHIR logo" width="156" id="collapsed-logo">
			</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<script type="application/javascript">
				$(function(){
					$(".dropdown").hover(
						function() {
							if ($( window ).width() >= 960) {
								$('.dropdown-menu', this).stop(true, true).fadeIn("fast");
								$(this).toggleClass('open');
								$('b', this).toggleClass("caret caret-up");
							} else {
								$('.dropdown-menu', this).css("display", "");
							}
						},
						function() {
							if ($( window ).width() >= 960) {
								$('.dropdown-menu', this).stop(true, true).fadeOut("fast");
								$(this).toggleClass('open');
								$('b', this).toggleClass("caret caret-up");
							}
						});
				});
			</script>

			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="nav navbar-nav ml-auto nav-text">
					<li class="nav-item"><a class="nav-link" href="https://smilecdr.com/">Support</a></li>
					<li class="nav-item"><a class="nav-link" target="_blank" href="https://github.com/jamesagnew/hapi-fhir">Github</a></li>
					<li class="nav-item"><a class="nav-link" href="https://hapifhir.io/hapi-fhir/blog/">News</a></li>
					<li class="nav-item"><a class="nav-link" href="../index.html">Documentation</a></li>
					<li class="nav-item dropdown">
						<a class="nav-link nav-link-dropdown" data-toggle="dropdown" id="navbarGETHELP" href="#">Get Help <i class="nav-chevron fas fa-chevron-down"></i></a>
						<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarGETHELP" id="navbarGETHELPDIV">
							<a href="https://github.com/jamesagnew/hapi-fhir/wiki/Getting-Help" class="dropdown-item">Getting Help (read this first!)</a>
							<a href="https://groups.google.com/d/forum/hapi-fhir" class="dropdown-item">Google Group (ask questions)</a>
							<a href="https://github.com/jamesagnew/hapi-fhir/issues" class="dropdown-item">Issue Tracker (report bugs/request features)</a>
							<a href="https://chat.fhir.org/" class="dropdown-item">chat.fhir.org (live chat with FHIR implementers)</a>
							<a href="../appendix/faq.html" class="dropdown-item">Frequently Asked Questions (FAQ)</a>
						</div>
					</li>
					<li class="nav-item dropdown">
						<a class="nav-link nav-link-dropdown" data-toggle="dropdown" id="navbarTESTSERVERS" href="#">Test Server <i class="nav-chevron fas fa-chevron-down"></i></a>
						<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarTESTSERVERS" id="navbarTESTSERVERSDIV">
							<a href="http://hapi.fhir.org/" class="dropdown-item">HAPI FHIR Public Test Server</a>
						</div>
					</li>

				</ul>
			</div>
		</nav>
	</header>

	
	<script>
		var scrollAfter = 10;
	</script>

	



	<!-- "Scroll up the the search box" button -->
	<button class="btn btn-secondary hide-sm-and-below button-scroll-up-to-search"
			  onclick="$('#navcolumn').scrollTop(0); $('#button-ftsearch').focus();">
		Search&nbsp;<i class="fa fa-search"></i>
	</button>

	<!-- Right column with the in-page TOC (not visible on mobile) -->
	<div class="rightNavContainer hide-sm-and-below" id="pageNav">
		<nav id="toc"></nav>
	</div>

	<div class="container-fluid grid">
		<div class="row">
			
			<div class="hide-sm-and-below col-md-3 primaryColumn" id="navcolumn">
				<div>
					<div class="index-sidebar" id="side-nav">

						<!-- Fullltext Search box -->
						<div class="input-group">
							<input type="text" class="form-control" placeholder="Search" aria-label="Search"
									 aria-describedby="button-ftsearch-clear" style="margin-top: 0px;" id="button-ftsearch">
							<div class="input-group-append">
								<button class="btn btn-outline-info" type="button" id="button-ftsearch-clear"
										  onclick="javascript: $('#button-ftsearch').val(''); delayFunction(updateSearchFunction, 500);">
									<i class="fa fa-times-circle"></i>
								</button>
							</div>
							<script type="application/javascript">
								var delayFunction = (function () {
									var timer = 0;
									return function (callback, ms) {
										if (!$('#button-ftsearch').val()) {
											$('#leftTocSearchResults').hide();
											$('#leftTocView').show();
										} else {
											$('#leftTocView').hide();
											$('#leftTocSearchResults').show();
											$('#leftTocSearchResults').empty();
											$('#leftTocSearchResults').append($('<i class="fa fa-spinner fa-spin" style="margin-top: 20px; font-size:24px;"></i>'));
										}
										clearTimeout(timer);
										timer = setTimeout(callback, ms);
									};
								})();

								function updateSearchFunction() {
									if (!$('#button-ftsearch').val()) {
										$('#leftTocSearchResults').hide();
										$('#leftTocView').show();
									} else {
										$('#leftTocView').hide();
										$('#leftTocSearchResults').show();
										$.get("/hapi-fhir/docsearch", {
											term: $('#button-ftsearch').val()
										}, function (data) {
											$('#leftTocSearchResults').empty();

											let leftTocUl = null;
											let leftTocHeader = null;
											for (var idx = 0; idx < data.length; idx++) {
												if (leftTocHeader == null || leftTocHeader.text() !== data[idx].sectionTitle) {
													leftTocHeader = $('<h3>');
													leftTocHeader.text(data[idx].sectionTitle);
													$('#leftTocSearchResults').append(leftTocHeader);
													leftTocUl = $('<ul>');
													$('#leftTocSearchResults').append(leftTocUl);
												}
												let nextLink = $('<a>', {
													href: "/hapi-fhir/docs/" + data[idx].page + ".html"
												});
												nextLink.text(data[idx].title);

												let nextLinkLi = $('<li>').append(nextLink);
												leftTocUl.append(nextLinkLi);
											}
										}, 'json');
									}
								}

								$('#button-ftsearch').keyup(function () {
									delayFunction(updateSearchFunction, 500);
								});

								// Clear the search box if the page is reloaded
								$(function () {
									$('#button-ftsearch').val('');
								});

							</script>
						</div>

						<div id="leftTocView">
							
								<h3 class="activechapter">
									Welcome to HAPI FHIR
								</h3>
								<ul>
									<li>
										<a href="table_of_contents.html">
											<span class="pull-left">Table of Contents</span>
											<span class="pull-right">1.0</span>
										</a>
									</li>
									<li class="active-side">
										<a href="changelog.html">
											<span class="pull-left">Changelog: 2021</span>
											<span class="pull-right">1.1</span>
										</a>
									</li>
									<li>
										<a href="changelog_2020.html">
											<span class="pull-left">Changelog: 2020</span>
											<span class="pull-right">1.2</span>
										</a>
									</li>
									<li>
										<a href="changelog_2019.html">
											<span class="pull-left">Changelog: 2019</span>
											<span class="pull-right">1.3</span>
										</a>
									</li>
									<li>
										<a href="changelog_2018.html">
											<span class="pull-left">Changelog: 2018</span>
											<span class="pull-right">1.4</span>
										</a>
									</li>
									<li>
										<a href="changelog_2017.html">
											<span class="pull-left">Changelog: 2017</span>
											<span class="pull-right">1.5</span>
										</a>
									</li>
									<li>
										<a href="changelog_2016.html">
											<span class="pull-left">Changelog: 2016</span>
											<span class="pull-right">1.6</span>
										</a>
									</li>
									<li>
										<a href="changelog_2015.html">
											<span class="pull-left">Changelog: 2015</span>
											<span class="pull-right">1.7</span>
										</a>
									</li>
									<li>
										<a href="changelog_2014.html">
											<span class="pull-left">Changelog: 2014</span>
											<span class="pull-right">1.8</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Getting Started
								</h3>
								<ul>
									<li>
										<a href="../getting_started/introduction.html">
											<span class="pull-left">Introduction</span>
											<span class="pull-right">2.0</span>
										</a>
									</li>
									<li>
										<a href="../getting_started/versions.html">
											<span class="pull-left">FHIR and HAPI FHIR Versions</span>
											<span class="pull-right">2.1</span>
										</a>
									</li>
									<li>
										<a href="../getting_started/modules.html">
											<span class="pull-left">HAPI FHIR Modules</span>
											<span class="pull-right">2.2</span>
										</a>
									</li>
									<li>
										<a href="../getting_started/downloading_and_importing.html">
											<span class="pull-left">Downloading and Importing</span>
											<span class="pull-right">2.3</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Working With The FHIR Model
								</h3>
								<ul>
									<li>
										<a href="../model/working_with_resources.html">
											<span class="pull-left">Working With Resources</span>
											<span class="pull-right">3.0</span>
										</a>
									</li>
									<li>
										<a href="../model/parsers.html">
											<span class="pull-left">Parsing and Serializing</span>
											<span class="pull-right">3.1</span>
										</a>
									</li>
									<li>
										<a href="../model/references.html">
											<span class="pull-left">Resource References</span>
											<span class="pull-right">3.2</span>
										</a>
									</li>
									<li>
										<a href="../model/profiles_and_extensions.html">
											<span class="pull-left">Profiles and Extensions</span>
											<span class="pull-right">3.3</span>
										</a>
									</li>
									<li>
										<a href="../model/converter.html">
											<span class="pull-left">Version Converters</span>
											<span class="pull-right">3.4</span>
										</a>
									</li>
									<li>
										<a href="../model/custom_structures.html">
											<span class="pull-left">Custom Structures</span>
											<span class="pull-right">3.5</span>
										</a>
									</li>
									<li>
										<a href="../model/narrative_generation.html">
											<span class="pull-left">Narrative Generation</span>
											<span class="pull-right">3.6</span>
										</a>
									</li>
									<li>
										<a href="../model/bundle_builder.html">
											<span class="pull-left">Bundle Builder</span>
											<span class="pull-right">3.7</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Client
								</h3>
								<ul>
									<li>
										<a href="../client/introduction.html">
											<span class="pull-left">Introduction</span>
											<span class="pull-right">4.0</span>
										</a>
									</li>
									<li>
										<a href="../client/get_started.html">
											<span class="pull-left">Get Started ⚡</span>
											<span class="pull-right">4.1</span>
										</a>
									</li>
									<li>
										<a href="../client/generic_client.html">
											<span class="pull-left">Generic (Fluent) Client</span>
											<span class="pull-right">4.2</span>
										</a>
									</li>
									<li>
										<a href="../client/annotation_client.html">
											<span class="pull-left">Annotation Client</span>
											<span class="pull-right">4.3</span>
										</a>
									</li>
									<li>
										<a href="../client/client_configuration.html">
											<span class="pull-left">Client Configuration</span>
											<span class="pull-right">4.4</span>
										</a>
									</li>
									<li>
										<a href="../client/examples.html">
											<span class="pull-left">Client Examples</span>
											<span class="pull-right">4.5</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Plain Server
								</h3>
								<ul>
									<li>
										<a href="../server_plain/server_types.html">
											<span class="pull-left">REST Server Types</span>
											<span class="pull-right">5.0</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/introduction.html">
											<span class="pull-left">Plain Server Introduction</span>
											<span class="pull-right">5.1</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/get_started.html">
											<span class="pull-left">Get Started ⚡</span>
											<span class="pull-right">5.2</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/resource_providers.html">
											<span class="pull-left">Resource Providers and Plain Providers</span>
											<span class="pull-right">5.3</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/rest_operations.html">
											<span class="pull-left">REST Operations: Overview</span>
											<span class="pull-right">5.4</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/rest_operations_search.html">
											<span class="pull-left">REST Operations: Search</span>
											<span class="pull-right">5.5</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/rest_operations_operations.html">
											<span class="pull-left">REST Operations: Extended Operations</span>
											<span class="pull-right">5.6</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/paging.html">
											<span class="pull-left">Paging Search Results</span>
											<span class="pull-right">5.7</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/web_testpage_overlay.html">
											<span class="pull-left">Web Testpage Overlay</span>
											<span class="pull-right">5.8</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/multitenancy.html">
											<span class="pull-left">Multitenancy</span>
											<span class="pull-right">5.9</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/jax_rs.html">
											<span class="pull-left">JAX-RS Support</span>
											<span class="pull-right">5.10</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/customizing_the_capabilitystatement.html">
											<span class="pull-left">Customizing the CapabilityStatement</span>
											<span class="pull-right">5.11</span>
										</a>
									</li>
									<li>
										<a href="../server_plain/openapi.html">
											<span class="pull-left">OpenAPI / Swagger</span>
											<span class="pull-right">5.12</span>
										</a>
									</li>
								</ul>
							
								<h3>
									JPA Server
								</h3>
								<ul>
									<li>
										<a href="../server_jpa/introduction.html">
											<span class="pull-left">Introduction</span>
											<span class="pull-right">6.0</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/get_started.html">
											<span class="pull-left">Get Started ⚡</span>
											<span class="pull-right">6.1</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/architecture.html">
											<span class="pull-left">Architecture</span>
											<span class="pull-right">6.2</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/schema.html">
											<span class="pull-left">Database Schema</span>
											<span class="pull-right">6.3</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/configuration.html">
											<span class="pull-left">Configuration</span>
											<span class="pull-right">6.4</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/search.html">
											<span class="pull-left">Search</span>
											<span class="pull-right">6.5</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/performance.html">
											<span class="pull-left">Performance</span>
											<span class="pull-right">6.6</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/upgrading.html">
											<span class="pull-left">Upgrade Guide</span>
											<span class="pull-right">6.7</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/diff.html">
											<span class="pull-left">Diff Operation</span>
											<span class="pull-right">6.8</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/lastn.html">
											<span class="pull-left">LastN Operation</span>
											<span class="pull-right">6.9</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/elastic.html">
											<span class="pull-left">Lucene/Elasticsearch Indexing</span>
											<span class="pull-right">6.10</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa/terminology.html">
											<span class="pull-left">Terminology</span>
											<span class="pull-right">6.11</span>
										</a>
									</li>
								</ul>
							
								<h3>
									JPA Server: MDM
								</h3>
								<ul>
									<li>
										<a href="../server_jpa_mdm/mdm.html">
											<span class="pull-left">MDM Getting Started</span>
											<span class="pull-right">7.0</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_mdm/mdm_rules.html">
											<span class="pull-left">MDM Rules</span>
											<span class="pull-right">7.1</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_mdm/mdm_eid.html">
											<span class="pull-left">MDM Enterprise Identifiers</span>
											<span class="pull-right">7.2</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_mdm/mdm_operations.html">
											<span class="pull-left">MDM Operations</span>
											<span class="pull-right">7.3</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_mdm/mdm_details.html">
											<span class="pull-left">MDM Technical Details</span>
											<span class="pull-right">7.4</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_mdm/mdm_expansion.html">
											<span class="pull-left">MDM Search Expansion</span>
											<span class="pull-right">7.5</span>
										</a>
									</li>
								</ul>
							
								<h3>
									JPA Server: CQL
								</h3>
								<ul>
									<li>
										<a href="../server_jpa_cql/cql.html">
											<span class="pull-left">CQL Getting Started</span>
											<span class="pull-right">8.0</span>
										</a>
									</li>
								</ul>
							
								<h3>
									JPA Server: Partitioning and Multitenancy
								</h3>
								<ul>
									<li>
										<a href="../server_jpa_partitioning/partitioning.html">
											<span class="pull-left">Partitioning and Multitenancy</span>
											<span class="pull-right">9.0</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_partitioning/partition_interceptor_examples.html">
											<span class="pull-left">Partition Interceptor Examples</span>
											<span class="pull-right">9.1</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_partitioning/partitioning_management_operations.html">
											<span class="pull-left">Partitioning Management Operations</span>
											<span class="pull-right">9.2</span>
										</a>
									</li>
									<li>
										<a href="../server_jpa_partitioning/enabling_in_hapi_fhir.html">
											<span class="pull-left">Enabling Partitioning in HAPI FHIR</span>
											<span class="pull-right">9.3</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Interceptors
								</h3>
								<ul>
									<li>
										<a href="../interceptors/interceptors.html">
											<span class="pull-left">Interceptors Overview</span>
											<span class="pull-right">10.0</span>
										</a>
									</li>
									<li>
										<a href="../interceptors/client_interceptors.html">
											<span class="pull-left">Client Interceptors</span>
											<span class="pull-right">10.1</span>
										</a>
									</li>
									<li>
										<a href="../interceptors/client_pointcuts.html">
											<span class="pull-left">Client Pointcuts</span>
											<span class="pull-right">10.2</span>
										</a>
									</li>
									<li>
										<a href="../interceptors/built_in_client_interceptors.html">
											<span class="pull-left">Built-In Client Interceptors</span>
											<span class="pull-right">10.3</span>
										</a>
									</li>
									<li>
										<a href="../interceptors/server_interceptors.html">
											<span class="pull-left">Server Interceptors</span>
											<span class="pull-right">10.4</span>
										</a>
									</li>
									<li>
										<a href="../interceptors/server_pointcuts.html">
											<span class="pull-left">Server Pointcuts</span>
											<span class="pull-right">10.5</span>
										</a>
									</li>
									<li>
										<a href="../interceptors/built_in_server_interceptors.html">
											<span class="pull-left">Built-In Server Interceptors</span>
											<span class="pull-right">10.6</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Security
								</h3>
								<ul>
									<li>
										<a href="../security/introduction.html">
											<span class="pull-left">Introduction</span>
											<span class="pull-right">11.0</span>
										</a>
									</li>
									<li>
										<a href="../security/authorization_interceptor.html">
											<span class="pull-left">Authorization Interceptor</span>
											<span class="pull-right">11.1</span>
										</a>
									</li>
									<li>
										<a href="../security/consent_interceptor.html">
											<span class="pull-left">Consent Interceptor</span>
											<span class="pull-right">11.2</span>
										</a>
									</li>
									<li>
										<a href="../security/search_narrowing_interceptor.html">
											<span class="pull-left">Search Narrowing Interceptor</span>
											<span class="pull-right">11.3</span>
										</a>
									</li>
									<li>
										<a href="../security/cors.html">
											<span class="pull-left">CORS</span>
											<span class="pull-right">11.4</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Validation
								</h3>
								<ul>
									<li>
										<a href="../validation/introduction.html">
											<span class="pull-left">Introduction</span>
											<span class="pull-right">12.0</span>
										</a>
									</li>
									<li>
										<a href="../validation/parser_error_handler.html">
											<span class="pull-left">Parser Error Handler</span>
											<span class="pull-right">12.1</span>
										</a>
									</li>
									<li>
										<a href="../validation/instance_validator.html">
											<span class="pull-left">Instance Validator</span>
											<span class="pull-right">12.2</span>
										</a>
									</li>
									<li>
										<a href="../validation/validation_support_modules.html">
											<span class="pull-left">Validation Support Modules</span>
											<span class="pull-right">12.3</span>
										</a>
									</li>
									<li>
										<a href="../validation/schema_validator.html">
											<span class="pull-left">Schema/Schematron Validator</span>
											<span class="pull-right">12.4</span>
										</a>
									</li>
									<li>
										<a href="../validation/repository_validating_interceptor.html">
											<span class="pull-left">Repository Validating Interceptor</span>
											<span class="pull-right">12.5</span>
										</a>
									</li>
									<li>
										<a href="../validation/examples.html">
											<span class="pull-left">Validation Examples</span>
											<span class="pull-right">12.6</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Android
								</h3>
								<ul>
									<li>
										<a href="../android/client.html">
											<span class="pull-left">Android Client</span>
											<span class="pull-right">13.0</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Tools
								</h3>
								<ul>
									<li>
										<a href="../tools/hapi_fhir_cli.html">
											<span class="pull-left">Command Line Interface (CLI) Tool</span>
											<span class="pull-right">14.0</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Contributing to HAPI FHIR
								</h3>
								<ul>
									<li>
										<a href="../contributing/hacking_guide.html">
											<span class="pull-left">Hacking Guide</span>
											<span class="pull-right">15.0</span>
										</a>
									</li>
								</ul>
							
								<h3>
									Appendix
								</h3>
								<ul>
									<li>
										<a href="../appendix/logging.html">
											<span class="pull-left">Logging</span>
											<span class="pull-right">16.0</span>
										</a>
									</li>
									<li>
										<a href="../appendix/faq.html">
											<span class="pull-left">FAQ</span>
											<span class="pull-right">16.1</span>
										</a>
									</li>
									<li>
										<a href="../appendix/javadocs.html">
											<span class="pull-left">JavaDocs</span>
											<span class="pull-right">16.2</span>
										</a>
									</li>
								</ul>
							
						</div>
						<div id="leftTocSearchResults">

						</div>

					</div>
				</div>
			</div>

			
			<div class="col-xs-12 col-md-9 primaryColumn" id="tocscroll">

				<!-- Pager -->
				<div class="hide-sm-and-below">
</div>

				<div class="hide-md-and-above mobile-header-links">
					<a href="table_of_contents.html" class="btn btn-primary">
						<i class="fa fa-arrow-left"></i>
						&nbsp;&nbsp;
						Table of Contents
					</a>
					<p>Changelog: 2021</p>
				</div>

				<div class="docs-content">
					<a name="changelog-2021"></a>
<section id="section0"><h1 data-toc-text="Changelog: 2021"><span class="helpHeaderSectionNumberBadge">1.1</span>Changelog: 2021</h1><a href="changelog.html#changelog-2021" class="helpSectionLink">&nbsp;</a>
</section>

<a name="changelog"></a>
<section id="section1"><h1 data-toc-text="Changelog"><span class="helpHeaderSectionNumberBadge">1.1.1</span>Changelog</h1><a href="changelog.html#changelog" class="helpSectionLink">&nbsp;</a>
</section>

<a name="hapi-fhir-570-prerelease"></a>
<section id="section2"><h1 data-toc-text="HAPI FHIR 5.7.0  (Prerelease)"><span class="helpHeaderSectionNumberBadge">1.1.2</span>HAPI FHIR 5.7.0  (Prerelease)</h1><a href="changelog.html#hapi-fhir-570-prerelease" class="helpSectionLink">&nbsp;</a><a name="release-information"></a>
<h2>Release Information</h2>
<p>Note: This version of HAPI FHIR is a SNAPSHOT (prerelease), meaning that it has not yet been released, but all changes and fixes listed here are available to try out as <a href="../getting_started/downloading_and_importing.html#snapshot">Snapshot Builds</a>.</p>
<a name="changes"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change5.7.0-3120"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3120">#3120</a>
        </td>
        <td>
            <p>Added http://hapifhir.io/fhir/StructureDefinition/subscription-delivery-retry-count extension that can be provided to a subscription to define a specific retry strategy (retry retry-count number of times before giving up).</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.7.0-3145"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3145">#3145</a>
        </td>
        <td>
            <p>RequestValidatingInteceptor incorrectly prevented GraphQL requests from being submitted using the HTTP POST form of the GraphQL operation.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.7.0-3153"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3153">#3153</a>
        </td>
        <td>
            <p>Updated UnknownCodeSystemWarningValidationSupport to allow the throwing of warnings if configured to do so.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.7.0-3158"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3158">#3158</a>
        </td>
        <td>
            <p>Resource links were previously not being consistently created in cases where references were versioned and pointing to recently auto-created placeholder resources.</p>
        </td>
    </tr>
</table>
</section>

<a name="change5.7.0-3120"></a>
<section id="section3"><h1 data-toc-text="HAPI FHIR 5.6.0  (Prerelease)"><span class="helpHeaderSectionNumberBadge">1.1.3</span>HAPI FHIR 5.6.0  (Prerelease)</h1><a href="changelog.html#change5.7.0-3120" class="helpSectionLink">&nbsp;</a><a name="release-information-1"></a>
<h2>Release Information</h2>
<p>Note: This version of HAPI FHIR is a SNAPSHOT (prerelease), meaning that it has not yet been released, but all changes and fixes listed here are available to try out as <a href="../getting_started/downloading_and_importing.html#snapshot">Snapshot Builds</a>.</p>
<a name="changes-1"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change5.6.0-2397"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2397">#2397</a>
        </td>
        <td>
            <p>Added mdm support on $everything operation for patients by adding _mdm=true query parameter. Eg: /Patient/123/$everything?_mdm=true.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2754"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2754">#2754</a>
        </td>
        <td>
            <p>Suport for annotation scanning in synthetic types such as weld proxies has been added. Thanks to GitHub user @tarekmamdouh for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2836"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2836">#2836</a>
        </td>
        <td>
            <p>FHIR bundle batch is now processed in parallel by default and is configurable by DaoConfig.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2850"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2850">#2850</a>
        </td>
        <td>
            <p>Updated handling of MDM_AFTER_PERSISTED_RESOURCE_CHECKED pointcut to include additional MDM related info.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2851"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2851">#2851</a>
        </td>
        <td>
            <p>Allows to upload not-current version of LOINC ValueSet(s).</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2905"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2905">#2905</a>
        </td>
        <td>
            <p>Added displayLanguage support for CodeSystem $lookup operation to filter out designation by language.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2933"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2933">#2933</a>
        </td>
        <td>
            <p>Fixed a regression which causes transactions with multiple identical ifNoneExist clauses to create duplicate data.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2975"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2975">#2975</a>
        </td>
        <td>
            <p>Two improvements have been made to the connection to Elasticsearch. First, null username and password values are now permitted. Second, multiple hosts are now permitted via the <code>setHosts()</code> method on the ElasticHibernatePropertiesBuilder, allowing you to connect to multiple elasticsearch clusters at once. Thanks to Dušan Marković for the contribution!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2989"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Add new RuleBuilder options which allow you to specify additional resources and search parameters which match a given compartment. More explanations of the enhancements can be found in <a href="../security/authorization_interceptor.html#advanced-compartment-authorization">the documentation</a>.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2994"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2994">#2994</a>
        </td>
        <td>
            <p>When performing ValueSet expansions and ValueSet-based code validations, the HAPI FHIR terminology service will allow ValueSets to be expanded if they contain an enumeration of codes, even if the corresponding CodeSystem resource can not be found. Response messages have also been improved to give better insight into whether a precalculated expansion was used. In addition, a new operation called <code>$invalidate-expansion</code> has been added that allows for manual invalidation of previously calculated ValueSet expansions.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3000"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2999">#2999</a>
        </td>
        <td>
            <p>Lucene/Elasticsearch indexing has been extended to string, token, and reference parameters. This can be enabled by the new <code>setAdvancedLuceneIndexing()</code> property of DaoConfig.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3005"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3005">#3005</a>
        </td>
        <td>
            <p>Open up the visibility of some methods in the generation of the Open API definition files to allow extenders to add support for OIDC authorization.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3018"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3018">#3018</a>
        </td>
        <td>
            <p>Previously, when a search query explicitly includes a search parameter that is for the same resource type but a different resource instance from the one(s) specified on the authorized list, the search narrowing interceptor would include both search parameters in the final query, resulting in an empty bundle being returned to the caller. Now, such a call will result in a 403 Forbidden error, making it more clear why no resources were returned.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3020"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3020">#3020</a>
        </td>
        <td>
            <p>Added documentation for <code>$partition-management-read-partition</code>. Added <code>$partition-management-list-partitions</code> operation and documentation.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3022"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3022">#3022</a>
        </td>
        <td>
            <p>A new parser that naticaly handles NDJSON format (automatically converting to/from FHIR Bundle resources in order to represent the collection being parsed/serialized) as been added. Thanks to Ben Li-Sauerwine for the contribution!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3040"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3020">#3020</a>
        </td>
        <td>
            <p>Added <code>$mdm-create-link</code> operation and documentation.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3047"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3047">#3047</a>
        </td>
        <td>
            <p>Inline match URL searches (e.g. search URLs for conditional creates, conditional updates, etc.) are now subject to the same security and access control checks as other searches.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3071"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3071">#3071</a>
        </td>
        <td>
            <p>A new parameter, <code>_id</code> has been added to the <code>Patient/$everything</code> type-level operation. This allows you to pass in multiple patients as arguments, e.g. <code>[base]/Patient/$everything?_id=1,2,3</code>. This call would retrieve everything for patients with IDs 1,2, and 3.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3088"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3088">#3088</a>
        </td>
        <td>
            <p>Previously, chained searches were not able to traverse reference fields within contained resources. This enhancement adds the ability to traverse the reference fields of contained resources when those fields refer to discrete resources.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3089"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3089">#3089</a>
        </td>
        <td>
            <p>LOINC copyright notice is now taken from CodeSystem.copyright entry from loinc.xml input file.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3100"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3100">#3100</a>
        </td>
        <td>
            <p>Previously, only contained resources that are referenced directly by the containing resource were being indexed. This enhancement indexes the fields of contained resources that are referenced by other contained resources and uses these new indices in chained searches. Note: in order to make use of this new capability, it must be enabled via a configuration parameter and the repository must be re-indexed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3106"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3106">#3106</a>
        </td>
        <td>
            <p>Further enhances the features added by issue 3100 to allow chained searches across any combination of discrete and contained references.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3110"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3110">#3110</a>
        </td>
        <td>
            <p>Added a functionality to deny unknown extensions.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3110"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3110">#3110</a>
        </td>
        <td>
            <p>Subscription criteria in the HAPI FHIR JPA server now supports an optional alternate syntax of <code>[*]</code> (all resources of all types) and <code>[resourcename,resourcename,...]</code> (all resources of the given types. Note that no search parameters may be specitied with this syntax.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3033"></a>
            <span style="color: #64c2d1; font-size: 1.1em;">
                <i class="fa fa-rocket"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3033">#3033</a>
        </td>
        <td>
            <p>When performing a FHIR transaction using the JPA server where the transaction contains many identical inline match URLs (as is the case with recent versions of Synthea), HAPI FHIR will now avoid repeateed identical lookups while processing the transaction.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3061"></a>
            <span style="color: #64c2d1; font-size: 1.1em;">
                <i class="fa fa-rocket"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3061">#3061</a>
        </td>
        <td>
            <p>When ingesting Synthea data (or simnilarly structured transaction bundles) into a JPA server, a redundant resource ID lookup has been optimized out. This should particularly speed up larger sized transactions.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2790"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2790">#2790</a>
        </td>
        <td>
            <p>Support for the <code>_language</code> search parameter has been dropped from the JPA server. This search parameter was specified in FHIR DSTU1 but was dropped in later versions. It is rarely used in practice and imposes an indexing cost, so it has now been removed. A custom search parameter may be used in order to achieve the same functionality if needed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2843"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2843">#2843</a>
        </td>
        <td>
            <p>HAPI-FHIR provides indexing on Canonical Types as references. However, the option to <a href="../server_jpa/configuration.html#jpa-server-configuration-options">treat absolute references as local</a> was being ignored for those indexed canonicals. This has been corrected. Now, if you have set <code>getTreatBaseUrlsAsLocal()</code> and HAPI-FHIR detects a canonical which starts with such a url, that prefix will be stripped, and indexing will occur normally.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2904"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2904">#2904</a>
        </td>
        <td>
            <p>Change getPathItem method in OpenApiInterceptor from private to protected</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2927"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The $mdm-clear operation has been changed to use Spring Batch.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2987"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>During transactions, any resources that were PUT or POSTed with a conditional URL now receive extra validation. There is now a final storage step which ensures that the stored resource actually matches the conditional URL.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2991"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2991">#2991</a>
        </td>
        <td>
            <p>This PR eliminates the search coordinator threadpool, and executes searches synchronously on the HTTP client thread. The idea of using a separate pool was supposed to help improve server scalability, but ultimately created false bottlenecks and reduced the utility of monitoring infrastructure so it has been eliminated.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3014"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Prevent _expunge and _cascade from being used on the same DELETE operation</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3017"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3017">#3017</a>
        </td>
        <td>
            <p>Removed loinc.xml file from application, which was used as a fallback if not provided when uploading a CodeSystem. it is now required as input for LOINC CodeSystem upload.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3043"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3063">#3063</a>
        </td>
        <td>
            <p>The Saxon-HE library has been removed as a mandatory dependency from the converter library. Thanks to Jing Tang for the contribution!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2424"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2424">#2424</a>
        </td>
        <td>
            <p>This issue involves searching for a resource with a DATE parameter that is specified at only the YEAR level of precision. When searching at a higher level of precision, no results are matched. This issue is fixed now.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2790"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2790">#2790</a>
        </td>
        <td>
            <p>The SearchParameter canonical URLs exported by the JPA server have been adjusted to match the URLs specified in the FHIR specification.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2793"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2793">#2793</a>
        </td>
        <td>
            <p>Previously, when using the Expunge Everything operation, caches could retain old invalid values. This has been corrected. Thanks to <a href="https://github.com/theGOTOguy">Ben Li-Sauerwine</a> for the fix!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2799"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2799">#2799</a>
        </td>
        <td>
            <p>Certain ValueSet validation/expansion operations failed with a 'no transaction' error on Postgresql. This has been corrected. Thanks to @tyfoni-systematic for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2837"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2837">#2837</a>
        </td>
        <td>
            <p>The :not modifier does not currently work for observations with multiple codes for the search. This is fixed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2876"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2876">#2876</a>
        </td>
        <td>
            <p>Fixed a bug wherein an NPE could be thrown by the MDM module interceptor if an incoming resource had a tag with no system.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2883"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2883">#2883</a>
        </td>
        <td>
            <p>Open API docs failed to load if a custom context path is set. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2902"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2902">#2902</a>
        </td>
        <td>
            <p>Fixed a bug wherein includes were not being included on revincludes.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2920"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2920">#2920</a>
        </td>
        <td>
            <p>Previously, validation against bcp47 (urn:ietf:bcp:47) as a language would fail validation if the region was absent. This has been fixed, and the validate operation will now correctly validate simple languages, e.g. <code>nl</code> instead of requiring <code>nl-DE</code> or <code>nl-NL</code></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2932"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2923">#2923</a>
        </td>
        <td>
            <p>$lookup operation cache was based on system and code, it becomes a defect after adding displayLanguage support. Problem is now fixed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2935"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2935">#2935</a>
        </td>
        <td>
            <p>No resource returned when search with percent sign. Problem is now fixed</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2958"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2958">#2958</a>
        </td>
        <td>
            <p>Fixed issue where the processing of queries like Procedure?patient= before a cache search would cause the parameter key to be removed. Additionally, ensured that requests like Procedure?patient= cause HTTP 400 Bad Request instead of HTTP 500 Internal Error.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2962"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2962">#2962</a>
        </td>
        <td>
            <p>Added a new DaoConfig setting called <code>setElasticSearchIndexPrefix(String prefix)</code> which will cause Hibernate search to prefix all of its tables with the provided value.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2967"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2967">#2967</a>
        </td>
        <td>
            <p>Previously, the system would only traverse references to discrete resources while performing a chained search. This fix adds support for traversing references to contained resources as well, with the limitation that the reference to the contained resource must be the last reference in the chain.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2973"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2973">#2973</a>
        </td>
        <td>
            <p>CLI <code>smileutil help {command}</code> returns <code>Unknown command</code> which should return the usage of <code>command</code>. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2978"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Fixed a bug where two identical tags in parallel entries being created in a batch would fail.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-2995"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2995">#2995</a>
        </td>
        <td>
            <p>CodeSystem version is copied to ValueSet.compose.include.version on loinc terminology upload to support versioned ValueSet expansion.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3012"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3012">#3012</a>
        </td>
        <td>
            <p>Fixes migration of VARBINARY columns on MS SQLServer.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3016"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3016">#3016</a>
        </td>
        <td>
            <p>A new customized Hibernate dialect is now used for HAPI FHIR JPA on Postgresql Database. This dialect uses the PG <code>oid</code> datatype instead of <code>text</code> for CLOB columns, avoiding CLOBs being seen as abandoned by the Postgresql VACUUMLO tool.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3031"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3031">#3031</a>
        </td>
        <td>
            <p>Fixes a bug that was causing a null pointer exception to be thrown during database migrations that add or drop indexes.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3038"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Fixed a bug in processing large batch requests containing many modifying entries. PUT/POST/DELETE operations now occur sequentially, instead of in parallel.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3046"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3046">#3046</a>
        </td>
        <td>
            <p>When using deferred model scanning in highly parallelized environments, a crash could sometimes occur during parse/serialize operations.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3097"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3097">#3097</a>
        </td>
        <td>
            <p>Update documentation for $mdm-match</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3103"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3103">#3103</a>
        </td>
        <td>
            <p>Fixes a regression caused by an earlier release, which would cause the <code>$everything</code> operation to throw an SQL error when run under Postgresql.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3109"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3109">#3109</a>
        </td>
        <td>
            <p><code>$binary-access-write</code> operation returns a DocumentReference with no content. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3118"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3118">#3118</a>
        </td>
        <td>
            <p>MySQL 5.7 maps BLOB columns to LONGVARBINARY and the migrator did not take this into account. This has been fixed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3123"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3123">#3123</a>
        </td>
        <td>
            <p>When performing paging queries over large result sets in the JPA server (&gt; 1000 results), SQL could be generated that violated the Oracle RDBMS limit of 1000 parameters. This has been resolved.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.6.0-3116"></a>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3116">#3116</a>
        </td>
        <td>
            <p>The BaseResourceModifiedJson class had a redundant field called myId containing the payload ID. This has been removed.</p>
        </td>
    </tr>
</table>
</section>

<a name="change5.6.0-2397"></a>
<section id="section4"><h1 data-toc-text="HAPI FHIR 5.5.3  (Quasar)"><span class="helpHeaderSectionNumberBadge">1.1.4</span>HAPI FHIR 5.5.3  (Quasar)</h1><a href="changelog.html#change5.6.0-2397" class="helpSectionLink">&nbsp;</a><a name="release-information-2"></a>
<h2>Release Information</h2>
<p><strong>Released:</strong> 2021-10-29</p>
<p><strong>Codename:</strong> (Quasar)</p>
<a name="changes-2"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change5.5.3-3088"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3088">#3088</a>
        </td>
        <td>
            <p>Previously, chained searches were not able to traverse reference fields within contained resources. This enhancement adds the ability to traverse the reference fields of contained resources when those fields refer to discrete resources.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.3-3100"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3100">#3100</a>
        </td>
        <td>
            <p>Previously, only contained resources that are referenced directly by the containing resource were being indexed. This enhancement indexes the fields of contained resources that are referenced by other contained resources and uses these new indices in chained searches. Note: in order to make use of this new capability, it must be enabled via a configuration parameter and the repository must be re-indexed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.3-3106"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/3106">#3106</a>
        </td>
        <td>
            <p>Further enhances the features added by issue 3100 to allow chained searches across any combination of discrete and contained references.</p>
        </td>
    </tr>
</table>
</section>

<a name="change5.5.3-3088"></a>
<section id="section5"><h1 data-toc-text="HAPI FHIR 5.5.2  (Quasar)"><span class="helpHeaderSectionNumberBadge">1.1.5</span>HAPI FHIR 5.5.2  (Quasar)</h1><a href="changelog.html#change5.5.3-3088" class="helpSectionLink">&nbsp;</a><a name="release-information-3"></a>
<h2>Release Information</h2>
<p><strong>Released:</strong> 2021-10-07</p>
<p><strong>Codename:</strong> (Quasar)</p>
<a name="changes-3"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change5.5.2-2935"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2935">#2935</a>
        </td>
        <td>
            <p>No resource returned when search with percent sign. Problem is now fixed</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.2-2967"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2967">#2967</a>
        </td>
        <td>
            <p>Previously, the system would only traverse references to discrete resources while performing a chained search. This fix adds support for traversing references to contained resources as well, with the limitation that the reference to the contained resource must be the last reference in the chain.</p>
        </td>
    </tr>
</table>
</section>

<a name="change5.5.2-2935"></a>
<section id="section6"><h1 data-toc-text="HAPI FHIR 5.5.1  (Quasar)"><span class="helpHeaderSectionNumberBadge">1.1.6</span>HAPI FHIR 5.5.1  (Quasar)</h1><a href="changelog.html#change5.5.2-2935" class="helpSectionLink">&nbsp;</a><a name="release-information-4"></a>
<h2>Release Information</h2>
<p><strong>Released:</strong> 2021-08-30</p>
<p><strong>Codename:</strong> (Quasar)</p>
<a name="changes-4"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change5.5.1-2933"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2933">#2933</a>
        </td>
        <td>
            <p>Fixed a regression which causes transactions with multiple identical ifNoneExist clauses to create duplicate data.</p>
        </td>
    </tr>
</table>
</section>

<a name="change5.5.1-2933"></a>
<section id="section7"><h1 data-toc-text="HAPI FHIR 5.5.0  (Prerelease)"><span class="helpHeaderSectionNumberBadge">1.1.7</span>HAPI FHIR 5.5.0  (Prerelease)</h1><a href="changelog.html#change5.5.1-2933" class="helpSectionLink">&nbsp;</a><a name="release-information-5"></a>
<h2>Release Information</h2>
<p>Note: This version of HAPI FHIR is a SNAPSHOT (prerelease), meaning that it has not yet been released, but all changes and fixes listed here are available to try out as <a href="../getting_started/downloading_and_importing.html#snapshot">Snapshot Builds</a>.</p>
<a name="changes-5"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change5.5.0-0"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The version of a few dependencies have been bumped to the latest versions (dependent HAPI modules listed in brackets): <ul> <li>Spring (JPA): 5.3.6 -&gt; 5.3.7</li> <li>Spring Boot (JPA Starter): 2.4.4 -&gt; 2.5.0</li> <li>Jetty (CLI): 9.4.39.v20210325 -&gt; 9.4.42.v20210604</li> </ul></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2509"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2509">#2509</a>
        </td>
        <td>
            <p>Pagination returned incorrect offset and count in the previous link of the last page when total element count was one more than multiple of page size. Problem is now fixed</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2652"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2652">#2652</a>
        </td>
        <td>
            <p>Settings have been added to the JPA Server DaoConfig to enable/disable various individual kinds of scheduled tasks.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2653"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2653">#2653</a>
        </td>
        <td>
            <p>When performing a conditional create operation on a JPA server, the system will now verify that the conditional URL actually matches the data supplied in the resource body, and aborts the conditional create if it does not.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2672"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2672">#2672</a>
        </td>
        <td>
            <p>Support has been added to the JPA server for <code>_include</code> and <code>_revinclude</code> where the value is a qualified star, e.g. <code>_include=Observation:*</code>.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2675"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2675">#2675</a>
        </td>
        <td>
            <p>A new interceptor ValidationMessageSuppressingInterceptor has been added. This interceptor can be used to selectively suppress specific vaLidation messages.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2676"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2676">#2676</a>
        </td>
        <td>
            <p>A new config option has been added to the DaoConfig that causes generated SQL statements to account for potential null values in HAPI FHIR JPA date index rows. Nulls are no longer ever used in this table after HAPI FHIR 5.3.0, but legacy data may still have nulls.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2676"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2676">#2676</a>
        </td>
        <td>
            <p>When performing non-query cache JPA searches (i.e. searches with <code>Cache-Control: no-store</code>) the loading of <code>_include</code> and <code>_revinclude</code> will now factor the maximum include count.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2676"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2676">#2676</a>
        </td>
        <td>
            <p>A new setting has been added to the DaoConfig that allows the maximum number of <code>_include</code> and <code>_revinclude</code> resources to be added to a single search page result. In addition, the include/revinclue processor have been redesigned to avoid accidentally overloading the server if an include/revinclude would return unexpected massive amounts of data.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2681"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2681">#2681</a>
        </td>
        <td>
            <p>A new DaoConfig setting called Mass Ingestion Mode has been added. This mode enables rapid data ingestion by skipping a number of unnecessary checks during backloading.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2692"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2692">#2692</a>
        </td>
        <td>
            <p>A new Pointcut has been added that is invoked when a new Bulk Export is initiated.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2702"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2702">#2702</a>
        </td>
        <td>
            <p>The JPA server terminology uploader now supports uploading ICD-10-CM (US Edition) using the native format for that vocabulary.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2712"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2712">#2712</a>
        </td>
        <td>
            <p>AuthorizationInterceptor can now be used to authorize bulk export requests</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2721"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2721">#2721</a>
        </td>
        <td>
            <p>Support for LOINC 2.70 has been added.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2727"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2828">#2828</a>
        </td>
        <td>
            <p>PatientIdPartitionInterceptor now supports conditional creates of resources where the resource is in the patient compartment but the conditional URL does not contain a patietn reference.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2735"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2735">#2735</a>
        </td>
        <td>
            <p>The $evaluate-measure now works on a partitioned server.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2743"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2743">#2743</a>
        </td>
        <td>
            <p>A new interceptor has been added for JPA servers that uses semaphores to avoid multiple concurrent FHIR transactions from trying to create/update the same resource at the same time. This can improve overall performance when writing many concurrent transactions since it avoids the need for retries.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2748"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2748">#2748</a>
        </td>
        <td>
            <p>A new tag storage mode called <strong>Inline Tag Mode</strong> tas been added. In this mode, all tags are stored directly in the serialized resource body in the database, instead of using dedicated tables. This has significant performance advantages when storing resources with many distinct tags (i.e. many tags that are unique to each resource, as opposed to being reused across multiple resources).</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2756"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2756">#2756</a>
        </td>
        <td>
            <p>A new interceptor has been addeed to the JPA server called <code>ForceOffsetSearchModeInterceptor</code>. This interceptor forces all searches to be offset searches, instead of relying on the query cache. This means that FHIR search operations will never result in any database write, which can be good for highly concurrent servers.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2766"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2766">#2766</a>
        </td>
        <td>
            <p>A new JPA partitioning interceptor <code>PatientIdPartitionInterceptor</code> has been added. This interceptor uses the ID of the patient associated with any resources in the patient compartment to generate a consistent partition ID.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2767"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2767">#2767</a>
        </td>
        <td>
            <p><code>$mdm-query-links</code> and <code>$mdm-duplicate-golden-resources</code> now enforce paging via parameters <code>_offset</code> and <code>_count</code>. More details can be found in the <a href="../server_jpa_mdm/mdm_operations.html">MDM Operations documentation</a>.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2777"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2777">#2777</a>
        </td>
        <td>
            <p>Support for multiple header-passthrough option using <b>-hp</b> or <b>--header-passthrough</b> parameter has been added to hapi-fhir-cli commands: <b>example-data-uploader</b>, <b>export-conceptmap-to-csv</b>, <b>import-csv-to-conceptmap</b> and <b>upload-terminology</b></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2782"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2782">#2782</a>
        </td>
        <td>
            <p>A new Validation Support Module has been added that can use NPM Packages to supply validation conformance artifacts programatcally to the validator.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2786"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2786">#2786</a>
        </td>
        <td>
            <p>Add 'loinc.codesystem.make.current' property to upload-terminology command to allow loading LOINC version without becoming current.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2800"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2800">#2800</a>
        </td>
        <td>
            <p>Allowed the optional inclusion of the LOINC Consumer Names archive in addition to the main LOINC distribution. If it is supplied, the consumer names CSV file will be scanned, and all consumer names will be added to uploaded Concepts as additional designations</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2803"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2803">#2803</a>
        </td>
        <td>
            <p>Allowed the optional inclusion of the LOINC Linguistic Variants archive in addition to the main LOINC distribution. If it is supplied, all linguistic variants files will be scanned, and all translations will be added to uploaded Concepts as additional designations</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2830"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Upgrade net.java.dev.jna to run docker tests on Mac arm64 M1 machines</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2841"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2841">#2841</a>
        </td>
        <td>
            <p>The <a href="https://www.hl7.org/fhir/search.html#text">:text</a> Search Parameter modifier now searches by word boundary of the text content as opposed to only searching at the start of the text when using Lucene/Elasticsearch indexing. Add * to match word prefixes (e.g. weig* will match weight).</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2845"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2845">#2845</a>
        </td>
        <td>
            <p>Added new <code>$reindex</code> operation with similar syntax to <code>$delete-expunge</code> that creates a spring-batch job to reindex selected resources. <code>$mark-all-resources-for-reindexing</code> and <code>$perform-reindexing-pass</code> are now deprecated, and will likely be removed in a future release.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2852"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2852">#2852</a>
        </td>
        <td>
            <p>Replace existing email implementation code with SimpleJavaMail library.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2871"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2871">#2871</a>
        </td>
        <td>
            <p>Modified the behaviour of the <code>:mdm</code> param qualifier. Previously, it used to only resolve IDs if the resource ID was a source resource. Now, MDM expansion will work if you pass it the ID of a golden resource instead.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2688"></a>
            <span style="color: #64c2d1; font-size: 1.1em;">
                <i class="fa fa-rocket"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2688">#2688</a>
        </td>
        <td>
            <p>Conditional URL lookups in the JPA server will now explicitly specify a maximum fetch size of 2, avoiding fetching more data that won't be used inadvertently in some situations.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2688"></a>
            <span style="color: #64c2d1; font-size: 1.1em;">
                <i class="fa fa-rocket"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2688">#2688</a>
        </td>
        <td>
            <p>FHIR Transaction duplicate record checks are now performed without any database interactions or SQL statements, reducing the processing load associated with FHIR transactions by at least a small amount.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2717"></a>
            <span style="color: #64c2d1; font-size: 1.1em;">
                <i class="fa fa-rocket"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2717">#2717</a>
        </td>
        <td>
            <p>A new setting has been added to the DaoConfig called Tag Versioning Mode. This setting controls whether a single collection of tags/profiles/security labels is maintained across all versions of a single resource, or whether each version of the resource maintains its own independent collection. Previously each version always maintained an independent collection, which is useful sometimes, but is often not useful and can affect performance.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2717"></a>
            <span style="color: #64c2d1; font-size: 1.1em;">
                <i class="fa fa-rocket"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2717">#2717</a>
        </td>
        <td>
            <p>FHIR transactions in the JPA server that perform writes will now aggressively pre-fetch as many entities as possible at the very start of transaction processing. This can drastically reduce the number of round-trips, especially as the number of resources in a transaction gets bigger.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2653"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2653">#2653</a>
        </td>
        <td>
            <p>When performing a conditional create/update/delete on a JPA server, if the match URL contained a plus character, this character was interpreted as a space (per legacy URL encoding rules) even though this has proven to not be the intended behaviour in real life applications. Plus characters will now be treated literally as a plus character in these URLs.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2695"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2695">#2695</a>
        </td>
        <td>
            <p>Bulk import batch jobs are now activated in a local scheduled task, making bulk import jobs better able to take advantage of large clusters.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2697"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2697">#2697</a>
        </td>
        <td>
            <p>DELETE _expunge=true has been converted to use Spring Batch.  It now simply returns the jobId of the Spring Batch job while the job continues to run in the background.  A new operation called $expunge-delete has been added to provide more fine-grained control of the delete expunge operation.  This operation accepts an ordered list of URLs to be delete expunged and an optional batch-size parameter that will be used to perform the delete expunge.  If no batch size is specified in the operation, then the value of DaoConfig.getExpungeBatchSize() is used.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2732"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2732">#2732</a>
        </td>
        <td>
            <p>The ConceptMap.group.element.display storage size limit has been increased to 500 characters.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2751"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2751">#2751</a>
        </td>
        <td>
            <p>The bulk export request length limit has been increased to 1024 characters.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2760"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2760">#2760</a>
        </td>
        <td>
            <p>If two authorization compartments apply to the same targets and share the same compartment name, then instead of creating a new compartment, the rule builder now adds the new owner to the list of owners in the existing compartment.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2766"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2766">#2766</a>
        </td>
        <td>
            <p>When operating in partitioned mode, the interceptor pointcut <code>STORAGE_PARTITION_IDENTIFY_CREATE</code> will now be invoked to determine the partition to use for create with client-assigned IDs. Previously the <code>STORAGE_PARTITION_IDENTIFY_READ</code> pointcut was invoked, which was confusing and potentially unexpected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2773"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2773">#2773</a>
        </td>
        <td>
            <p>Flyway migration used to enforce order by default.  This has been changed so now the default behaviour is out of order migrations are permitted.  Strict order can be enforced via the new strict-order flag if required.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2791"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2791">#2791</a>
        </td>
        <td>
            <p>Identifier maximum length increased from 200 to 500. This specifically applies to table HFJ_IDX_CMP_STRING_UNIQ.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2805"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2805">#2805</a>
        </td>
        <td>
            <p>When the contents of a package are corrupt, the error messages now identify the corrupt element</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2665"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2665">#2665</a>
        </td>
        <td>
            <p>When performing a FHIR transaction containing a conditional create, references to that resource were inadvertently replaced with contained references.&quot;</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2672"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2672">#2672</a>
        </td>
        <td>
            <p>A concurrency error was fixed when using client assigned IDs on a highly concurrent server with resource deletion disabled.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2674"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2674">#2674</a>
        </td>
        <td>
            <p>A null-pointer exception was fixed when a ResponseTerminologyDisplayInterceptor is registered and a search or read response returns a resource with code value that in turn returns a null code lookup.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2676"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2676">#2676</a>
        </td>
        <td>
            <p>Subscription notifications will no longer be triggered by default in response to changes that do not increment the resource version (e.g. <code>$meta-add</code> and <code>$meta-delete</code>). A new DaoConfig setting has been added to make this configurable.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2677"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2674">#2674</a>
        </td>
        <td>
            <p>When myDaoConfig.setDefaultTotalMode(SearchTotalModeEnum.ACCURATE) and there are zero search results on an _id search, An Index Out of Bounds error was thrown.  This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2682"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2682">#2682</a>
        </td>
        <td>
            <p>Fixes the problem that FHIR package IDs were incorrectly treated as case sensitive when being loaded, causing loads to fail when dependencies were declared with a different case than in the package itself.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2693"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2693">#2693</a>
        </td>
        <td>
            <p>Constraint errors were not always auto-retried even when configured to do so on certain platforms (particularly Postgresql) where constraint names are auto converted to lower case. Thanks to Bruno Hedman for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2705"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2705">#2705</a>
        </td>
        <td>
            <p>When searching by source, if deleted resources are matched, the search returned an incorrect size.  This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2706"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2695">#2695</a>
        </td>
        <td>
            <p>The _filter search parameter was incorrectly included in the server capability statement if it was disabled on the server.  This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2724"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2624">#2624</a>
        </td>
        <td>
            <p>ValueSet expansion did not correctly preserve the order if multiple codes were included in a single inclusion block.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2739"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2739">#2739</a>
        </td>
        <td>
            <p>Too many MDM candidates matching could result in an OutOfMemoryError.  Candidate matching is now limited to the value of IMdmSettings.getCandidateSearchLimit(), default 10000.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2741"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2741">#2741</a>
        </td>
        <td>
            <p>A regression caused the JPA Server History operation to not return paging links in responses. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2747"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2747">#2747</a>
        </td>
        <td>
            <p>Added null checks to MDM resource interceptor in order to avoid NPEs.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2748"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2748">#2748</a>
        </td>
        <td>
            <p>The SQL generated for the <code>_profile</code> search parameter did not use all of the columns on the tag index table, resulting on poor performance on MySQL. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2758"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2758">#2758</a>
        </td>
        <td>
            <p>The internal cache for tags, concepts, and others had longer or shorter expiry times than was intended. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2761"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2761">#2761</a>
        </td>
        <td>
            <p>When searching for ExplanationOfBenefit?patient=123,456, the compartment authorization interceptor was treating '123,456' as a single id rather than as a list of ids.  This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2762"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2762">#2762</a>
        </td>
        <td>
            <p>A regression was introduced in 2760 where a READ compartment could get collapsed into a WRITE compartment.  This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2764"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2764">#2764</a>
        </td>
        <td>
            <p>Searches for mdm-expanded references such as Observation?subject:mdm=123 were getting denied by access rules that did not recognize the :mdm suffix.  This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2768"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2768">#2768</a>
        </td>
        <td>
            <p>$mdm-submit operation was only submitting 100 resources and then stopping.  It now correctly submits all requested resources.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2794"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2794">#2794</a>
        </td>
        <td>
            <p>When providing links for placeholder creation, DaoResourceLinkResolver expects just a single 'identifier=value' param, but it can be additional data, s.a. tags, extra identifiers, etc.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2797"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2797">#2797</a>
        </td>
        <td>
            <p>When initiating a FHIR bulk export, if more than one <code>_typeFilter</code> parameter was supplied only the first one was respected. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2808"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2808">#2808</a>
        </td>
        <td>
            <p>Loading packages would fail when partitioning was enabled with unnamed partitions. This has been fixed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2810"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2810">#2810</a>
        </td>
        <td>
            <p>An issue in the FHIRPath evaluator prevented Encounters from being stored when using the new PatientIdPartitionInterceptor. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2823"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2823">#2823</a>
        </td>
        <td>
            <p>Mdm failed to load if any mdm subscription had been deleted, e.g. if $expunge expungeEverything had been run on the server.  This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2826"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2826">#2826</a>
        </td>
        <td>
            <p>When Client Id Strategy is set to NOT_ALLOWED, permit system requests to create resources, e.g. SearchParameter and Subscription resources required by the system.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2829"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2829">#2829</a>
        </td>
        <td>
            <p>Add DSTU3 Support To UploadTerminologyCommand.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2868"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2868">#2868</a>
        </td>
        <td>
            <p>Fixed a bug in transaction bundle processing, specifically for bundles which contained both a conditional create, and a resource which relied on this conditional create as a reference. This would cause the referring resource to generate a contained resource instead of appropriately referencing the existing patient.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2876"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2876">#2876</a>
        </td>
        <td>
            <p>Fixed a bug wherein an NPE could be thrown by the MDM module interceptor if an incoming resource had a tag with no system.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2887"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2887">#2887</a>
        </td>
        <td>
            <p>Fixed a bug where the search results cache was ignoring the value of <code>_contained</code> parameter when assigning a cache key. This was causing queries run in a short period of time to return wrong cached results if one query used <code>_contained=true</code> and the other did not.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.5.0-2835"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-shield-alt"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2835">#2835</a>
        </td>
        <td>
            <p>Addressed the following CVE report by bumping the minor version for Jetty in the root POM: <ul> <li> <a href="https://github.com/advisories/GHSA-vjv5-gp2w-65vm">CVE-2021-34429</a> </li> </ul></p>
        </td>
    </tr>
</table>
</section>

<a name="change5.5.0-0"></a>
<section id="section8"><h1 data-toc-text="HAPI FHIR 5.4.2  (Pangolin)"><span class="helpHeaderSectionNumberBadge">1.1.8</span>HAPI FHIR 5.4.2  (Pangolin)</h1><a href="changelog.html#change5.5.0-0" class="helpSectionLink">&nbsp;</a><a name="release-information-6"></a>
<h2>Release Information</h2>
<p><strong>Released:</strong> 2021-07-06</p>
<p><strong>Codename:</strong> (Pangolin)</p>
<a name="changes-6"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change5.4.2-2721"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2721">#2721</a>
        </td>
        <td>
            <p>Support for LOINC 2.70 has been added.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.2-2735"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2735">#2735</a>
        </td>
        <td>
            <p>The $evaluate-measure now works on a partitioned server.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.2-2748"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2748">#2748</a>
        </td>
        <td>
            <p>A new tag storage mode called <strong>Inline Tag Mode</strong> tas been added. In this mode, all tags are stored directly in the serialized resource body in the database, instead of using dedicated tables. This has significant performance advantages when storing resources with many distinct tags (i.e. many tags that are unique to each resource, as opposed to being reused across multiple resources).</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.2-2717"></a>
            <span style="color: #64c2d1; font-size: 1.1em;">
                <i class="fa fa-rocket"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2717">#2717</a>
        </td>
        <td>
            <p>A new setting has been added to the DaoConfig called Tag Versioning Mode. This setting controls whether a single collection of tags/profiles/security labels is maintained across all versions of a single resource, or whether each version of the resource maintains its own independent collection. Previously each version always maintained an independent collection, which is useful sometimes, but is often not useful and can affect performance.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.2-2717"></a>
            <span style="color: #64c2d1; font-size: 1.1em;">
                <i class="fa fa-rocket"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2717">#2717</a>
        </td>
        <td>
            <p>FHIR transactions in the JPA server that perform writes will now aggressively pre-fetch as many entities as possible at the very start of transaction processing. This can drastically reduce the number of round-trips, especially as the number of resources in a transaction gets bigger.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.2-2697"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2697">#2697</a>
        </td>
        <td>
            <p>DELETE _expunge=true has been converted to use Spring Batch.  It now simply returns the jobId of the Spring Batch job while the job continues to run in the background.  A new operation called $expunge-delete has been added to provide more fine-grained control of the delete expunge operation.  This operation accepts an ordered list of URLs to be delete expunged and an optional batch-size parameter that will be used to perform the delete expunge.  If no batch size is specified in the operation, then the value of DaoConfig.getExpungeBatchSize() is used.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.2-2732"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2732">#2732</a>
        </td>
        <td>
            <p>The ConceptMap.group.element.display storage size limit has been increased to 500 characters.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.2-2760"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2760">#2760</a>
        </td>
        <td>
            <p>If two authorization compartments apply to the same targets and share the same compartment name, then instead of creating a new compartment, the rule builder now adds the new owner to the list of owners in the existing compartment.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.2-2773"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2773">#2773</a>
        </td>
        <td>
            <p>Flyway migration used to enforce order by default.  This has been changed so now the default behaviour is out of order migrations are permitted.  Strict order can be enforced via the new strict-order flag if required.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.2-2724"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2624">#2624</a>
        </td>
        <td>
            <p>ValueSet expansion did not correctly preserve the order if multiple codes were included in a single inclusion block.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.2-2739"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2739">#2739</a>
        </td>
        <td>
            <p>Too many MDM candidates matching could result in an OutOfMemoryError.  Candidate matching is now limited to the value of IMdmSettings.getCandidateSearchLimit(), default 10000.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.2-2741"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2741">#2741</a>
        </td>
        <td>
            <p>A regression caused the JPA Server History operation to not return paging links in responses. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.2-2747"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2747">#2747</a>
        </td>
        <td>
            <p>Added null checks to MDM resource interceptor in order to avoid NPEs.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.2-2748"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2748">#2748</a>
        </td>
        <td>
            <p>The SQL generated for the <code>_profile</code> search parameter did not use all of the columns on the tag index table, resulting on poor performance on MySQL. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.2-2762"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2762">#2762</a>
        </td>
        <td>
            <p>A regression was introduced in 2760 where a READ compartment could get collapsed into a WRITE compartment.  This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.2-2764"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2764">#2764</a>
        </td>
        <td>
            <p>Searches for mdm-expanded references such as Observation?subject:mdm=123 were getting denied by access rules that did not recognize the :mdm suffix.  This has been corrected.</p>
        </td>
    </tr>
</table>
</section>

<a name="change5.4.2-2721"></a>
<section id="section9"><h1 data-toc-text="HAPI FHIR 5.4.1  (Pangolin)"><span class="helpHeaderSectionNumberBadge">1.1.9</span>HAPI FHIR 5.4.1  (Pangolin)</h1><a href="changelog.html#change5.4.2-2721" class="helpSectionLink">&nbsp;</a><a name="release-information-7"></a>
<h2>Release Information</h2>
<p><strong>Released:</strong> 2021-06-15</p>
<p><strong>Codename:</strong> (Pangolin)</p>
<a name="changes-7"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change5.4.1-2509"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2509">#2509</a>
        </td>
        <td>
            <p>Pagination returned incorrect offset and count in the previous link of the last page when total element count was one more than multiple of page size. Problem is now fixed</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2652"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2652">#2652</a>
        </td>
        <td>
            <p>Settings have been added to the JPA Server DaoConfig to enable/disable various individual kinds of scheduled tasks.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2653"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2653">#2653</a>
        </td>
        <td>
            <p>When performing a conditional create operation on a JPA server, the system will now verify that the conditional URL actually matches the data supplied in the resource body, and aborts the conditional create if it does not.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2672"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2672">#2672</a>
        </td>
        <td>
            <p>Support has been added to the JPA server for <code>_include</code> and <code>_revinclude</code> where the value is a qualified star, e.g. <code>_include=Observation:*</code>.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2675"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2675">#2675</a>
        </td>
        <td>
            <p>A new interceptor ValidationMessageSuppressingInterceptor has been added. This interceptor can be used to selectively suppress specific vaLidation messages.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2676"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2676">#2676</a>
        </td>
        <td>
            <p>A new config option has been added to the DaoConfig that causes generated SQL statements to account for potential null values in HAPI FHIR JPA date index rows. Nulls are no longer ever used in this table after HAPI FHIR 5.3.0, but legacy data may still have nulls.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2676"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2676">#2676</a>
        </td>
        <td>
            <p>When performing non-query cache JPA searches (i.e. searches with <code>Cache-Control: no-store</code>) the loading of <code>_include</code> and <code>_revinclude</code> will now factor the maximum include count.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2676"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2676">#2676</a>
        </td>
        <td>
            <p>A new setting has been added to the DaoConfig that allows the maximum number of <code>_include</code> and <code>_revinclude</code> resources to be added to a single search page result. In addition, the include/revinclue processor have been redesigned to avoid accidentally overloading the server if an include/revinclude would return unexpected massive amounts of data.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2681"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2681">#2681</a>
        </td>
        <td>
            <p>A new DaoConfig setting called Mass Ingestion Mode has been added. This mode enables rapid data ingestion by skipping a number of unnecessary checks during backloading.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2692"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2692">#2692</a>
        </td>
        <td>
            <p>A new Pointcut has been added that is invoked when a new Bulk Export is initiated.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2702"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2702">#2702</a>
        </td>
        <td>
            <p>The JPA server terminology uploader now supports uploading ICD-10-CM (US Edition) using the native format for that vocabulary.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2712"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2712">#2712</a>
        </td>
        <td>
            <p>AuthorizationInterceptor can now be used to authorize bulk export requests</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2688"></a>
            <span style="color: #64c2d1; font-size: 1.1em;">
                <i class="fa fa-rocket"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2688">#2688</a>
        </td>
        <td>
            <p>Conditional URL lookups in the JPA server will now explicitly specify a maximum fetch size of 2, avoiding fetching more data that won't be used inadvertently in some situations.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2688"></a>
            <span style="color: #64c2d1; font-size: 1.1em;">
                <i class="fa fa-rocket"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2688">#2688</a>
        </td>
        <td>
            <p>FHIR Transaction duplicate record checks are now performed without any database interactions or SQL statements, reducing the processing load associated with FHIR transactions by at least a small amount.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2653"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2653">#2653</a>
        </td>
        <td>
            <p>When performing a conditional create/update/delete on a JPA server, if the match URL contained a plus character, this character was interpreted as a space (per legacy URL encoding rules) even though this has proven to not be the intended behaviour in real life applications. Plus characters will now be treated literally as a plus character in these URLs.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2695"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2695">#2695</a>
        </td>
        <td>
            <p>Bulk import batch jobs are now activated in a local scheduled task, making bulk import jobs better able to take advantage of large clusters.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2665"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2665">#2665</a>
        </td>
        <td>
            <p>When performing a FHIR transaction containing a conditional create, references to that resource were inadvertently replaced with contained references.&quot;</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2672"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2672">#2672</a>
        </td>
        <td>
            <p>A concurrency error was fixed when using client assigned IDs on a highly concurrent server with resource deletion disabled.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2674"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2674">#2674</a>
        </td>
        <td>
            <p>A null-pointer exception was fixed when a ResponseTerminologyDisplayInterceptor is registered and a search or read response returns a resource with code value that in turn returns a null code lookup.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2676"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2676">#2676</a>
        </td>
        <td>
            <p>Subscription notifications will no longer be triggered by default in response to changes that do not increment the resource version (e.g. <code>$meta-add</code> and <code>$meta-delete</code>). A new DaoConfig setting has been added to make this configurable.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2677"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2674">#2674</a>
        </td>
        <td>
            <p>When myDaoConfig.setDefaultTotalMode(SearchTotalModeEnum.ACCURATE) and there are zero search results on an _id search, An Index Out of Bounds error was thrown.  This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2682"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2682">#2682</a>
        </td>
        <td>
            <p>Fixes the problem that FHIR package IDs were incorrectly treated as case sensitive when being loaded, causing loads to fail when dependencies were declared with a different case than in the package itself.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2693"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2693">#2693</a>
        </td>
        <td>
            <p>Constraint errors were not always auto-retried even when configured to do so on certain platforms (particularly Postgresql) where constraint names are auto converted to lower case. Thanks to Bruno Hedman for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2705"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2705">#2705</a>
        </td>
        <td>
            <p>When searching by source, if deleted resources are matched, the search returned an incorrect size.  This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.1-2706"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2695">#2695</a>
        </td>
        <td>
            <p>The _filter search parameter was incorrectly included in the server capability statement if it was disabled on the server.  This has been corrected.</p>
        </td>
    </tr>
</table>
</section>

<a name="change5.4.1-2509"></a>
<section id="section10"><h1 data-toc-text="HAPI FHIR 5.4.0  (Pangolin)"><span class="helpHeaderSectionNumberBadge">1.1.10</span>HAPI FHIR 5.4.0  (Pangolin)</h1><a href="changelog.html#change5.4.1-2509" class="helpSectionLink">&nbsp;</a><a name="release-information-8"></a>
<h2>Release Information</h2>
<p><strong>Released:</strong> 2021-05-20</p>
<p><strong>Codename:</strong> (Pangolin)</p>
<a name="changes-8"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change5.4.0-0"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The version of a few dependencies have been bumped to the latest versions (dependent HAPI modules listed in brackets): <ul> <li>Commons-Lang3 (Core): 3.9 -&gt; 3.12.0</li> <li>Commons-Text (Core): 1.7 -&gt; 1.9</li> <li>Commons-Codec (Core): 1.14 -&gt; 1.15</li> <li>Commons-IO (Core): 2.6 -&gt; 2.8.0</li> <li>Guava (Core): 30.1-jre -&gt; 30.1.1-jre</li> <li>Jackson (Core): 2.12.1 -&gt; 2.12.3</li> <li>Woodstox (Core): 6.2.3 -&gt; 6.2.5</li> <li>Apache Jena (Core/RDF): 3.16.0 -&gt; 3.17.0</li> <li>Gson (JPA): 2.8.5 -&gt; 2.8.6</li> <li>Caffeine (JPA): 2.7.0 -&gt; 3.0.1</li> <li>Hibernate (JPA): 5.4.26.Final -&gt; 5.4.30.Final</li> <li>Hibernate Search (JPA): 6.0.0.Final -&gt; 6.0.3.Final</li> <li>Spring (JPA): 5.3.3 -&gt; 5.3.6</li> <li>Spring Batch (JPA): 4.2.3.RELEASE -&gt; 4.3.2</li> <li>Spring Data (JPA): 2.4.2 -&gt; 2.5.0</li> <li>Commons DBCP2 (JPA): 2.7.0 -&gt; 2.8.0</li> <li>ElasticSearch Client (JPA): 7.10.2 -&gt; 7.12.1</li> <li>Thymeleaf (Testpage Overlay): 3.0.11.RELEASE -&gt; 3.0.12.RELEASE</li> <li>JAnsi (CLI): 2.1.1 -&gt; 2.3.2</li> <li>JArchivelib (CLI): 1.0.0 -&gt; 1.1.0</li> </ul></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-1509"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2417">#2417</a>
        </td>
        <td>
            <p>Support for the FHIR _list search parameter.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2332"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2332">#2332</a>
        </td>
        <td>
            <p>Terminology storage is now skipped for placeholder ValueSet and ConceptMap resources.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2384"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2384">#2384</a>
        </td>
        <td>
            <p>When a REST server returns a failure because no method matched the request parameters, the resulting OperationOutcome will now correctly set the issue type to <code>not-supported</code>. Thanks to Jari Maijenburg for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2401"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2401">#2401</a>
        </td>
        <td>
            <p>Group Bulk exports are now supported. You can export all data for a Group of Patients via the <code>/Group/[id]/$export</code> endpoint for any resource type which contains a patient compartment. The _typeFilter and _since criteria are currently not supported at this level, but may eventually be</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2403"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2403">#2403</a>
        </td>
        <td>
            <p>Optionally support '_contained' resource search by enabling the indexing on the contained resources in the ModelConfig.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2407"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2407">#2407</a>
        </td>
        <td>
            <p>When using the JPA server in partitioned mode with a partition interceptor, the interceptor is now called even for resource types that can not be placed in a non-default partition (e.g. SearchParameter, CodeSystem, etc.). The interceptor may return null or default in this case, but can include a non-null partition date if needed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2409"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2409">#2409</a>
        </td>
        <td>
            <p>In MDM matching rules, support has been added for using FHIRPath expressions instead of Resource Path expressions via the <code>fhirPath</code> field in a field matcher</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2433"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2433">#2433</a>
        </td>
        <td>
            <p>Support has been added for MDM expansion during Group bulk export. Calling a group export via <code>/Group/123/$export?_mdm=true</code> will cause Bulk Export to not only match group members, but also any MDM-matched patients, and their related golden record patients</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2441"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2441">#2441</a>
        </td>
        <td>
            <p>Support has been added to the JPA server for indexing and searching using the <code>_contained</code> parameter, which allows searching using chained parameters that chain into contained resources. This feature is disabled by default but can be enabled via a setting on the ModelConfig object.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2445"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2445">#2445</a>
        </td>
        <td>
            <p>Support has been added for patient level Bulk export. This can be done via the <code>/Patient/$export</code> endpoint. Also, support has been added for setting Cache-Control header to no-cache for Bulk Export requests.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2446"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2446">#2446</a>
        </td>
        <td>
            <p>Auto-created placeholder reference targets now have an extension with the URL <code>http://hapifhir.io/fhir/StructureDefinition/resource-placeholder</code> and a value of <code>true</code>.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2449"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2449">#2449</a>
        </td>
        <td>
            <p>Adds interceptors for the following functionality: <ul> <li> Data normalization (n11n) - removing unwanted characters (control, etc. as defined by the requirements) </li> <li> Data standardization (s13n) - normalizing data by ensuring word spacing and character cases are uniform </li> <li> Data validation - making sure that addresses / emails are validated </li> </ul></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2478"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2478">#2478</a>
        </td>
        <td>
            <p>Added matching based on extension, when given the path to a fhir resource the matcher will take the extensions and match if the url and string value are the same</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2488"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2488">#2488</a>
        </td>
        <td>
            <p>Two new server interceptors have been added that can be used to map codes and populate code display names respectively using the server terminology services.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2499"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2499">#2499</a>
        </td>
        <td>
            <p>When using the _mdm parameter during Group Bulk Export, resources written out will now contain an extension with the url <code>https://hapifhir.org/associated-patient-golden-resource/</code> identifying which golden resource the target resource belongs to.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2506"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2506">#2506</a>
        </td>
        <td>
            <p>The server generated CapabilityStatment will now include supported Profile declarations for FHIR R4+.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2506"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2506">#2506</a>
        </td>
        <td>
            <p>A new server interceptor has been added that allows servers to implement lenient search mode, where unknown search parameters are ignored if an optional HTTP Prefer header is provided.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2520"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2520">#2520</a>
        </td>
        <td>
            <p>Add support for <code>:mdm</code> search parameter qualifier on reference search parameters. Details about enabling this feature can be found <a href="../server_jpa_mdm/mdm_expansion.html">in the documentation</a>.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2521"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2521">#2521</a>
        </td>
        <td>
            <p>The automatically generated CapabilityStatement for R4+ will now incude the list of supported revinclude values.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2521"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2521">#2521</a>
        </td>
        <td>
            <p>The server generated CapabilityStatement now reflects whether RDF/Turtle is supported by the server. In addition, the ResponseHighlightingInterceptor will now provide some TTL support.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2523"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2523">#2523</a>
        </td>
        <td>
            <p>A new Validation Support Module has been added called UnknownCodeSystemWarningValidationSupport. This module allows validation to produce a warning but not an error if a code being validated references an unknown code system.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2525"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2525">#2525</a>
        </td>
        <td>
            <p>A new optional parameter has been added to the <code>ValueSet/$expand</code> operation. When provided a value of <code>true</code>, the operation will include the concept hierarchy in the expansion response.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2534"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2534">#2534</a>
        </td>
        <td>
            <p>Add new pointcut <code>STORAGE_TRANSACTION_PROCESSED</code>, which fires after all operations in a transaction have executed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2537"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2537">#2537</a>
        </td>
        <td>
            <p>It is now possible t create narrative generator templates that apply to any custom strucures including custom extension structures.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2547"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2547">#2547</a>
        </td>
        <td>
            <p>Added new NUMERIC mdm matcher for matching phone numbers.  Also added NUMERIC phonetic encoder to support adding NUMERIC encoded search parameter (e.g. if searching for matching phone numbers is required by mdm candidate searching).</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2560"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2560">#2560</a>
        </td>
        <td>
            <p>A new interceptor called <code>OpenApiInterceptor</code> has been added. This interceptor can be registered against FHIR Servers to automatically add support for OpenAPI / Swagger.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2576"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2576">#2576</a>
        </td>
        <td>
            <p>A new header called <code>X-Upsert-Extistence-Check</code> can now be added to JPA server <em>Create with Client-Assigned ID</em> operations (aka Upsert) in order to improve performance when loading data that is known to not exist by skipping the resource existence check.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2579"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2579">#2579</a>
        </td>
        <td>
            <p>When using the JPA server in offset mode, the count+offset information is now passed to the SQL query, resulting in better performance. Thanks to Tuomo Ala-Vannesluoma for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2585"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2585">#2585</a>
        </td>
        <td>
            <p>When automatically creating a placeholder reference that is set to auto-populate identifiers, logic has been improved. If the reference does not contain an identifier, but the inline match URL does, the identifier found in the match URL will be added to the target. If both are populated, they will both be added to the target.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2590"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2590">#2590</a>
        </td>
        <td>
            <p>When resources are created using package load, the new resources will use the same IDs as were provided in with the resource definitions in the package, if they exist. If the ids are numeric, a prefix of 'npm-' will be added.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2644"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2644">#2644</a>
        </td>
        <td>
            <p>Support for validating BCP-47 (language) codes against the FHIR Languages and All-Languages ValueSets has been improved.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2659"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2659">#2659</a>
        </td>
        <td>
            <p>The MSSQL-specific index definition for the ForcedId table in the JPA server has been enhanced to include an INCLUDE() clause, which should significantly improve performance.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2662"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2662">#2662</a>
        </td>
        <td>
            <p>It is now possible to declare database migrations as being mandatory even when running in schema initialization mode.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2457"></a>
            <span style="color: #64c2d1; font-size: 1.1em;">
                <i class="fa fa-rocket"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2457">#2457</a>
        </td>
        <td>
            <p>A regression in HAPI FHIR 5.3.0 resulted in concurrent searches being executed in a sequential (and not parallel) fashion in some circumstances.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2462"></a>
            <span style="color: #64c2d1; font-size: 1.1em;">
                <i class="fa fa-rocket"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2462">#2462</a>
        </td>
        <td>
            <p>Several optimizations have been made to the JPA server transaction processor that should result in improved performance, particularly when processing large transaction Bundles, such as transactions containing many entries, or transactions containing very large entries.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2462"></a>
            <span style="color: #64c2d1; font-size: 1.1em;">
                <i class="fa fa-rocket"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2462">#2462</a>
        </td>
        <td>
            <p>The HAPI FHIR parser will now preserve the order of contained resources across round-trip parse/serialize passes.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2576"></a>
            <span style="color: #64c2d1; font-size: 1.1em;">
                <i class="fa fa-rocket"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2576">#2576</a>
        </td>
        <td>
            <p>A new PID-to-forced-ID cache, and a new optional Match-URL-to-PID cache have been added. These can improve write performance when doing large loads.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2576"></a>
            <span style="color: #64c2d1; font-size: 1.1em;">
                <i class="fa fa-rocket"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2576">#2576</a>
        </td>
        <td>
            <p>The generated search SQL statements have been optimized for simple JPA server searches containing only one parameter. In this case, an unnecessary JOIN has been removed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2446"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2446">#2446</a>
        </td>
        <td>
            <p>DaoConfig setting for <a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-storage/ca/uhn/fhir/jpa/api/config/DaoConfig.html#setPopulateIdentifierInAutoCreatedPlaceholderReferenceTargets(boolean)">Populate Identifier In Auto Created Placeholder Reference Targets</a> now defaults to <code>true</code>.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2513"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2513">#2513</a>
        </td>
        <td>
            <p>PointCutLatch now works with IPointcut instead of Pointcut.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2634"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2634">#2634</a>
        </td>
        <td>
            <p>Custom Search Parameters may now have FHIRPath expressions up to 500 characters long, up from 200.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2648"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2648">#2648</a>
        </td>
        <td>
            <p>The ConsentInterceptor no longer fully runs on calls to <code>/metadata</code> or during the <code>$meta</code> operation.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2655"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2655">#2655</a>
        </td>
        <td>
            <p>Added a new configuration option to DaoConfig, <code>setInternalSynchronousSearchSize()</code>, this controls the loadSynchronousUpTo() during internal operations such as delete with expunge, and certain CodeSystem searches.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-1644"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/1644">#1644</a>
        </td>
        <td>
            <p>An SQL syntax error was corrected when using the JPA server terminology services to pre-expand valuesets when using Oracle Database.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-1731"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/1731">#1731</a>
        </td>
        <td>
            <p>When storing resources in the JPA server, extensions in <code>Resource.meta</code> were not preserved, nor were any contents in <code>Bundle.entry.resource.meta</code>. Both of these things are now correctly persisted and returned. Thanks to Sean McIlvenna for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-1953"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/1953">#1953</a>
        </td>
        <td>
            <p>A crash was fixed when performing a FHIR read on a partitioned server, where the requested ID is not known. Thanks to Umberto Cappellini for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2397"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2404">#2404</a>
        </td>
        <td>
            <p>Supplementary characters in the parameters might cause errors when calculating hash values</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2417"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2417">#2417</a>
        </td>
        <td>
            <p>A NullPointerException was corrected when indexing resources containing an indexed Period field that had a start but not an end defined.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2426"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2426">#2426</a>
        </td>
        <td>
            <p>When using the Generic Client, search invocations where the parameters are supplied using <code>.where(Map)</code> did not include search modifiers such as <code>:exact</code> in the search URL. Thanks to GitHub user @granadacoder for reporting this issue!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2458"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2458">#2458</a>
        </td>
        <td>
            <p><code>HasParam#doGetQueryParameterQualifier()</code> returned a malformed modifier. For example, the modifier for <code>_has:Observation:patient:code=123</code> was returned as <code>Observation:code:123</code> when it should be <code>:Observation:patient:code</code>. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2462"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2462">#2462</a>
        </td>
        <td>
            <p>References from a contained resource to the containing resource are now possible in the JPA server.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2466"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2466">#2466</a>
        </td>
        <td>
            <p>When performainfg a search using a date search parameter, invalid values (e.g. <code>date=foo</code>) resulted in a confusing error message. This has been improved.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2468"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2468">#2468</a>
        </td>
        <td>
            <p>Running a manual reindex of data failed on a partitioned server with an interceptor error. This has been corrected. Thanks to Ajay Shekar for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2471"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2471">#2471</a>
        </td>
        <td>
            <p>An NPE was fixed when performing highly concurrent system requests while using the ResourceVersionConflictResolutionStrategy interceptor.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2479"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2479">#2479</a>
        </td>
        <td>
            <p>the create-package command of the HAPI FHIR CLI was not correctly adding the <code>fhirVersions</code> section to the generated package.json. This has been fixed</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2493"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2493">#2493</a>
        </td>
        <td>
            <p>A database deadlock in Postgresql was observed when uploading large terminology CodeSystems using deferred uploading. Thanks to Tyge Folke Nielsen for reporting and suggesting a fix!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2505"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2505">#2505</a>
        </td>
        <td>
            <p>An incorrect path caused the select2 library to fail to load in the HAPI FHIR testpage overlay modue. Thanks to Ari Ruotsalainen for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2515"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2515">#2515</a>
        </td>
        <td>
            <p>Fixed issues with application of survivorship rules when matching golden record to a single resource</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2526"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2526">#2526</a>
        </td>
        <td>
            <p>Added Operation section to Conformance Statement.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2528"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2528">#2528</a>
        </td>
        <td>
            <p>An issue with compartment definitions in R5 models was fixed. This issue caused some authorization rules to reject valid requests. Thanks to Patrick Palacin for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2533"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2533">#2533</a>
        </td>
        <td>
            <p>When issuing a request for a specific Resource and also specifying an _include param, the referenced resource is not returned when there is only 1 version of the referenced resource available. When there are more than 1 versions available, the referenced resource is returned in the response bundle.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2535"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2535">#2535</a>
        </td>
        <td>
            <p>An issue with package installer involving logical StructureDefinition resources was fixed. Package registry will no longer attempt to generate a snapshot for logical StructureDefinition resources if one is not already provided in the resource definition.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2543"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2543">#2543</a>
        </td>
        <td>
            <p>When issuing a request for a specific Resource and also specifying an _include param, the proper historical referenced resource is not returned when there are more than 1 versions of the referenced resource available, after the reference has been changed from the original version 1 to some other version. When there are more than 1 versions available, and the referring resource had previously referred to version 1 but now refers to version 4, the resource returned in the response bundle is for version 1.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2556"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2556">#2556</a>
        </td>
        <td>
            <p>Fixed a bug which would cause Bulk Export to fail when run in a partitioned environment.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2571"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2571">#2571</a>
        </td>
        <td>
            <p>Added support for deleting resources to BundleBuilder via method <code>addTransactionDeleteEntry</code>.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2577"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2577">#2577</a>
        </td>
        <td>
            <p>When running the <code>$apply-codesystem-delta-add</code> operation, code properties were not correctly saved. Thanks to Hanan Awwad for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2620"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2620">#2620</a>
        </td>
        <td>
            <p>When creating resources in a JPA server under highly concurrent conditions, creating a new tag across multiple threads could result in a race condition leaving an invalid entry in the tag cache. This resulted in new instances of this tag being unavailable for creation.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2620"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2620">#2620</a>
        </td>
        <td>
            <p>In the JPA server, if a tag was defined with the exact same system and code as a security label on a different resource, the tag would be incorrectly filed as a security label (and vice versa). This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2623"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2623">#2623</a>
        </td>
        <td>
            <p>When performing a search via GraphQL, token search parameters were not properly parsed. Thanks to Jari Maijenburg for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2632"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2632">#2632</a>
        </td>
        <td>
            <p>Certain calls to the $evaluate-measure operation could result in a NullPointerException.  This is now corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2641"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2641">#2641</a>
        </td>
        <td>
            <p>A vulnerability in the FHIR History operation was resolved. When running HAPI FHIR JPA server on a large database (i.e. containing a large number of resources), if a malicious user performs a large number of concurrent FHIR History (<code>_history</code>) operations, an expensive <code>COUNT()</code> statement can consume all available database resources and ultimately trigger resource exhaustion and disable the server. A huge thanks to <strong>Zachary Minneker at Security Innovation</strong> who discovered and submitted a responsible disclosure of this issue.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2643"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2643">#2643</a>
        </td>
        <td>
            <p>When using Auto-Version references in the JPA server, if an auto-versioned reference within a FHIR transaction pointed to a resource that did not actually change during the transaction (e.g. an update/PUT where the resource body was unchanged from the existing version), the reference would point to an incremented version number even though none existed. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2647"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2647">#2647</a>
        </td>
        <td>
            <p>The new Match URL cache suffered from potential cache poisoning if multiple threads performed a condiitonal create operation at the same time.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2654"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2654">#2654</a>
        </td>
        <td>
            <p>The id of ValueSet resources in ValueSet expansions was null.  This has been corrected.  The id of the expanded value set is now the same as the id of the value set that was expanded.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2661"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2661">#2661</a>
        </td>
        <td>
            <p>Fixed a bug where delete with expunge would throw a LazyInitializationException if there were delete conflicts, and the expunge batch size was smaller than the available list of resources to delete.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2194"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-shield-alt"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2194">#2194</a>
        </td>
        <td>
            <p>The Testpage Overlay now suppresses authorization headers from the output headers. Thanks to Tuomo Ala-Vannesluoma for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.4.0-2454"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-shield-alt"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2454">#2454</a>
        </td>
        <td>
            <p>Addressed the following CVE report by bumping the minor version for Jetty in the root POM: <ul> <li> <a href="https://nvd.nist.gov/vuln/detail/CVE-2020-27223">CVE-2020-27223</a> </li> </ul></p>
        </td>
    </tr>
</table>
</section>

<a name="change5.4.0-0"></a>
<section id="section11"><h1 data-toc-text="HAPI FHIR 5.3.3  (Odyssey)"><span class="helpHeaderSectionNumberBadge">1.1.11</span>HAPI FHIR 5.3.3  (Odyssey)</h1><a href="changelog.html#change5.4.0-0" class="helpSectionLink">&nbsp;</a><a name="release-information-9"></a>
<h2>Release Information</h2>
<p><strong>Released:</strong> 2021-04-26</p>
<p><strong>Codename:</strong> (Odyssey)</p>
<a name="changes-9"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change5.3.3-2417"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2417">#2417</a>
        </td>
        <td>
            <p>A NullPointerException was corrected when indexing resources containing an indexed Period field that had a start but not an end defined.</p>
        </td>
    </tr>
</table>
</section>

<a name="change5.3.3-2417"></a>
<section id="section12"><h1 data-toc-text="HAPI FHIR 5.3.2  (Odyssey)"><span class="helpHeaderSectionNumberBadge">1.1.12</span>HAPI FHIR 5.3.2  (Odyssey)</h1><a href="changelog.html#change5.3.3-2417" class="helpSectionLink">&nbsp;</a><a name="release-information-10"></a>
<h2>Release Information</h2>
<p><strong>Released:</strong> 2021-04-14</p>
<p><strong>Codename:</strong> (Odyssey)</p>
<a name="changes-10"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change5.3.2-2533"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2533">#2533</a>
        </td>
        <td>
            <p>When issuing a request for a specific Resource and also specifying an _include param, the referenced resource is not returned when there is only 1 version of the referenced resource available. When there are more than 1 versions available, the referenced resource is returned in the response bundle.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.2-2543"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2543">#2543</a>
        </td>
        <td>
            <p>When issuing a request for a specific Resource and also specifying an _include param, the proper historical referenced resource is not returned when there are more than 1 versions of the referenced resource available, after the reference has been changed from the original version 1 to some other version. When there are more than 1 versions available, and the referring resource had previously referred to version 1 but now refers to version 4, the resource returned in the response bundle is for version 1.</p>
        </td>
    </tr>
</table>
</section>

<a name="change5.3.2-2533"></a>
<section id="section13"><h1 data-toc-text="HAPI FHIR 5.3.1  (Odyssey)"><span class="helpHeaderSectionNumberBadge">1.1.13</span>HAPI FHIR 5.3.1  (Odyssey)</h1><a href="changelog.html#change5.3.2-2533" class="helpSectionLink">&nbsp;</a><a name="release-information-11"></a>
<h2>Release Information</h2>
<p><strong>Released:</strong> 2021-03-11</p>
<p><strong>Codename:</strong> (Odyssey)</p>
<a name="changes-11"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change5.3.1-2407"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2407">#2407</a>
        </td>
        <td>
            <p>When using the JPA server in partitioned mode with a partition interceptor, the interceptor is now called even for resource types that can not be placed in a non-default partition (e.g. SearchParameter, CodeSystem, etc.). The interceptor may return null or default in this case, but can include a non-null partition date if needed.</p>
        </td>
    </tr>
</table>
</section>

<a name="change5.3.1-2407"></a>
<section id="section14"><h1 data-toc-text="HAPI FHIR 5.3.0  (Odyssey)"><span class="helpHeaderSectionNumberBadge">1.1.14</span>HAPI FHIR 5.3.0  (Odyssey)</h1><a href="changelog.html#change5.3.1-2407" class="helpSectionLink">&nbsp;</a><a name="release-information-12"></a>
<h2>Release Information</h2>
<p><strong>Released:</strong> 2021-02-18</p>
<p><strong>Codename:</strong> (Odyssey)</p>
<a name="changes-12"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change5.3.0-0"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>The version of a few dependencies have been bumped to the latest versions (dependent HAPI modules listed in brackets): <ul> <li>SLF4j (All Modules): 1.7.28 -&gt; 1.7.30</li> <li>Jackson (All Modules): 2.11.2 -&gt; 2.12.1</li> <li>Woodstox (XML FHIR Parser): 4.4.1 -&gt; 6.2.3 (Note that the Maven groupId has changed from <code>org.codehaus.woodstox</code> to <code>com.fasterxml.woodstox</code> and the Maven artifactId has changed from <code>woodstox-core-asl</code> to <code>woodstox-core</code> for this library)</li> <li>Spring (JPA): 5.2.3.RELEASE -&gt; 5.2.9.RELEASE</li> <li>Datasource-Proxy (JPA): 1.5.1 -&gt; 1.7</li> <li>Apache Commons Collections4 (JPA): 4.3 -&gt; 4.4</li> <li>Jetty (JPA Starter): 9.4.30.v20200611 -&gt; 9.4.35.v20201120</li> <li>Guava (JP): 29.0-jre -&gt; 30.1-jre</li> <li>Hibernate ORM (JPA Server): 5.4.22.FINAL -&gt; 5.4.26.FINAL</li> <li>Spring (JPA Server): 5.2.9.RELEASE -&gt; 5.3.3</li> <li>Spring Data (JPA Server): 2.2.0.RELEASE -&gt; 2.4.2</li> <li>Hibernate Search (JPA Server): 5.11.5.FINAL -&gt; 6.0.0.Final</li> <li>Lucene(HAPI FHIR JPA Server): 5.5.5 -&gt; 8.7.0</li> <li>Spring Boot (JPA Starter): 2.2.6.RELEASE -&gt; 2.4.1</li> <li>JANSI (CLI):  1.18 -&gt; 2.1.1</li> <li>PH-Schematron (SCH Validator): 5.2.0 -&gt; 5.6.5</li> <li>PH-Commons (SCH Validator): 5.3.8 -&gt; 9.5.4</li> </ul></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2054"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2054">#2054</a>
        </td>
        <td>
            <p>Two new switches have neen added to FhirInstanceValidator to suppress optional warning messages. Thanks to Anders Havn for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2177"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2177">#2177</a>
        </td>
        <td>
            <p>Redesigning the Enterprise Master Patient Index solution to a Master Data Management solution. The new MDM solution supports other FHIR resources where EMPI only allowed Person resource to be used. For example, if MDM is occurring on a patient, we will create a new Patient, and tag that patient as a Golden Record. This means that several things have changed: <ul> <li>Provider methods that pointed to type of Person are now server-level operations in which you specify a resource type.</li> <li>Link updating and querying no longer rely on Person IDs, but instead on arbitrary resource ids, depending on the resource type you are referring to in MDM.</li> <li>Change to the EMPI config to require a list of mdmTypes.</li> </ul> <br/> Code-level changes include the following changes: <ul> <li>hapi-fhir-server-empi and hapi-fhir-jpaserver-empi Maven projects were renamed to hapi-fhir-server-mdm and hapi-fhir-jpaserver-mdm</li> <li>All classes were refactored to use correct terms, e.g. Golden Resource in place of Person</li> <li>Message channel was renamed from <code>empi</code> to <code>mdm</code></li> <li>Subscriptions were renamed to <code>mdm-RESOURCE_TYPE</code>, where RESOURCE_TYPE is an MDM type configured in mdmTypes section of the configuration file</li> <li>Configuration file was renamed from empi-rules.json to mdm-rules.json</li> <li>Log file was changed from empi-troubleshooting.log to mdm-troubleshooting.log</li> </ul></p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2182"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2182">#2182</a>
        </td>
        <td>
            <p>When a unique index SearchParameter violation is blocked, the error message will now include the ID of the relevant SearchParameter, in order to make troubleshooting easier.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2191"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2191">#2191</a>
        </td>
        <td>
            <p>Added a new IResourceChangeListenerRegistry service and modified SearchParamRegistry and SubscriptionRegistry to use it.
This service contains an in-memory list of all registered {@link IResourceChangeListener} instances along with their caches and other details needed to maintain those caches. Register an {@link IResourceChangeListener} instance with this service to be notified when resources you care about are changed. This service quickly notifies listeners of changes that happened on the local process and also eventually notifies listeners of changes that were made by remote processes.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2198"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2198">#2198</a>
        </td>
        <td>
            <p>It is now possible for read operations (read/history/search/etc) in a partitioned server to read across more than one partition if the partitioning interceptor indicates multiple partitions.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2213"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2213">#2213</a>
        </td>
        <td>
            <p>Non release (i.e. SNAPSHOT) builds of HAPI FHIR will now include the Git revision hash as well as the build date in the version string that is logged on initialization, and included in the default server X-Powered-By string. Release builds are not affected by this change.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2221"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2221">#2221</a>
        </td>
        <td>
            <p>The error message returned by the transaction processor has been improved for the case where a transaction uses an unsupported/disabled resource types.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2224"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2234">#2234</a>
        </td>
        <td>
            <p>When performing a conditional create/update containing the email search parameter, any <code>+</code> characters will now be interpreted as actually being a plus symbol instead of being unescaped into a space character. This is technically a deviation from how URLs should be parsed, but allows for a sensible behaviour in a spot where no spaces are allowed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2237"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2237">#2237</a>
        </td>
        <td>
            <p>It is now possible to use a parameter of type <code>IBaseResource</code> or <code>IBaseBundle</code> as the parameter on a @Transaction method in a plain server.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2261"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2261">#2261</a>
        </td>
        <td>
            <p>Optionally supports storage and search in canonical form of the quantity value which is defined by 'http://unitsofmeasure.org'; please check ModelConfig for the configuration. No changes were made to the existing behaviour.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2264"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2264">#2264</a>
        </td>
        <td>
            <p>The interceptor framework will now recognize and invoke <code>@Hook</code> methods that have an access level of public, protected, or default. Previously only public methods were recognized.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2264"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2264">#2264</a>
        </td>
        <td>
            <p>A new interceptor called the <a href="../validation/repository_validating_interceptor.html">Repository Validating Interceptor</a> has been added. This new interceptor allows a HAPI FHIR JPA Server to declare rules about mandatory profiles that all resources stored to the server must declare conformance and/or correctly validate against.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2282"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2282">#2282</a>
        </td>
        <td>
            <p>When performing a ValueSet expansion where the valueset to be expanded includes a display name for concepts it is explicitly including, this display name will be propagated to the expansion if no other display is available. Thanks to Hanan Awwad for the contribution!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2310"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2310">#2310</a>
        </td>
        <td>
            <p>A new utility called FHIRPathResourceGeneratorR4 has been added. This class can be used to build and populate a resource model object using FHIRPath expressions. Thanks to Marcel P for the contribution!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2323"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2323">#2323</a>
        </td>
        <td>
            <p>The JPA server has a new setting on the <code>ModelConfig</code> bean called &quot;AutoVersionReferencesAtPaths&quot;. Using this setting, the server can be configured to add the current target resource version ID to any resource references found in a resource being stored. In addition, a new setting has been added to the JPA ModelConfig bean that allows <code>_include</code> statements to respect versioned references, and actually include the correct version for the reference.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2330"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-plus"></i>
            </span>
        </td>
        <td>
        </td>
        <td>
            <p>Added support for the $evaluate-measure Operation as part of adding CQL support.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2302"></a>
            <span style="color: #64c2d1; font-size: 1.1em;">
                <i class="fa fa-rocket"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2302">#2302</a>
        </td>
        <td>
            <p>The JPA server generated SQL for date search parameters has been streamlined to avoid the use of redundant OR expressions that slow down performance in some cases.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2190"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2190">#2190</a>
        </td>
        <td>
            <p>Updates to Hibernate Search require a full reindexing of all indexed fulltext data, which is held in Lucene or Elasticsearch. Users using elasticsearch for fulltext indexing must upgrade to Elasticsearch 7.10.0.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2197"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2197">#2197</a>
        </td>
        <td>
            <p>The resource IDs for several LOINC resources were corrected. Thanks to Steven Wagers for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2264"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2264">#2264</a>
        </td>
        <td>
            <p>The experimental <code>TransactionBuilder</code> helper class has been renamed to <code>BundleBuilder</code> as it now has utility methods for working with other types of Bundles too.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2290"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2290">#2290</a>
        </td>
        <td>
            <p>In the JPA server. the SQL datatype used to index quantities has been changed from <code>NUMBER(19,2)</code> to <code>double precision</code> (or equivalents depending on platform). This improves the query support for ssearching on very small quantities.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2340"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2340">#2340</a>
        </td>
        <td>
            <p>The <code>@ResourceDef</code> annotation has been marked as inheritable, so it does not need to be explicitly added to custom structures that extend built-in structures. Thanks to Marcelo Avancini for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2372"></a>
            <span style="color: #129c49; font-size: 1.1em;">
                <i class="fa fa-cogs"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2372">#2372</a>
        </td>
        <td>
            <p>ElasticsearchHibernatePropertiesBuilder will now reject any REST url which is protocol-aware. Protocol information should be set in the protocol field of the builder.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2175"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2175">#2175</a>
        </td>
        <td>
            <p>Expanding a ValueSet using a filter now evaluates the display with left-matching by string token, case-insensitive.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2180"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2180">#2180</a>
        </td>
        <td>
            <p>Loading a package without a description was causing a null pointer exception. This has been fixed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2183"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2183">#2183</a>
        </td>
        <td>
            <p>The <code>CodeSystem/$subsumes</code> operation inadvertantly reversed the meanings of the CodeA and CodeB parameters, resulting in <code>subsumes</code> and <code>subsumed-by</code> responses being reversed. This has been corrected. Thanks to Rob Hausam for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2192"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2192">#2192</a>
        </td>
        <td>
            <p>ApacheRestfulClientFactory now uses system properties for proxy configuration. Thanks to Vladimir Nemergut for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2195"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2195">#2195</a>
        </td>
        <td>
            <p>When performing a ValueSet expansion with a filter a large pre-expanded ValueSet (more than 1000 codes), the filter failed to find concepts appearing after the first thousand. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2205"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2205">#2205</a>
        </td>
        <td>
            <p>The new JPA SearchBuilder failed to perform FHIR Searches on Oracle DB with an invalid SQL error. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2208"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2208">#2208</a>
        </td>
        <td>
            <p>When performing a JPA server search on a partitioned server, searches with only the <code>_id</code> parameter and no other parameters did not include the partition selector in the generated SQL, resulting in leakage across partitions. Thanks to GitHub user @jtheory for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2211"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2211">#2211</a>
        </td>
        <td>
            <p>The recent EMPI project accidentally caused a split package in ca.uhn.fhir.rest.server. This has been corrected. Thanks to Bill Denton for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2214"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2214">#2214</a>
        </td>
        <td>
            <p>When using the validator from within the JPA server, validating CapabilityStatement resources failed with an error when trying to load linked SearchParameter resources. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2215"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2215">#2215</a>
        </td>
        <td>
            <p>When using a partitioned JPA server, auto-create placeholder targets did not work if the partition interceptor was registered against the server (e.g. for a multitenancy configuration). This has been corrected. Thanks to Rob Whelan for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2262"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2262">#2262</a>
        </td>
        <td>
            <p>Sorting of search results was not working for MySQL, MSSQL and MariaDB due to recent changes made to handle sorting of nullable columns. This has now been fixed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2265"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2265">#2265</a>
        </td>
        <td>
            <p>The new optimized SQL Generator introduced in HAPI FHIR 5.2.0 did not correctly bind variables for SQL Server queries, making the search functionality unusable. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2269"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2269">#2269</a>
        </td>
        <td>
            <p>A database index in the JPA server was added in HAPI FHIR 5.2.0 and Smile CDR 2020.11 that exceeded the maximum index length in MySQL, preventing server upgrades on that database platform. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2271"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2271">#2271</a>
        </td>
        <td>
            <p>Attempts to load IG packs when partitioning was enabled, resulted in nullpointer exceptions. This has now been fixed and IG packs and conformance resources will be loaded to the DEFAULT partition.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2273"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2273">#2273</a>
        </td>
        <td>
            <p>An incorrect HTML resource path led to a utility JavaScript library failing to load in the TestPage Overlay module. Thanks to Alejandro Medina for the pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2297"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2297">#2297</a>
        </td>
        <td>
            <p>When performing a FHIR create using the HAPI FHIR client, if the payload is a Bundle resource the individual resources in the Bundle had their IDs removed by the client during payload serialization. This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2298"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2298">#2298</a>
        </td>
        <td>
            <p>A recent change inadvertently caused an issue with DB migration utility such that it would attempt to drop indexes even when the <code>dry-run</code> option was specified. This has been fixed.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2299"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2299">#2299</a>
        </td>
        <td>
            <p>The BulkExportDaoSvc bean was forgotten from the BaseConfig context. It has been added.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2309"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2309">#2309</a>
        </td>
        <td>
            <p>In the JPA server, HumanName.name.text was not being indexed and therefore was not searchable.  This has been corrected.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2327"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2327">#2327</a>
        </td>
        <td>
            <p>The $expand filter parameter was not matching the ValueSet display value in all cases.  E.g. a ValueSet with name 'abc def ghi' would match 'abc def' and 'def' but not 'def ghi'.  This has been corrected so the ValueSet will match the filter if any substring of the ValueSet display value matches the $expand filter.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2361"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2361">#2361</a>
        </td>
        <td>
            <p>Unrecognized search param prefix strings were silently discarded.  This is now an error.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2365"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2365">#2365</a>
        </td>
        <td>
            <p>A bug in the InMemoryResourceMatcher caused AND clauses to be treated as OR clauses. Thanks to Jari Maijenburg for the report and pull request!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2369"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2369">#2369</a>
        </td>
        <td>
            <p>When using the Consent Interceptor, the <code>startOperation</code> method was not invoked for search paging requests. This has been corrected. Thanks to Tue Toft Nørgård for reporting!</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2378"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2361">#2361</a>
        </td>
        <td>
            <p>As of version 2.69, the LOINC Top2000CommonLabResultsSi.csv and Top2000CommonLabResultsUs.csv became optional. The Terminology Loader Service has been updated to reflect this change.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2220"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-shield-alt"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2220">#2220</a>
        </td>
        <td>
            <p>An important security issue with the JPA Server was solved. This issue applies only to JPA servers running in partitioned mode. When performing searches on a partitioned server, search results from previously cached searches against different partitions may be returned, potentially leaking data across partitions. This issue has been resolved.</p>
        </td>
    </tr>
    <tr>
        <td>
            <a name="change5.3.0-2229"></a>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2229">#2229</a>
        </td>
        <td>
            <p>Remove support for the <code>upload-igpack</code> command. This command is no longer supported, as the IGPack format has been withdrawn and replaced with the FHIR NPM Package specification, which is also supported by HAPI FHIR</p>
        </td>
    </tr>
</table>
</section>

<a name="change5.3.0-0"></a>
<section id="section15"><h1 data-toc-text="HAPI FHIR 5.2.1  (Numbats)"><span class="helpHeaderSectionNumberBadge">1.1.15</span>HAPI FHIR 5.2.1  (Numbats)</h1><a href="changelog.html#change5.3.0-0" class="helpSectionLink">&nbsp;</a><a name="release-information-13"></a>
<h2>Release Information</h2>
<p><strong>Released:</strong> 2021-01-20</p>
<p><strong>Codename:</strong> (Numbats)</p>
<a name="changes-13"></a>
<h2>Changes</h2>
<table class="table">
    <tr>
        <td>
            <a name="change5.2.1-2298"></a>
            <span style="color: #ee2324; font-size: 1.1em;">
                <i class="fa fa-bug"></i>
            </span>
        </td>
        <td>
            <a href="https://github.com/hapifhir/hapi-fhir/issues/2298">#2298</a>
        </td>
        <td>
            <p>A recent change inadvertently caused an issue with DB migration utility such that it would attempt to drop indexes even when the <code>dry-run</code> option was specified. This has been fixed.</p>
        </td>
    </tr>
</table>
</section>


				</div>

				<div class="hide-sm-and-below">
</div>
				

	<!-- footer -->
	<footer class="page-footer">
		<div class="container-fluid text-center text-md-left">
			<hr class="bottom-hr">
			<div class="row pt-3 pb-3">
				<div class="col-md-3 text-center">
					<img src="../../images/logos/raccoon-forwards.png" alt="raccoon logo without text" width="100">
				</div>
				<div class="col-md-2">
					<p class="footer-heading">HAPI HAPI</p>
					<ul class="list-unstyled">
						<li><a href="https://hapifhir.io/hapi-fhir/">Home</a></li>
						<li><a href="../getting_started/downloading_and_importing.html">Download</a></li>
						<li><a href="changelog.html">Changelog</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/license.html">License</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/blog/">News</a></li>
					</ul>
					<p class="footer-heading">TEST SERVER</p>
					<ul class="list-unstyled">
						<li><a href="http://hapi.fhir.org/" target="_blank">Public Test Server</a></li>
					</ul>
					<p class="footer-heading">SUPPORT</p>
					<ul class="list-unstyled">
						<li><a href="https://smilecdr.com/" target="_blank">Smile CDR</a></li>
					</ul>
				</div>
				<div class="col-md-2">
					<p class="footer-heading">USING HAPI</p>
					<ul class="list-unstyled">
						<li><a href="../index.html">Documentation</a></li>
						<li><a href="#">Command Line Tool (cli)</a></li>
					</ul>
					<p class="footer-heading">STARTER PROJECTS</p>
					<ul class="list-unstyled">
						<li><a href="https://github.com/FirelyTeam/fhirstarters/tree/master/java/hapi-fhirstarters-client-skeleton">Client</a></li>
						<li><a href="https://github.com/FirelyTeam/fhirstarters/tree/master/java/hapi-fhirstarters-rest-server-skeleton">Plain Server</a></li>
						<li><a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter">JPA Server</a></li>
					</ul>
				</div>
				<div class="col-md-2">
					<p class="footer-heading">JAVADOCS</p>
					<ul class="list-unstyled">
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-base/">Core API</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-structures-dstu2/">Model API (DSTU2)</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-structures-dstu3/">Model API (DSTU3)</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-structures-r4/">Model API (R4)</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-structures-r5/">Model API (R5)</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-client/">Client API</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-server/">Plain Server - API</a></li>
                  <li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-server-mdm/">Plain Server - MDM API</a></li>
                  <li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-server-openapi/">Plain Server - OpenAPI</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-storage/">JPA Server - API</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-jpaserver-model/">JPA Server - Model</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-jpaserver-searchparam/">JPA Server - Search Param Support</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-jpaserver-subscription/">JPA Server - Subscription</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-jpaserver-base/">JPA Server - Base</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-validation/">Validation API</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-converter/">Version Converter API</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-jaxrsserver-base/">Server API (JAX-RS)</a></li>
					</ul>
				</div>
				<div class="col-md-3">
					<p class="footer-heading">GET HELP</p>
					<ul class="list-unstyled">
						<li><a href="https://github.com/jamesagnew/hapi-fhir/wiki/Getting-Help" target="_blank">How to Ask for Help (read this first!)</a></li>
						<li><a href="https://groups.google.com/d/forum/hapi-fhir" target="_blank">Google Group (Ask Questions)</a></li>
						<li><a href="https://github.com/jamesagnew/hapi-fhir/issues" target="_blank">Issue Tracker (Report Bugs/Request Features)</a></li>
						<li><a href="https://chat.fhir.org/" target="_blank">FHIR.org Chat (Live Chat with FHIR Implementors)</a></li>
						<li><a href="../appendix/faq.html">Frequently Asked Questions (FAQ)</a></li>
					</ul>
					<p class="footer-heading">CONTRIBUTE</p>
					<ul class="list-unstyled">
						<li><a href="../contributing/hacking_guide.html">Guide to Hacking HAPI</a></li>
						<li><a href="https://hapifhir.io/hapi-fhir/contributors.html">Contributors</a></li>
					</ul>
				</div>
			</div>
		</div>

		<!-- footer copyright -->
		<div class="footer-copyright text-center py-3">
			<p>Updated: 2021-11-23T14:49:28.319Z — Made with <i style="color: #FF6600;" class="fas fa-heart"></i> in <a href="https://www.cbc.ca/news/canada/toronto/raccoon-city-wildlife-in-toronto-1.2742231"><img src="https://hapifhir.io/hapi-fhir/images/icons/raccoon.svg" alt="Raccoon" width="20"></a>
		</div>

	</footer>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-1395874-5"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-1395874-5');
	</script>


			</div>

		</div>

	</div>


<script type="application/javascript">

	$(function () {

		/*
		 * Build the TOC links on the right hand side by
		 * scanning all of the sections in the documentation
		 */
		const sections = [];
		const navLinks = [];
		var nav = $('<ul class="nav flex-column">');
		$('#toc').append(nav);

		$('#tocscroll section').each(function () {
			sections.push($(this));
			let sectionName = $(this).find('h1').first().attr('data-toc-text');
			let sectionId = $(this).prevAll('a').attr('name');
			let navLink = $('<a class="nav-link" href="#' + sectionId + '">' + sectionName + '</a>');
			navLinks.push(navLink);
			nav.append($('<li class="nav-item">').append(navLink));
		});

		/*
		 * Update the active link on the right hand side TOC when the
		 * user scrolls up and down the page. Create a function for this,
		 * then call the function once and register it to call again
		 * any time the user scrolls
		 */
		function updateTocScroll() {
			const sectionOffset = $('#tocscroll').offset().top;
			let visible = false;
			for (var idx = 0; idx < sections.length; idx++) {
				var sectionTop = sections[idx].offset().top - sectionOffset + 20;
				if (sectionTop >= 0 && !visible || (idx == sections.length -1 && !visible)) {
					navLinks[idx].addClass('active');
					visible = true;
				} else {
					navLinks[idx].removeClass('active');
				}
			}

		}

		$('#tocscroll').scroll(updateTocScroll);
		updateTocScroll();

		/*
	    * When the page first loads, automatically scroll the left docs TOC
	    * scroller to the actively displayed page.
	    */
		var activetop = $('.activechapter').offset().top - $('#tocscroll').offset().top - 30;
		if (activetop < 100) {
			activetop = 0;
		}
		$('#navcolumn').scrollTop(activetop);

		function updateNavScroll() {
			if ($('#navcolumn').scrollTop() < 100) {
				$('.button-scroll-up-to-search').fadeOut(500);
			} else {
				$('.button-scroll-up-to-search').fadeIn(500);
			}
		}

		updateNavScroll();
		$('#navcolumn').scroll(updateNavScroll);

	});
</script>



<script type="application/javascript">
	function hover(element) {
		element.setAttribute('src', '../../../images/icons/link-grey.html');
	}

	function unhover(element) {
		element.setAttribute('src', '../../../images/icons/smiley-grey.html');
	}

   new ClipboardJS('.clipboardCopyBtn');

</script>
</body>


<!-- Mirrored from hapifhir.io/hapi-fhir/docs/introduction/changelog.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 01 Dec 2021 23:59:36 GMT -->
</html>

